var Pg=e=>{throw TypeError(e)};var tf=(e,t,n)=>t.has(e)||Pg("Cannot "+n);var J=(e,t,n)=>(tf(e,t,"read from private field"),n?n.call(e):t.get(e)),nt=(e,t,n)=>t.has(e)?Pg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Le=(e,t,n,r)=>(tf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),pn=(e,t,n)=>(tf(e,t,"access private method"),n);var mc=(e,t,n,r)=>({set _(o){Le(e,t,o,n)},get _(){return J(e,t,r)}});function N0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ow={exports:{}},td={},kw={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),tS=Symbol.for("react.portal"),nS=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),iS=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),oS=Symbol.for("react.context"),aS=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),cS=Symbol.for("react.memo"),uS=Symbol.for("react.lazy"),Dg=Symbol.iterator;function dS(e){return e===null||typeof e!="object"?null:(e=Dg&&e[Dg]||e["@@iterator"],typeof e=="function"?e:null)}var Pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Mw={};function Ca(e,t,n){this.props=e,this.context=t,this.refs=Mw,this.updater=n||Pw}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ca.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lw(){}Lw.prototype=Ca.prototype;function k0(e,t,n){this.props=e,this.context=t,this.refs=Mw,this.updater=n||Pw}var P0=k0.prototype=new Lw;P0.constructor=k0;Dw(P0,Ca.prototype);P0.isPureReactComponent=!0;var Mg=Array.isArray,Bw=Object.prototype.hasOwnProperty,D0={current:null},Fw={key:!0,ref:!0,__self:!0,__source:!0};function jw(e,t,n){var r,o={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)Bw.call(t,r)&&!Fw.hasOwnProperty(r)&&(o[r]=t[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var m=Array(h),p=0;p<h;p++)m[p]=arguments[p+2];o.children=m}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:ql,type:e,key:a,ref:u,props:o,_owner:D0.current}}function fS(e,t){return{$$typeof:ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function M0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ql}function hS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lg=/\/+/g;function nf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hS(""+e.key):t.toString(36)}function Qc(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case ql:case tS:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+nf(u,0):r,Mg(o)?(n="",e!=null&&(n=e.replace(Lg,"$&/")+"/"),Qc(o,t,n,"",function(p){return p})):o!=null&&(M0(o)&&(o=fS(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Lg,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Mg(e))for(var h=0;h<e.length;h++){a=e[h];var m=r+nf(a,h);u+=Qc(a,t,n,m,o)}else if(m=dS(e),typeof m=="function")for(e=m.call(e),h=0;!(a=e.next()).done;)a=a.value,m=r+nf(a,h++),u+=Qc(a,t,n,m,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function wc(e,t,n){if(e==null)return e;var r=[],o=0;return Qc(e,r,"","",function(a){return t.call(n,a,o++)}),r}function gS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},Jc={transition:null},pS={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:D0};function Uw(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:wc,forEach:function(e,t,n){wc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wc(e,function(){t++}),t},toArray:function(e){return wc(e,function(t){return t})||[]},only:function(e){if(!M0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=Ca;Xe.Fragment=nS;Xe.Profiler=iS;Xe.PureComponent=k0;Xe.StrictMode=rS;Xe.Suspense=lS;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pS;Xe.act=Uw;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dw({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=D0.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(m in t)Bw.call(t,m)&&!Fw.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&h!==void 0?h[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){h=Array(m);for(var p=0;p<m;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:ql,type:e.type,key:o,ref:a,props:r,_owner:u}};Xe.createContext=function(e){return e={$$typeof:oS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sS,_context:e},e.Consumer=e};Xe.createElement=jw;Xe.createFactory=function(e){var t=jw.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:aS,render:e}};Xe.isValidElement=M0;Xe.lazy=function(e){return{$$typeof:uS,_payload:{_status:-1,_result:e},_init:gS}};Xe.memo=function(e,t){return{$$typeof:cS,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=Jc.transition;Jc.transition={};try{e()}finally{Jc.transition=t}};Xe.unstable_act=Uw;Xe.useCallback=function(e,t){return In.current.useCallback(e,t)};Xe.useContext=function(e){return In.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return In.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return In.current.useEffect(e,t)};Xe.useId=function(){return In.current.useId()};Xe.useImperativeHandle=function(e,t,n){return In.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return In.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return In.current.useReducer(e,t,n)};Xe.useRef=function(e){return In.current.useRef(e)};Xe.useState=function(e){return In.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return In.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return In.current.useTransition()};Xe.version="18.3.1";kw.exports=Xe;var T=kw.exports;const ue=O0(T),L0=N0({__proto__:null,default:ue},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=T,wS=Symbol.for("react.element"),xS=Symbol.for("react.fragment"),yS=Object.prototype.hasOwnProperty,vS=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ES={key:!0,ref:!0,__self:!0,__source:!0};function Vw(e,t,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)yS.call(t,r)&&!ES.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:wS,type:e,key:a,ref:u,props:o,_owner:vS.current}}td.Fragment=xS;td.jsx=Vw;td.jsxs=Vw;Ow.exports=td;var I=Ow.exports,Ww={exports:{}},er={},zw={exports:{}},Hw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,Q){var de=Y.length;Y.push(Q);e:for(;0<de;){var Ie=de-1>>>1,me=Y[Ie];if(0<o(me,Q))Y[Ie]=Q,Y[de]=me,de=Ie;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var Q=Y[0],de=Y.pop();if(de!==Q){Y[0]=de;e:for(var Ie=0,me=Y.length,Ne=me>>>1;Ie<Ne;){var be=2*(Ie+1)-1,st=Y[be],pe=be+1,he=Y[pe];if(0>o(st,de))pe<me&&0>o(he,st)?(Y[Ie]=he,Y[pe]=de,Ie=pe):(Y[Ie]=st,Y[be]=de,Ie=be);else if(pe<me&&0>o(he,de))Y[Ie]=he,Y[pe]=de,Ie=pe;else break e}}return Q}function o(Y,Q){var de=Y.sortIndex-Q.sortIndex;return de!==0?de:Y.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,b=3,E=!1,P=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var Q=n(p);Q!==null;){if(Q.callback===null)r(p);else if(Q.startTime<=Y)r(p),Q.sortIndex=Q.expirationTime,t(m,Q);else break;Q=n(p)}}function M(Y){if(S=!1,_(Y),!P)if(n(m)!==null)P=!0,le(j);else{var Q=n(p);Q!==null&&ie(M,Q.startTime-Y)}}function j(Y,Q){P=!1,S&&(S=!1,N($),$=-1),E=!0;var de=b;try{for(_(Q),v=n(m);v!==null&&(!(v.expirationTime>Q)||Y&&!ge());){var Ie=v.callback;if(typeof Ie=="function"){v.callback=null,b=v.priorityLevel;var me=Ie(v.expirationTime<=Q);Q=e.unstable_now(),typeof me=="function"?v.callback=me:v===n(m)&&r(m),_(Q)}else r(m);v=n(m)}if(v!==null)var Ne=!0;else{var be=n(p);be!==null&&ie(M,be.startTime-Q),Ne=!1}return Ne}finally{v=null,b=de,E=!1}}var V=!1,F=null,$=-1,z=5,re=-1;function ge(){return!(e.unstable_now()-re<z)}function Z(){if(F!==null){var Y=e.unstable_now();re=Y;var Q=!0;try{Q=F(!0,Y)}finally{Q?fe():(V=!1,F=null)}}else V=!1}var fe;if(typeof A=="function")fe=function(){A(Z)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,H=te.port2;te.port1.onmessage=Z,fe=function(){H.postMessage(null)}}else fe=function(){k(Z,0)};function le(Y){F=Y,V||(V=!0,fe())}function ie(Y,Q){$=k(function(){Y(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){P||E||(P=!0,le(j))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var de=b;b=Q;try{return Y()}finally{b=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var de=b;b=Y;try{return Q()}finally{b=de}},e.unstable_scheduleCallback=function(Y,Q,de){var Ie=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,Y){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=de+me,Y={id:y++,callback:Q,priorityLevel:Y,startTime:de,expirationTime:me,sortIndex:-1},de>Ie?(Y.sortIndex=de,t(p,Y),n(m)===null&&Y===n(p)&&(S?(N($),$=-1):S=!0,ie(M,de-Ie))):(Y.sortIndex=me,t(m,Y),P||E||(P=!0,le(j))),Y},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(Y){var Q=b;return function(){var de=b;b=Q;try{return Y.apply(this,arguments)}finally{b=de}}}})(Hw);zw.exports=Hw;var bS=zw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS=T,Jn=bS;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $w=new Set,vl={};function io(e,t){ua(e,t),ua(e+"Capture",t)}function ua(e,t){for(vl[e]=t,e=0;e<t.length;e++)$w.add(t[e])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=Object.prototype.hasOwnProperty,SS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},Fg={};function AS(e){return eh.call(Fg,e)?!0:eh.call(Bg,e)?!1:SS.test(e)?Fg[e]=!0:(Bg[e]=!0,!1)}function _S(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TS(e,t,n,r){if(t===null||typeof t>"u"||_S(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rn(e,t,n,r,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dn[e]=new Rn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dn[t]=new Rn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dn[e]=new Rn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dn[e]=new Rn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dn[e]=new Rn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dn[e]=new Rn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dn[e]=new Rn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dn[e]=new Rn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dn[e]=new Rn(e,5,!1,e.toLowerCase(),null,!1,!1)});var B0=/[\-:]([a-z])/g;function F0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B0,F0);dn[t]=new Rn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B0,F0);dn[t]=new Rn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B0,F0);dn[t]=new Rn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dn[e]=new Rn(e,1,!1,e.toLowerCase(),null,!0,!0)});function j0(e,t,n,r){var o=dn.hasOwnProperty(t)?dn[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TS(t,n,o,r)&&(n=null),r||o===null?AS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bi=CS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),th=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),V0=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),Kw=Symbol.for("react.offscreen"),jg=Symbol.iterator;function $a(e){return e===null||typeof e!="object"?null:(e=jg&&e[jg]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,rf;function tl(e){if(rf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rf=t&&t[1]||""}return`
`+rf+e}var sf=!1;function of(e,t){if(!e||sf)return"";sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var m=`
`+o[u].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=u&&0<=h);break}}}finally{sf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tl(e):""}function IS(e){switch(e.tag){case 5:return tl(e.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return e=of(e.type,!1),e;case 11:return e=of(e.type.render,!1),e;case 1:return e=of(e.type,!0),e;default:return""}}function ih(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case Po:return"Portal";case th:return"Profiler";case U0:return"StrictMode";case nh:return"Suspense";case rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xw:return(e.displayName||"Context")+".Consumer";case Gw:return(e._context.displayName||"Context")+".Provider";case V0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W0:return t=e.displayName||null,t!==null?t:ih(e.type)||"Memo";case Mi:t=e._payload,e=e._init;try{return ih(e(t))}catch{}}return null}function RS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ih(t);case 8:return t===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NS(e){var t=qw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yc(e){e._valueTracker||(e._valueTracker=NS(e))}function Yw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sh(e,t){var n=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ug(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=as(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zw(e,t){t=t.checked,t!=null&&j0(e,"checked",t,!1)}function oh(e,t){Zw(e,t);var n=as(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ah(e,t.type,n):t.hasOwnProperty("defaultValue")&&ah(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ah(e,t,n){(t!=="number"||mu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nl=Array.isArray;function Go(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+as(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function lh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(nl(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:as(n)}}function Qw(e,t){var n=as(t.value),r=as(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ch(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function El(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OS=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(e){OS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),al[t]=al[e]})});function tx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||al.hasOwnProperty(e)&&al[e]?(""+t).trim():t+"px"}function nx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=tx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var kS=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uh(e,t){if(t){if(kS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function dh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fh=null;function z0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hh=null,Xo=null,Ko=null;function Hg(e){if(e=Ql(e)){if(typeof hh!="function")throw Error(se(280));var t=e.stateNode;t&&(t=od(t),hh(e.stateNode,e.type,t))}}function rx(e){Xo?Ko?Ko.push(e):Ko=[e]:Xo=e}function ix(){if(Xo){var e=Xo,t=Ko;if(Ko=Xo=null,Hg(e),t)for(e=0;e<t.length;e++)Hg(t[e])}}function sx(e,t){return e(t)}function ox(){}var af=!1;function ax(e,t,n){if(af)return e(t,n);af=!0;try{return sx(e,t,n)}finally{af=!1,(Xo!==null||Ko!==null)&&(ox(),ix())}}function bl(e,t){var n=e.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var gh=!1;if(mi)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){gh=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{gh=!1}function PS(e,t,n,r,o,a,u,h,m){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var ll=!1,wu=null,xu=!1,ph=null,DS={onError:function(e){ll=!0,wu=e}};function MS(e,t,n,r,o,a,u,h,m){ll=!1,wu=null,PS.apply(DS,arguments)}function LS(e,t,n,r,o,a,u,h,m){if(MS.apply(this,arguments),ll){if(ll){var p=wu;ll=!1,wu=null}else throw Error(se(198));xu||(xu=!0,ph=p)}}function so(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $g(e){if(so(e)!==e)throw Error(se(188))}function BS(e){var t=e.alternate;if(!t){if(t=so(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return $g(o),e;if(a===r)return $g(o),t;a=a.sibling}throw Error(se(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function cx(e){return e=BS(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var dx=Jn.unstable_scheduleCallback,Gg=Jn.unstable_cancelCallback,FS=Jn.unstable_shouldYield,jS=Jn.unstable_requestPaint,jt=Jn.unstable_now,US=Jn.unstable_getCurrentPriorityLevel,H0=Jn.unstable_ImmediatePriority,fx=Jn.unstable_UserBlockingPriority,yu=Jn.unstable_NormalPriority,VS=Jn.unstable_LowPriority,hx=Jn.unstable_IdlePriority,nd=null,Jr=null;function WS(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(nd,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:$S,zS=Math.log,HS=Math.LN2;function $S(e){return e>>>=0,e===0?32:31-(zS(e)/HS|0)|0}var Ec=64,bc=4194304;function rl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=rl(h):(a&=u,a!==0&&(r=rl(a)))}else u=n&~o,u!==0?r=rl(u):a!==0&&(r=rl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pr(t),o=1<<n,r|=e[n],t&=~o;return r}function GS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Pr(a),h=1<<u,m=o[u];m===-1?(!(h&n)||h&r)&&(o[u]=GS(h,t)):m<=t&&(e.expiredLanes|=h),a&=~h}}function mh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gx(){var e=Ec;return Ec<<=1,!(Ec&4194240)&&(Ec=64),e}function lf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=n}function KS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Pr(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function $0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pr(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ot=0;function px(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mx,G0,wx,xx,yx,wh=!1,Cc=[],Yi=null,Zi=null,Qi=null,Cl=new Map,Sl=new Map,Bi=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function Xa(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=Ql(t),t!==null&&G0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function YS(e,t,n,r,o){switch(t){case"focusin":return Yi=Xa(Yi,e,t,n,r,o),!0;case"dragenter":return Zi=Xa(Zi,e,t,n,r,o),!0;case"mouseover":return Qi=Xa(Qi,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Cl.set(a,Xa(Cl.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Sl.set(a,Xa(Sl.get(a)||null,e,t,n,r,o)),!0}return!1}function vx(e){var t=Ms(e.target);if(t!==null){var n=so(t);if(n!==null){if(t=n.tag,t===13){if(t=lx(n),t!==null){e.blockedOn=t,yx(e.priority,function(){wx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fh=r,n.target.dispatchEvent(r),fh=null}else return t=Ql(n),t!==null&&G0(t),e.blockedOn=n,!1;t.shift()}return!0}function Kg(e,t,n){eu(e)&&n.delete(t)}function ZS(){wh=!1,Yi!==null&&eu(Yi)&&(Yi=null),Zi!==null&&eu(Zi)&&(Zi=null),Qi!==null&&eu(Qi)&&(Qi=null),Cl.forEach(Kg),Sl.forEach(Kg)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,wh||(wh=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,ZS)))}function Al(e){function t(o){return Ka(o,e)}if(0<Cc.length){Ka(Cc[0],e);for(var n=1;n<Cc.length;n++){var r=Cc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yi!==null&&Ka(Yi,e),Zi!==null&&Ka(Zi,e),Qi!==null&&Ka(Qi,e),Cl.forEach(t),Sl.forEach(t),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)vx(n),n.blockedOn===null&&Bi.shift()}var qo=bi.ReactCurrentBatchConfig,Eu=!0;function QS(e,t,n,r){var o=ot,a=qo.transition;qo.transition=null;try{ot=1,X0(e,t,n,r)}finally{ot=o,qo.transition=a}}function JS(e,t,n,r){var o=ot,a=qo.transition;qo.transition=null;try{ot=4,X0(e,t,n,r)}finally{ot=o,qo.transition=a}}function X0(e,t,n,r){if(Eu){var o=xh(e,t,n,r);if(o===null)xf(e,t,r,bu,n),Xg(e,r);else if(YS(o,e,t,n,r))r.stopPropagation();else if(Xg(e,r),t&4&&-1<qS.indexOf(e)){for(;o!==null;){var a=Ql(o);if(a!==null&&mx(a),a=xh(e,t,n,r),a===null&&xf(e,t,r,bu,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else xf(e,t,r,null,n)}}var bu=null;function xh(e,t,n,r){if(bu=null,e=z0(r),e=Ms(e),e!==null)if(t=so(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bu=e,null}function Ex(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(US()){case H0:return 1;case fx:return 4;case yu:case VS:return 16;case hx:return 536870912;default:return 16}default:return 16}}var $i=null,K0=null,tu=null;function bx(){if(tu)return tu;var e,t=K0,n=t.length,r,o="value"in $i?$i.value:$i.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[a-r];r++);return tu=o.slice(e,1<r?1-r:void 0)}function nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sc(){return!0}function qg(){return!1}function tr(e){function t(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sc:qg,this.isPropagationStopped=qg,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),t}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q0=tr(Sa),Zl=Ot({},Sa,{view:0,detail:0}),eA=tr(Zl),cf,uf,qa,rd=Ot({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(cf=e.screenX-qa.screenX,uf=e.screenY-qa.screenY):uf=cf=0,qa=e),cf)},movementY:function(e){return"movementY"in e?e.movementY:uf}}),Yg=tr(rd),tA=Ot({},rd,{dataTransfer:0}),nA=tr(tA),rA=Ot({},Zl,{relatedTarget:0}),df=tr(rA),iA=Ot({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),sA=tr(iA),oA=Ot({},Sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aA=tr(oA),lA=Ot({},Sa,{data:0}),Zg=tr(lA),cA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dA[e])?!!t[e]:!1}function Y0(){return fA}var hA=Ot({},Zl,{key:function(e){if(e.key){var t=cA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y0,charCode:function(e){return e.type==="keypress"?nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gA=tr(hA),pA=Ot({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=tr(pA),mA=Ot({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y0}),wA=tr(mA),xA=Ot({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yA=tr(xA),vA=Ot({},rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=tr(vA),bA=[9,13,27,32],Z0=mi&&"CompositionEvent"in window,cl=null;mi&&"documentMode"in document&&(cl=document.documentMode);var CA=mi&&"TextEvent"in window&&!cl,Cx=mi&&(!Z0||cl&&8<cl&&11>=cl),Jg=" ",ep=!1;function Sx(e,t){switch(e){case"keyup":return bA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ax(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mo=!1;function SA(e,t){switch(e){case"compositionend":return Ax(t);case"keypress":return t.which!==32?null:(ep=!0,Jg);case"textInput":return e=t.data,e===Jg&&ep?null:e;default:return null}}function AA(e,t){if(Mo)return e==="compositionend"||!Z0&&Sx(e,t)?(e=bx(),tu=K0=$i=null,Mo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cx&&t.locale!=="ko"?null:t.data;default:return null}}var _A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_A[e.type]:t==="textarea"}function _x(e,t,n,r){rx(r),t=Cu(t,"onChange"),0<t.length&&(n=new q0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ul=null,_l=null;function TA(e){Bx(e,0)}function id(e){var t=Fo(e);if(Yw(t))return e}function IA(e,t){if(e==="change")return t}var Tx=!1;if(mi){var ff;if(mi){var hf="oninput"in document;if(!hf){var np=document.createElement("div");np.setAttribute("oninput","return;"),hf=typeof np.oninput=="function"}ff=hf}else ff=!1;Tx=ff&&(!document.documentMode||9<document.documentMode)}function rp(){ul&&(ul.detachEvent("onpropertychange",Ix),_l=ul=null)}function Ix(e){if(e.propertyName==="value"&&id(_l)){var t=[];_x(t,_l,e,z0(e)),ax(TA,t)}}function RA(e,t,n){e==="focusin"?(rp(),ul=t,_l=n,ul.attachEvent("onpropertychange",Ix)):e==="focusout"&&rp()}function NA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return id(_l)}function OA(e,t){if(e==="click")return id(t)}function kA(e,t){if(e==="input"||e==="change")return id(t)}function PA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:PA;function Tl(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!eh.call(t,o)||!Mr(e[o],t[o]))return!1}return!0}function ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sp(e,t){var n=ip(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ip(n)}}function Rx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nx(){for(var e=window,t=mu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mu(e.document)}return t}function Q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DA(e){var t=Nx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rx(n.ownerDocument.documentElement,n)){if(r!==null&&Q0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=sp(n,a);var u=sp(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MA=mi&&"documentMode"in document&&11>=document.documentMode,Lo=null,yh=null,dl=null,vh=!1;function op(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vh||Lo==null||Lo!==mu(r)||(r=Lo,"selectionStart"in r&&Q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Tl(dl,r)||(dl=r,r=Cu(yh,"onSelect"),0<r.length&&(t=new q0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lo)))}function Ac(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bo={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},gf={},Ox={};mi&&(Ox=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function sd(e){if(gf[e])return gf[e];if(!Bo[e])return e;var t=Bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ox)return gf[e]=t[n];return e}var kx=sd("animationend"),Px=sd("animationiteration"),Dx=sd("animationstart"),Mx=sd("transitionend"),Lx=new Map,ap="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(e,t){Lx.set(e,t),io(t,[e])}for(var pf=0;pf<ap.length;pf++){var mf=ap[pf],LA=mf.toLowerCase(),BA=mf[0].toUpperCase()+mf.slice(1);ds(LA,"on"+BA)}ds(kx,"onAnimationEnd");ds(Px,"onAnimationIteration");ds(Dx,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(Mx,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function lp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,LS(r,t,void 0,e),e.currentTarget=null}function Bx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var h=r[u],m=h.instance,p=h.currentTarget;if(h=h.listener,m!==a&&o.isPropagationStopped())break e;lp(o,h,p),a=m}else for(u=0;u<r.length;u++){if(h=r[u],m=h.instance,p=h.currentTarget,h=h.listener,m!==a&&o.isPropagationStopped())break e;lp(o,h,p),a=m}}}if(xu)throw e=ph,xu=!1,ph=null,e}function xt(e,t){var n=t[Ah];n===void 0&&(n=t[Ah]=new Set);var r=e+"__bubble";n.has(r)||(Fx(t,e,2,!1),n.add(r))}function wf(e,t,n){var r=0;t&&(r|=4),Fx(n,e,r,t)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Il(e){if(!e[_c]){e[_c]=!0,$w.forEach(function(n){n!=="selectionchange"&&(FA.has(n)||wf(n,!1,e),wf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_c]||(t[_c]=!0,wf("selectionchange",!1,t))}}function Fx(e,t,n,r){switch(Ex(t)){case 1:var o=QS;break;case 4:o=JS;break;default:o=X0}n=o.bind(null,t,n,e),o=void 0,!gh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xf(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===o||m.nodeType===8&&m.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Ms(h),u===null)return;if(m=u.tag,m===5||m===6){r=a=u;continue e}h=h.parentNode}}r=r.return}ax(function(){var p=a,y=z0(n),v=[];e:{var b=Lx.get(e);if(b!==void 0){var E=q0,P=e;switch(e){case"keypress":if(nu(n)===0)break e;case"keydown":case"keyup":E=gA;break;case"focusin":P="focus",E=df;break;case"focusout":P="blur",E=df;break;case"beforeblur":case"afterblur":E=df;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=nA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=wA;break;case kx:case Px:case Dx:E=sA;break;case Mx:E=yA;break;case"scroll":E=eA;break;case"wheel":E=EA;break;case"copy":case"cut":case"paste":E=aA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Qg}var S=(t&4)!==0,k=!S&&e==="scroll",N=S?b!==null?b+"Capture":null:b;S=[];for(var A=p,_;A!==null;){_=A;var M=_.stateNode;if(_.tag===5&&M!==null&&(_=M,N!==null&&(M=bl(A,N),M!=null&&S.push(Rl(A,M,_)))),k)break;A=A.return}0<S.length&&(b=new E(b,P,null,n,y),v.push({event:b,listeners:S}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",b&&n!==fh&&(P=n.relatedTarget||n.fromElement)&&(Ms(P)||P[wi]))break e;if((E||b)&&(b=y.window===y?y:(b=y.ownerDocument)?b.defaultView||b.parentWindow:window,E?(P=n.relatedTarget||n.toElement,E=p,P=P?Ms(P):null,P!==null&&(k=so(P),P!==k||P.tag!==5&&P.tag!==6)&&(P=null)):(E=null,P=p),E!==P)){if(S=Yg,M="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(S=Qg,M="onPointerLeave",N="onPointerEnter",A="pointer"),k=E==null?b:Fo(E),_=P==null?b:Fo(P),b=new S(M,A+"leave",E,n,y),b.target=k,b.relatedTarget=_,M=null,Ms(y)===p&&(S=new S(N,A+"enter",P,n,y),S.target=_,S.relatedTarget=k,M=S),k=M,E&&P)t:{for(S=E,N=P,A=0,_=S;_;_=bo(_))A++;for(_=0,M=N;M;M=bo(M))_++;for(;0<A-_;)S=bo(S),A--;for(;0<_-A;)N=bo(N),_--;for(;A--;){if(S===N||N!==null&&S===N.alternate)break t;S=bo(S),N=bo(N)}S=null}else S=null;E!==null&&cp(v,b,E,S,!1),P!==null&&k!==null&&cp(v,k,P,S,!0)}}e:{if(b=p?Fo(p):window,E=b.nodeName&&b.nodeName.toLowerCase(),E==="select"||E==="input"&&b.type==="file")var j=IA;else if(tp(b))if(Tx)j=kA;else{j=NA;var V=RA}else(E=b.nodeName)&&E.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(j=OA);if(j&&(j=j(e,p))){_x(v,j,n,y);break e}V&&V(e,b,p),e==="focusout"&&(V=b._wrapperState)&&V.controlled&&b.type==="number"&&ah(b,"number",b.value)}switch(V=p?Fo(p):window,e){case"focusin":(tp(V)||V.contentEditable==="true")&&(Lo=V,yh=p,dl=null);break;case"focusout":dl=yh=Lo=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,op(v,n,y);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":op(v,n,y)}var F;if(Z0)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Mo?Sx(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Cx&&n.locale!=="ko"&&(Mo||$!=="onCompositionStart"?$==="onCompositionEnd"&&Mo&&(F=bx()):($i=y,K0="value"in $i?$i.value:$i.textContent,Mo=!0)),V=Cu(p,$),0<V.length&&($=new Zg($,e,null,n,y),v.push({event:$,listeners:V}),F?$.data=F:(F=Ax(n),F!==null&&($.data=F)))),(F=CA?SA(e,n):AA(e,n))&&(p=Cu(p,"onBeforeInput"),0<p.length&&(y=new Zg("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:p}),y.data=F))}Bx(v,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=bl(e,n),a!=null&&r.unshift(Rl(e,a,o)),a=bl(e,t),a!=null&&r.push(Rl(e,a,o))),e=e.return}return r}function bo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cp(e,t,n,r,o){for(var a=t._reactName,u=[];n!==null&&n!==r;){var h=n,m=h.alternate,p=h.stateNode;if(m!==null&&m===r)break;h.tag===5&&p!==null&&(h=p,o?(m=bl(n,a),m!=null&&u.unshift(Rl(n,m,h))):o||(m=bl(n,a),m!=null&&u.push(Rl(n,m,h)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var jA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(jA,`
`).replace(UA,"")}function Tc(e,t,n){if(t=up(t),up(e)!==t&&n)throw Error(se(425))}function Su(){}var Eh=null,bh=null;function Ch(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sh=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(zA)}:Sh;function zA(e){setTimeout(function(){throw e})}function yf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Al(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Al(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Aa,Nl="__reactProps$"+Aa,wi="__reactContainer$"+Aa,Ah="__reactEvents$"+Aa,HA="__reactListeners$"+Aa,$A="__reactHandles$"+Aa;function Ms(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wi]||n[Zr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fp(e);e!==null;){if(n=e[Zr])return n;e=fp(e)}return t}e=n,n=e.parentNode}return null}function Ql(e){return e=e[Zr]||e[wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function od(e){return e[Nl]||null}var _h=[],jo=-1;function fs(e){return{current:e}}function vt(e){0>jo||(e.current=_h[jo],_h[jo]=null,jo--)}function ht(e,t){jo++,_h[jo]=e.current,e.current=t}var ls={},vn=fs(ls),jn=fs(!1),Ks=ls;function da(e,t){var n=e.type.contextTypes;if(!n)return ls;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Un(e){return e=e.childContextTypes,e!=null}function Au(){vt(jn),vt(vn)}function hp(e,t,n){if(vn.current!==ls)throw Error(se(168));ht(vn,t),ht(jn,n)}function jx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(se(108,RS(e)||"Unknown",o));return Ot({},n,r)}function _u(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ls,Ks=vn.current,ht(vn,e),ht(jn,jn.current),!0}function gp(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=jx(e,t,Ks),r.__reactInternalMemoizedMergedChildContext=e,vt(jn),vt(vn),ht(vn,e)):vt(jn),ht(jn,n)}var di=null,ad=!1,vf=!1;function Ux(e){di===null?di=[e]:di.push(e)}function GA(e){ad=!0,Ux(e)}function hs(){if(!vf&&di!==null){vf=!0;var e=0,t=ot;try{var n=di;for(ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}di=null,ad=!1}catch(o){throw di!==null&&(di=di.slice(e+1)),dx(H0,hs),o}finally{ot=t,vf=!1}}return null}var Uo=[],Vo=0,Tu=null,Iu=0,lr=[],cr=0,qs=null,hi=1,gi="";function Rs(e,t){Uo[Vo++]=Iu,Uo[Vo++]=Tu,Tu=e,Iu=t}function Vx(e,t,n){lr[cr++]=hi,lr[cr++]=gi,lr[cr++]=qs,qs=e;var r=hi;e=gi;var o=32-Pr(r)-1;r&=~(1<<o),n+=1;var a=32-Pr(t)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,hi=1<<32-Pr(t)+o|n<<o|r,gi=a+e}else hi=1<<a|n<<o|r,gi=e}function J0(e){e.return!==null&&(Rs(e,1),Vx(e,1,0))}function e1(e){for(;e===Tu;)Tu=Uo[--Vo],Uo[Vo]=null,Iu=Uo[--Vo],Uo[Vo]=null;for(;e===qs;)qs=lr[--cr],lr[cr]=null,gi=lr[--cr],lr[cr]=null,hi=lr[--cr],lr[cr]=null}var Zn=null,Yn=null,_t=!1,kr=null;function Wx(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zn=e,Yn=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zn=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qs!==null?{id:hi,overflow:gi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zn=e,Yn=null,!0):!1;default:return!1}}function Th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ih(e){if(_t){var t=Yn;if(t){var n=t;if(!pp(e,t)){if(Th(e))throw Error(se(418));t=Ji(n.nextSibling);var r=Zn;t&&pp(e,t)?Wx(r,n):(e.flags=e.flags&-4097|2,_t=!1,Zn=e)}}else{if(Th(e))throw Error(se(418));e.flags=e.flags&-4097|2,_t=!1,Zn=e}}}function mp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function Ic(e){if(e!==Zn)return!1;if(!_t)return mp(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ch(e.type,e.memoizedProps)),t&&(t=Yn)){if(Th(e))throw zx(),Error(se(418));for(;t;)Wx(e,t),t=Ji(t.nextSibling)}if(mp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yn=Ji(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=Zn?Ji(e.stateNode.nextSibling):null;return!0}function zx(){for(var e=Yn;e;)e=Ji(e.nextSibling)}function fa(){Yn=Zn=null,_t=!1}function t1(e){kr===null?kr=[e]:kr.push(e)}var XA=bi.ReactCurrentBatchConfig;function Ya(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function Rc(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wp(e){var t=e._init;return t(e._payload)}function Hx(e){function t(N,A){if(e){var _=N.deletions;_===null?(N.deletions=[A],N.flags|=16):_.push(A)}}function n(N,A){if(!e)return null;for(;A!==null;)t(N,A),A=A.sibling;return null}function r(N,A){for(N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function o(N,A){return N=rs(N,A),N.index=0,N.sibling=null,N}function a(N,A,_){return N.index=_,e?(_=N.alternate,_!==null?(_=_.index,_<A?(N.flags|=2,A):_):(N.flags|=2,A)):(N.flags|=1048576,A)}function u(N){return e&&N.alternate===null&&(N.flags|=2),N}function h(N,A,_,M){return A===null||A.tag!==6?(A=Tf(_,N.mode,M),A.return=N,A):(A=o(A,_),A.return=N,A)}function m(N,A,_,M){var j=_.type;return j===Do?y(N,A,_.props.children,M,_.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mi&&wp(j)===A.type)?(M=o(A,_.props),M.ref=Ya(N,A,_),M.return=N,M):(M=cu(_.type,_.key,_.props,null,N.mode,M),M.ref=Ya(N,A,_),M.return=N,M)}function p(N,A,_,M){return A===null||A.tag!==4||A.stateNode.containerInfo!==_.containerInfo||A.stateNode.implementation!==_.implementation?(A=If(_,N.mode,M),A.return=N,A):(A=o(A,_.children||[]),A.return=N,A)}function y(N,A,_,M,j){return A===null||A.tag!==7?(A=Gs(_,N.mode,M,j),A.return=N,A):(A=o(A,_),A.return=N,A)}function v(N,A,_){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Tf(""+A,N.mode,_),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xc:return _=cu(A.type,A.key,A.props,null,N.mode,_),_.ref=Ya(N,null,A),_.return=N,_;case Po:return A=If(A,N.mode,_),A.return=N,A;case Mi:var M=A._init;return v(N,M(A._payload),_)}if(nl(A)||$a(A))return A=Gs(A,N.mode,_,null),A.return=N,A;Rc(N,A)}return null}function b(N,A,_,M){var j=A!==null?A.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:h(N,A,""+_,M);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:return _.key===j?m(N,A,_,M):null;case Po:return _.key===j?p(N,A,_,M):null;case Mi:return j=_._init,b(N,A,j(_._payload),M)}if(nl(_)||$a(_))return j!==null?null:y(N,A,_,M,null);Rc(N,_)}return null}function E(N,A,_,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return N=N.get(_)||null,h(A,N,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xc:return N=N.get(M.key===null?_:M.key)||null,m(A,N,M,j);case Po:return N=N.get(M.key===null?_:M.key)||null,p(A,N,M,j);case Mi:var V=M._init;return E(N,A,_,V(M._payload),j)}if(nl(M)||$a(M))return N=N.get(_)||null,y(A,N,M,j,null);Rc(A,M)}return null}function P(N,A,_,M){for(var j=null,V=null,F=A,$=A=0,z=null;F!==null&&$<_.length;$++){F.index>$?(z=F,F=null):z=F.sibling;var re=b(N,F,_[$],M);if(re===null){F===null&&(F=z);break}e&&F&&re.alternate===null&&t(N,F),A=a(re,A,$),V===null?j=re:V.sibling=re,V=re,F=z}if($===_.length)return n(N,F),_t&&Rs(N,$),j;if(F===null){for(;$<_.length;$++)F=v(N,_[$],M),F!==null&&(A=a(F,A,$),V===null?j=F:V.sibling=F,V=F);return _t&&Rs(N,$),j}for(F=r(N,F);$<_.length;$++)z=E(F,N,$,_[$],M),z!==null&&(e&&z.alternate!==null&&F.delete(z.key===null?$:z.key),A=a(z,A,$),V===null?j=z:V.sibling=z,V=z);return e&&F.forEach(function(ge){return t(N,ge)}),_t&&Rs(N,$),j}function S(N,A,_,M){var j=$a(_);if(typeof j!="function")throw Error(se(150));if(_=j.call(_),_==null)throw Error(se(151));for(var V=j=null,F=A,$=A=0,z=null,re=_.next();F!==null&&!re.done;$++,re=_.next()){F.index>$?(z=F,F=null):z=F.sibling;var ge=b(N,F,re.value,M);if(ge===null){F===null&&(F=z);break}e&&F&&ge.alternate===null&&t(N,F),A=a(ge,A,$),V===null?j=ge:V.sibling=ge,V=ge,F=z}if(re.done)return n(N,F),_t&&Rs(N,$),j;if(F===null){for(;!re.done;$++,re=_.next())re=v(N,re.value,M),re!==null&&(A=a(re,A,$),V===null?j=re:V.sibling=re,V=re);return _t&&Rs(N,$),j}for(F=r(N,F);!re.done;$++,re=_.next())re=E(F,N,$,re.value,M),re!==null&&(e&&re.alternate!==null&&F.delete(re.key===null?$:re.key),A=a(re,A,$),V===null?j=re:V.sibling=re,V=re);return e&&F.forEach(function(Z){return t(N,Z)}),_t&&Rs(N,$),j}function k(N,A,_,M){if(typeof _=="object"&&_!==null&&_.type===Do&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:e:{for(var j=_.key,V=A;V!==null;){if(V.key===j){if(j=_.type,j===Do){if(V.tag===7){n(N,V.sibling),A=o(V,_.props.children),A.return=N,N=A;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mi&&wp(j)===V.type){n(N,V.sibling),A=o(V,_.props),A.ref=Ya(N,V,_),A.return=N,N=A;break e}n(N,V);break}else t(N,V);V=V.sibling}_.type===Do?(A=Gs(_.props.children,N.mode,M,_.key),A.return=N,N=A):(M=cu(_.type,_.key,_.props,null,N.mode,M),M.ref=Ya(N,A,_),M.return=N,N=M)}return u(N);case Po:e:{for(V=_.key;A!==null;){if(A.key===V)if(A.tag===4&&A.stateNode.containerInfo===_.containerInfo&&A.stateNode.implementation===_.implementation){n(N,A.sibling),A=o(A,_.children||[]),A.return=N,N=A;break e}else{n(N,A);break}else t(N,A);A=A.sibling}A=If(_,N.mode,M),A.return=N,N=A}return u(N);case Mi:return V=_._init,k(N,A,V(_._payload),M)}if(nl(_))return P(N,A,_,M);if($a(_))return S(N,A,_,M);Rc(N,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,A!==null&&A.tag===6?(n(N,A.sibling),A=o(A,_),A.return=N,N=A):(n(N,A),A=Tf(_,N.mode,M),A.return=N,N=A),u(N)):n(N,A)}return k}var ha=Hx(!0),$x=Hx(!1),Ru=fs(null),Nu=null,Wo=null,n1=null;function r1(){n1=Wo=Nu=null}function i1(e){var t=Ru.current;vt(Ru),e._currentValue=t}function Rh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yo(e,t){Nu=e,n1=Wo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(n1!==e)if(e={context:e,memoizedValue:t,next:null},Wo===null){if(Nu===null)throw Error(se(308));Wo=e,Nu.dependencies={lanes:0,firstContext:e}}else Wo=Wo.next=e;return t}var Ls=null;function s1(e){Ls===null?Ls=[e]:Ls.push(e)}function Gx(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,s1(t)):(n.next=o.next,o.next=n),t.interleaved=n,xi(e,r)}function xi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Li=!1;function o1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,xi(e,n)}return o=r.interleaved,o===null?(t.next=t,s1(r)):(t.next=o.next,o.next=t),r.interleaved=t,xi(e,n)}function ru(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$0(e,n)}}function xp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ou(e,t,n,r){var o=e.updateQueue;Li=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var m=h,p=m.next;m.next=null,u===null?a=p:u.next=p,u=m;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==u&&(h===null?y.firstBaseUpdate=p:h.next=p,y.lastBaseUpdate=m))}if(a!==null){var v=o.baseState;u=0,y=p=m=null,h=a;do{var b=h.lane,E=h.eventTime;if((r&b)===b){y!==null&&(y=y.next={eventTime:E,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var P=e,S=h;switch(b=t,E=n,S.tag){case 1:if(P=S.payload,typeof P=="function"){v=P.call(E,v,b);break e}v=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=S.payload,b=typeof P=="function"?P.call(E,v,b):P,b==null)break e;v=Ot({},v,b);break e;case 2:Li=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,b=o.effects,b===null?o.effects=[h]:b.push(h))}else E={eventTime:E,lane:b,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(p=y=E,m=v):y=y.next=E,u|=b;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;b=h,h=b.next,b.next=null,o.lastBaseUpdate=b,o.shared.pending=null}}while(!0);if(y===null&&(m=v),o.baseState=m,o.firstBaseUpdate=p,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Zs|=u,e.lanes=u,e.memoizedState=v}}function yp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(se(191,o));o.call(r)}}}var Jl={},ei=fs(Jl),Ol=fs(Jl),kl=fs(Jl);function Bs(e){if(e===Jl)throw Error(se(174));return e}function a1(e,t){switch(ht(kl,t),ht(Ol,e),ht(ei,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ch(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ch(t,e)}vt(ei),ht(ei,t)}function ga(){vt(ei),vt(Ol),vt(kl)}function Kx(e){Bs(kl.current);var t=Bs(ei.current),n=ch(t,e.type);t!==n&&(ht(Ol,e),ht(ei,n))}function l1(e){Ol.current===e&&(vt(ei),vt(Ol))}var Rt=fs(0);function ku(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ef=[];function c1(){for(var e=0;e<Ef.length;e++)Ef[e]._workInProgressVersionPrimary=null;Ef.length=0}var iu=bi.ReactCurrentDispatcher,bf=bi.ReactCurrentBatchConfig,Ys=0,Nt=null,Kt=null,nn=null,Pu=!1,fl=!1,Pl=0,KA=0;function mn(){throw Error(se(321))}function u1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mr(e[n],t[n]))return!1;return!0}function d1(e,t,n,r,o,a){if(Ys=a,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iu.current=e===null||e.memoizedState===null?QA:JA,e=n(r,o),fl){a=0;do{if(fl=!1,Pl=0,25<=a)throw Error(se(301));a+=1,nn=Kt=null,t.updateQueue=null,iu.current=e_,e=n(r,o)}while(fl)}if(iu.current=Du,t=Kt!==null&&Kt.next!==null,Ys=0,nn=Kt=Nt=null,Pu=!1,t)throw Error(se(300));return e}function f1(){var e=Pl!==0;return Pl=0,e}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Nt.memoizedState=nn=e:nn=nn.next=e,nn}function gr(){if(Kt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var t=nn===null?Nt.memoizedState:nn.next;if(t!==null)nn=t,Kt=e;else{if(e===null)throw Error(se(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},nn===null?Nt.memoizedState=nn=e:nn=nn.next=e}return nn}function Dl(e,t){return typeof t=="function"?t(e):t}function Cf(e){var t=gr(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=Kt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,m=null,p=a;do{var y=p.lane;if((Ys&y)===y)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var v={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(h=m=v,u=r):m=m.next=v,Nt.lanes|=y,Zs|=y}p=p.next}while(p!==null&&p!==a);m===null?u=r:m.next=h,Mr(r,t.memoizedState)||(Fn=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=m,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,Nt.lanes|=a,Zs|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sf(e){var t=gr(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Mr(a,t.memoizedState)||(Fn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function qx(){}function Yx(e,t){var n=Nt,r=gr(),o=t(),a=!Mr(r.memoizedState,o);if(a&&(r.memoizedState=o,Fn=!0),r=r.queue,h1(Jx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,Ml(9,Qx.bind(null,n,r,o,t),void 0,null),rn===null)throw Error(se(349));Ys&30||Zx(n,t,o)}return o}function Zx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qx(e,t,n,r){t.value=n,t.getSnapshot=r,ey(t)&&ty(e)}function Jx(e,t,n){return n(function(){ey(t)&&ty(e)})}function ey(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mr(e,n)}catch{return!0}}function ty(e){var t=xi(e,1);t!==null&&Dr(t,e,1,-1)}function vp(e){var t=Xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=ZA.bind(null,Nt,e),[t.memoizedState,e]}function Ml(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ny(){return gr().memoizedState}function su(e,t,n,r){var o=Xr();Nt.flags|=e,o.memoizedState=Ml(1|t,n,void 0,r===void 0?null:r)}function ld(e,t,n,r){var o=gr();r=r===void 0?null:r;var a=void 0;if(Kt!==null){var u=Kt.memoizedState;if(a=u.destroy,r!==null&&u1(r,u.deps)){o.memoizedState=Ml(t,n,a,r);return}}Nt.flags|=e,o.memoizedState=Ml(1|t,n,a,r)}function Ep(e,t){return su(8390656,8,e,t)}function h1(e,t){return ld(2048,8,e,t)}function ry(e,t){return ld(4,2,e,t)}function iy(e,t){return ld(4,4,e,t)}function sy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oy(e,t,n){return n=n!=null?n.concat([e]):null,ld(4,4,sy.bind(null,t,e),n)}function g1(){}function ay(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ly(e,t){var n=gr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cy(e,t,n){return Ys&21?(Mr(n,t)||(n=gx(),Nt.lanes|=n,Zs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fn=!0),e.memoizedState=n)}function qA(e,t){var n=ot;ot=n!==0&&4>n?n:4,e(!0);var r=bf.transition;bf.transition={};try{e(!1),t()}finally{ot=n,bf.transition=r}}function uy(){return gr().memoizedState}function YA(e,t,n){var r=ns(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dy(e))fy(t,n);else if(n=Gx(e,t,n,r),n!==null){var o=Tn();Dr(n,e,r,o),hy(n,t,r)}}function ZA(e,t,n){var r=ns(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dy(e))fy(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Mr(h,u)){var m=t.interleaved;m===null?(o.next=o,s1(t)):(o.next=m.next,m.next=o),t.interleaved=o;return}}catch{}finally{}n=Gx(e,t,o,r),n!==null&&(o=Tn(),Dr(n,e,r,o),hy(n,t,r))}}function dy(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function fy(e,t){fl=Pu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$0(e,n)}}var Du={readContext:hr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},QA={readContext:hr,useCallback:function(e,t){return Xr().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Ep,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,su(4194308,4,sy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return su(4194308,4,e,t)},useInsertionEffect:function(e,t){return su(4,2,e,t)},useMemo:function(e,t){var n=Xr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YA.bind(null,Nt,e),[r.memoizedState,e]},useRef:function(e){var t=Xr();return e={current:e},t.memoizedState=e},useState:vp,useDebugValue:g1,useDeferredValue:function(e){return Xr().memoizedState=e},useTransition:function(){var e=vp(!1),t=e[0];return e=qA.bind(null,e[1]),Xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nt,o=Xr();if(_t){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),rn===null)throw Error(se(349));Ys&30||Zx(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ep(Jx.bind(null,r,a,e),[e]),r.flags|=2048,Ml(9,Qx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Xr(),t=rn.identifierPrefix;if(_t){var n=gi,r=hi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JA={readContext:hr,useCallback:ay,useContext:hr,useEffect:h1,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Cf,useRef:ny,useState:function(){return Cf(Dl)},useDebugValue:g1,useDeferredValue:function(e){var t=gr();return cy(t,Kt.memoizedState,e)},useTransition:function(){var e=Cf(Dl)[0],t=gr().memoizedState;return[e,t]},useMutableSource:qx,useSyncExternalStore:Yx,useId:uy,unstable_isNewReconciler:!1},e_={readContext:hr,useCallback:ay,useContext:hr,useEffect:h1,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Sf,useRef:ny,useState:function(){return Sf(Dl)},useDebugValue:g1,useDeferredValue:function(e){var t=gr();return Kt===null?t.memoizedState=e:cy(t,Kt.memoizedState,e)},useTransition:function(){var e=Sf(Dl)[0],t=gr().memoizedState;return[e,t]},useMutableSource:qx,useSyncExternalStore:Yx,useId:uy,unstable_isNewReconciler:!1};function Ar(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cd={isMounted:function(e){return(e=e._reactInternals)?so(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tn(),o=ns(e),a=pi(r,o);a.payload=t,n!=null&&(a.callback=n),t=es(e,a,o),t!==null&&(Dr(t,e,o,r),ru(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tn(),o=ns(e),a=pi(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=es(e,a,o),t!==null&&(Dr(t,e,o,r),ru(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tn(),r=ns(e),o=pi(n,r);o.tag=2,t!=null&&(o.callback=t),t=es(e,o,r),t!==null&&(Dr(t,e,r,n),ru(t,e,r))}};function bp(e,t,n,r,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!Tl(n,r)||!Tl(o,a):!0}function gy(e,t,n){var r=!1,o=ls,a=t.contextType;return typeof a=="object"&&a!==null?a=hr(a):(o=Un(t)?Ks:vn.current,r=t.contextTypes,a=(r=r!=null)?da(e,o):ls),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cd.enqueueReplaceState(t,t.state,null)}function Oh(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},o1(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=hr(a):(a=Un(t)?Ks:vn.current,o.context=da(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nh(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&cd.enqueueReplaceState(o,o.state,null),Ou(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function pa(e,t){try{var n="",r=t;do n+=IS(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Af(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t_=typeof WeakMap=="function"?WeakMap:Map;function py(e,t,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lu||(Lu=!0,Wh=r),kh(e,t)},n}function my(e,t,n){n=pi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){kh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){kh(e,t),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Sp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new t_;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=p_.bind(null,e,t,n),t.then(e,e))}function Ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _p(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pi(-1,1),t.tag=2,es(n,t,1))),n.lanes|=1),e)}var n_=bi.ReactCurrentOwner,Fn=!1;function Sn(e,t,n,r){t.child=e===null?$x(t,null,n,r):ha(t,e.child,n,r)}function Tp(e,t,n,r,o){n=n.render;var a=t.ref;return Yo(t,o),r=d1(e,t,n,r,a,o),n=f1(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yi(e,t,o)):(_t&&n&&J0(t),t.flags|=1,Sn(e,t,r,o),t.child)}function Ip(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!b1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,wy(e,t,a,r,o)):(e=cu(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tl,n(u,r)&&e.ref===t.ref)return yi(e,t,o)}return t.flags|=1,e=rs(a,r),e.ref=t.ref,e.return=t,t.child=e}function wy(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Tl(a,r)&&e.ref===t.ref)if(Fn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Fn=!0);else return t.lanes=e.lanes,yi(e,t,o)}return Ph(e,t,n,r,o)}function xy(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Ho,Gn),Gn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ht(Ho,Gn),Gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ht(Ho,Gn),Gn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ht(Ho,Gn),Gn|=r;return Sn(e,t,o,n),t.child}function yy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ph(e,t,n,r,o){var a=Un(n)?Ks:vn.current;return a=da(t,a),Yo(t,o),n=d1(e,t,n,r,a,o),r=f1(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,yi(e,t,o)):(_t&&r&&J0(t),t.flags|=1,Sn(e,t,n,o),t.child)}function Rp(e,t,n,r,o){if(Un(n)){var a=!0;_u(t)}else a=!1;if(Yo(t,o),t.stateNode===null)ou(e,t),gy(t,n,r),Oh(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,h=t.memoizedProps;u.props=h;var m=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=hr(p):(p=Un(n)?Ks:vn.current,p=da(t,p));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||m!==p)&&Cp(t,u,r,p),Li=!1;var b=t.memoizedState;u.state=b,Ou(t,r,u,o),m=t.memoizedState,h!==r||b!==m||jn.current||Li?(typeof y=="function"&&(Nh(t,n,y,r),m=t.memoizedState),(h=Li||bp(t,n,h,r,b,m,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=m),u.props=r,u.state=m,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Xx(e,t),h=t.memoizedProps,p=t.type===t.elementType?h:Ar(t.type,h),u.props=p,v=t.pendingProps,b=u.context,m=n.contextType,typeof m=="object"&&m!==null?m=hr(m):(m=Un(n)?Ks:vn.current,m=da(t,m));var E=n.getDerivedStateFromProps;(y=typeof E=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==v||b!==m)&&Cp(t,u,r,m),Li=!1,b=t.memoizedState,u.state=b,Ou(t,r,u,o);var P=t.memoizedState;h!==v||b!==P||jn.current||Li?(typeof E=="function"&&(Nh(t,n,E,r),P=t.memoizedState),(p=Li||bp(t,n,p,r,b,P,m)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,P,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,P,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),u.props=r,u.state=P,u.context=m,r=p):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return Dh(e,t,n,r,a,o)}function Dh(e,t,n,r,o,a){yy(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&gp(t,n,!1),yi(e,t,a);r=t.stateNode,n_.current=t;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=ha(t,e.child,null,a),t.child=ha(t,null,h,a)):Sn(e,t,h,a),t.memoizedState=r.state,o&&gp(t,n,!0),t.child}function vy(e){var t=e.stateNode;t.pendingContext?hp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hp(e,t.context,!1),a1(e,t.containerInfo)}function Np(e,t,n,r,o){return fa(),t1(o),t.flags|=256,Sn(e,t,n,r),t.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Lh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ey(e,t,n){var r=t.pendingProps,o=Rt.current,a=!1,u=(t.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(o&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ht(Rt,o&1),e===null)return Ih(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=fd(u,r,0,null),e=Gs(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Lh(n),t.memoizedState=Mh,e):p1(t,u));if(o=e.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return r_(e,t,u,r,h,o,n);if(a){a=r.fallback,u=t.mode,o=e.child,h=o.sibling;var m={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=rs(o,m),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=rs(h,a):(a=Gs(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?Lh(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Mh,r}return a=e.child,e=a.sibling,r=rs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function p1(e,t){return t=fd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nc(e,t,n,r){return r!==null&&t1(r),ha(t,e.child,null,n),e=p1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r_(e,t,n,r,o,a,u){if(n)return t.flags&256?(t.flags&=-257,r=Af(Error(se(422))),Nc(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=fd({mode:"visible",children:r.children},o,0,null),a=Gs(a,o,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ha(t,e.child,null,u),t.child.memoizedState=Lh(u),t.memoizedState=Mh,a);if(!(t.mode&1))return Nc(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(se(419)),r=Af(a,r,void 0),Nc(e,t,u,r)}if(h=(u&e.childLanes)!==0,Fn||h){if(r=rn,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,xi(e,o),Dr(r,e,o,-1))}return E1(),r=Af(Error(se(421))),Nc(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=m_.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Yn=Ji(o.nextSibling),Zn=t,_t=!0,kr=null,e!==null&&(lr[cr++]=hi,lr[cr++]=gi,lr[cr++]=qs,hi=e.id,gi=e.overflow,qs=t),t=p1(t,r.children),t.flags|=4096,t)}function Op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rh(e.return,t,n)}function _f(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function by(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Sn(e,t,r.children,n),r=Rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,n,t);else if(e.tag===19)Op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ht(Rt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&ku(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),_f(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ku(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}_f(t,!0,n,null,a);break;case"together":_f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=rs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function i_(e,t,n){switch(t.tag){case 3:vy(t),fa();break;case 5:Kx(t);break;case 1:Un(t.type)&&_u(t);break;case 4:a1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ht(Ru,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ht(Rt,Rt.current&1),t.flags|=128,null):n&t.child.childLanes?Ey(e,t,n):(ht(Rt,Rt.current&1),e=yi(e,t,n),e!==null?e.sibling:null);ht(Rt,Rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return by(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ht(Rt,Rt.current),r)break;return null;case 22:case 23:return t.lanes=0,xy(e,t,n)}return yi(e,t,n)}var Cy,Bh,Sy,Ay;Cy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bh=function(){};Sy=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bs(ei.current);var a=null;switch(n){case"input":o=sh(e,o),r=sh(e,r),a=[];break;case"select":o=Ot({},o,{value:void 0}),r=Ot({},r,{value:void 0}),a=[];break;case"textarea":o=lh(e,o),r=lh(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Su)}uh(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(vl.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var m=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&m!==h&&(m!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in m)m.hasOwnProperty(u)&&h[u]!==m[u]&&(n||(n={}),n[u]=m[u])}else n||(a||(a=[]),a.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,h=h?h.__html:void 0,m!=null&&h!==m&&(a=a||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(vl.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&xt("scroll",e),a||h===m||(a=[])):(a=a||[]).push(p,m))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Ay=function(e,t,n,r){n!==r&&(t.flags|=4)};function Za(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function s_(e,t,n){var r=t.pendingProps;switch(e1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return Un(t.type)&&Au(),wn(t),null;case 3:return r=t.stateNode,ga(),vt(jn),vt(vn),c1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&($h(kr),kr=null))),Bh(e,t),wn(t),null;case 5:l1(t);var o=Bs(kl.current);if(n=t.type,e!==null&&t.stateNode!=null)Sy(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return wn(t),null}if(e=Bs(ei.current),Ic(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[Nl]=a,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(o=0;o<il.length;o++)xt(il[o],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Ug(r,a),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},xt("invalid",r);break;case"textarea":Wg(r,a),xt("invalid",r)}uh(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Tc(r.textContent,h,e),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Tc(r.textContent,h,e),o=["children",""+h]):vl.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&xt("scroll",r)}switch(n){case"input":yc(r),Vg(r,a,!0);break;case"textarea":yc(r),zg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Su)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Zr]=t,e[Nl]=r,Cy(e,t,!1,!1),t.stateNode=e;e:{switch(u=dh(n,r),n){case"dialog":xt("cancel",e),xt("close",e),o=r;break;case"iframe":case"object":case"embed":xt("load",e),o=r;break;case"video":case"audio":for(o=0;o<il.length;o++)xt(il[o],e);o=r;break;case"source":xt("error",e),o=r;break;case"img":case"image":case"link":xt("error",e),xt("load",e),o=r;break;case"details":xt("toggle",e),o=r;break;case"input":Ug(e,r),o=sh(e,r),xt("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ot({},r,{value:void 0}),xt("invalid",e);break;case"textarea":Wg(e,r),o=lh(e,r),xt("invalid",e);break;default:o=r}uh(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var m=h[a];a==="style"?nx(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&ex(e,m)):a==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&El(e,m):typeof m=="number"&&El(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vl.hasOwnProperty(a)?m!=null&&a==="onScroll"&&xt("scroll",e):m!=null&&j0(e,a,m,u))}switch(n){case"input":yc(e),Vg(e,r,!1);break;case"textarea":yc(e),zg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+as(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Go(e,!!r.multiple,a,!1):r.defaultValue!=null&&Go(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)Ay(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=Bs(kl.current),Bs(ei.current),Ic(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,(a=r.nodeValue!==n)&&(e=Zn,e!==null))switch(e.tag){case 3:Tc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zr]=t,t.stateNode=r}return wn(t),null;case 13:if(vt(Rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&Yn!==null&&t.mode&1&&!(t.flags&128))zx(),fa(),t.flags|=98560,a=!1;else if(a=Ic(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(se(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(se(317));a[Zr]=t}else fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),a=!1}else kr!==null&&($h(kr),kr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?qt===0&&(qt=3):E1())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return ga(),Bh(e,t),e===null&&Il(t.stateNode.containerInfo),wn(t),null;case 10:return i1(t.type._context),wn(t),null;case 17:return Un(t.type)&&Au(),wn(t),null;case 19:if(vt(Rt),a=t.memoizedState,a===null)return wn(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Za(a,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=ku(e),u!==null){for(t.flags|=128,Za(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ht(Rt,Rt.current&1|2),t.child}e=e.sibling}a.tail!==null&&jt()>ma&&(t.flags|=128,r=!0,Za(a,!1),t.lanes=4194304)}else{if(!r)if(e=ku(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Za(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!_t)return wn(t),null}else 2*jt()-a.renderingStartTime>ma&&n!==1073741824&&(t.flags|=128,r=!0,Za(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jt(),t.sibling=null,n=Rt.current,ht(Rt,r?n&1|2:n&1),t):(wn(t),null);case 22:case 23:return v1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Gn&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function o_(e,t){switch(e1(t),t.tag){case 1:return Un(t.type)&&Au(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(),vt(jn),vt(vn),c1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return l1(t),null;case 13:if(vt(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(Rt),null;case 4:return ga(),null;case 10:return i1(t.type._context),null;case 22:case 23:return v1(),null;case 24:return null;default:return null}}var Oc=!1,yn=!1,a_=typeof WeakSet=="function"?WeakSet:Set,ve=null;function zo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bt(e,t,r)}else n.current=null}function Fh(e,t,n){try{n()}catch(r){Bt(e,t,r)}}var kp=!1;function l_(e,t){if(Eh=Eu,e=Nx(),Q0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,m=-1,p=0,y=0,v=e,b=null;t:for(;;){for(var E;v!==n||o!==0&&v.nodeType!==3||(h=u+o),v!==a||r!==0&&v.nodeType!==3||(m=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(E=v.firstChild)!==null;)b=v,v=E;for(;;){if(v===e)break t;if(b===n&&++p===o&&(h=u),b===a&&++y===r&&(m=u),(E=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=E}n=h===-1||m===-1?null:{start:h,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(bh={focusedElem:e,selectionRange:n},Eu=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var S=P.memoizedProps,k=P.memoizedState,N=t.stateNode,A=N.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ar(t.type,S),k);N.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(M){Bt(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return P=kp,kp=!1,P}function hl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Fh(t,n,a)}o=o.next}while(o!==r)}}function ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _y(e){var t=e.alternate;t!==null&&(e.alternate=null,_y(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[Nl],delete t[Ah],delete t[HA],delete t[$A])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ty(e){return e.tag===5||e.tag===3||e.tag===4}function Pp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Su));else if(r!==4&&(e=e.child,e!==null))for(Uh(e,t,n),e=e.sibling;e!==null;)Uh(e,t,n),e=e.sibling}function Vh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vh(e,t,n),e=e.sibling;e!==null;)Vh(e,t,n),e=e.sibling}var cn=null,Nr=!1;function Ri(e,t,n){for(n=n.child;n!==null;)Iy(e,t,n),n=n.sibling}function Iy(e,t,n){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:yn||zo(n,t);case 6:var r=cn,o=Nr;cn=null,Ri(e,t,n),cn=r,Nr=o,cn!==null&&(Nr?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(Nr?(e=cn,n=n.stateNode,e.nodeType===8?yf(e.parentNode,n):e.nodeType===1&&yf(e,n),Al(e)):yf(cn,n.stateNode));break;case 4:r=cn,o=Nr,cn=n.stateNode.containerInfo,Nr=!0,Ri(e,t,n),cn=r,Nr=o;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Fh(n,t,u),o=o.next}while(o!==r)}Ri(e,t,n);break;case 1:if(!yn&&(zo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Bt(n,t,h)}Ri(e,t,n);break;case 21:Ri(e,t,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,Ri(e,t,n),yn=r):Ri(e,t,n);break;default:Ri(e,t,n)}}function Dp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a_),t.forEach(function(r){var o=w_.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function vr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,h=u;e:for(;h!==null;){switch(h.tag){case 5:cn=h.stateNode,Nr=!1;break e;case 3:cn=h.stateNode.containerInfo,Nr=!0;break e;case 4:cn=h.stateNode.containerInfo,Nr=!0;break e}h=h.return}if(cn===null)throw Error(se(160));Iy(a,u,o),cn=null,Nr=!1;var m=o.alternate;m!==null&&(m.return=null),o.return=null}catch(p){Bt(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ry(t,e),t=t.sibling}function Ry(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Gr(e),r&4){try{hl(3,e,e.return),ud(3,e)}catch(S){Bt(e,e.return,S)}try{hl(5,e,e.return)}catch(S){Bt(e,e.return,S)}}break;case 1:vr(t,e),Gr(e),r&512&&n!==null&&zo(n,n.return);break;case 5:if(vr(t,e),Gr(e),r&512&&n!==null&&zo(n,n.return),e.flags&32){var o=e.stateNode;try{El(o,"")}catch(S){Bt(e,e.return,S)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,h=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Zw(o,a),dh(h,u);var p=dh(h,a);for(u=0;u<m.length;u+=2){var y=m[u],v=m[u+1];y==="style"?nx(o,v):y==="dangerouslySetInnerHTML"?ex(o,v):y==="children"?El(o,v):j0(o,y,v,p)}switch(h){case"input":oh(o,a);break;case"textarea":Qw(o,a);break;case"select":var b=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Go(o,!!a.multiple,E,!1):b!==!!a.multiple&&(a.defaultValue!=null?Go(o,!!a.multiple,a.defaultValue,!0):Go(o,!!a.multiple,a.multiple?[]:"",!1))}o[Nl]=a}catch(S){Bt(e,e.return,S)}}break;case 6:if(vr(t,e),Gr(e),r&4){if(e.stateNode===null)throw Error(se(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(S){Bt(e,e.return,S)}}break;case 3:if(vr(t,e),Gr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(S){Bt(e,e.return,S)}break;case 4:vr(t,e),Gr(e);break;case 13:vr(t,e),Gr(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(x1=jt())),r&4&&Dp(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(yn=(p=yn)||y,vr(t,e),yn=p):vr(t,e),Gr(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(ve=e,y=e.child;y!==null;){for(v=ve=y;ve!==null;){switch(b=ve,E=b.child,b.tag){case 0:case 11:case 14:case 15:hl(4,b,b.return);break;case 1:zo(b,b.return);var P=b.stateNode;if(typeof P.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(S){Bt(r,n,S)}}break;case 5:zo(b,b.return);break;case 22:if(b.memoizedState!==null){Lp(v);continue}}E!==null?(E.return=b,ve=E):Lp(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{o=v.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,m=v.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,h.style.display=tx("display",u))}catch(S){Bt(e,e.return,S)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(S){Bt(e,e.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:vr(t,e),Gr(e),r&4&&Dp(e);break;case 21:break;default:vr(t,e),Gr(e)}}function Gr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ty(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(El(o,""),r.flags&=-33);var a=Pp(e);Vh(e,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Pp(e);Uh(e,h,u);break;default:throw Error(se(161))}}catch(m){Bt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c_(e,t,n){ve=e,Ny(e)}function Ny(e,t,n){for(var r=(e.mode&1)!==0;ve!==null;){var o=ve,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||Oc;if(!u){var h=o.alternate,m=h!==null&&h.memoizedState!==null||yn;h=Oc;var p=yn;if(Oc=u,(yn=m)&&!p)for(ve=o;ve!==null;)u=ve,m=u.child,u.tag===22&&u.memoizedState!==null?Bp(o):m!==null?(m.return=u,ve=m):Bp(o);for(;a!==null;)ve=a,Ny(a),a=a.sibling;ve=o,Oc=h,yn=p}Mp(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,ve=a):Mp(e)}}function Mp(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||ud(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!yn)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ar(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&yp(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yp(t,u,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&Al(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}yn||t.flags&512&&jh(t)}catch(b){Bt(t,t.return,b)}}if(t===e){ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,ve=n;break}ve=t.return}}function Lp(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ve=n;break}ve=t.return}}function Bp(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ud(4,t)}catch(m){Bt(t,n,m)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(m){Bt(t,o,m)}}var a=t.return;try{jh(t)}catch(m){Bt(t,a,m)}break;case 5:var u=t.return;try{jh(t)}catch(m){Bt(t,u,m)}}}catch(m){Bt(t,t.return,m)}if(t===e){ve=null;break}var h=t.sibling;if(h!==null){h.return=t.return,ve=h;break}ve=t.return}}var u_=Math.ceil,Mu=bi.ReactCurrentDispatcher,m1=bi.ReactCurrentOwner,fr=bi.ReactCurrentBatchConfig,Je=0,rn=null,Vt=null,un=0,Gn=0,Ho=fs(0),qt=0,Ll=null,Zs=0,dd=0,w1=0,gl=null,Bn=null,x1=0,ma=1/0,ci=null,Lu=!1,Wh=null,ts=null,kc=!1,Gi=null,Bu=0,pl=0,zh=null,au=-1,lu=0;function Tn(){return Je&6?jt():au!==-1?au:au=jt()}function ns(e){return e.mode&1?Je&2&&un!==0?un&-un:XA.transition!==null?(lu===0&&(lu=gx()),lu):(e=ot,e!==0||(e=window.event,e=e===void 0?16:Ex(e.type)),e):1}function Dr(e,t,n,r){if(50<pl)throw pl=0,zh=null,Error(se(185));Yl(e,n,r),(!(Je&2)||e!==rn)&&(e===rn&&(!(Je&2)&&(dd|=n),qt===4&&Fi(e,un)),Vn(e,r),n===1&&Je===0&&!(t.mode&1)&&(ma=jt()+500,ad&&hs()))}function Vn(e,t){var n=e.callbackNode;XS(e,t);var r=vu(e,e===rn?un:0);if(r===0)n!==null&&Gg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gg(n),t===1)e.tag===0?GA(Fp.bind(null,e)):Ux(Fp.bind(null,e)),WA(function(){!(Je&6)&&hs()}),n=null;else{switch(px(r)){case 1:n=H0;break;case 4:n=fx;break;case 16:n=yu;break;case 536870912:n=hx;break;default:n=yu}n=Fy(n,Oy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oy(e,t){if(au=-1,lu=0,Je&6)throw Error(se(327));var n=e.callbackNode;if(Zo()&&e.callbackNode!==n)return null;var r=vu(e,e===rn?un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fu(e,r);else{t=r;var o=Je;Je|=2;var a=Py();(rn!==e||un!==t)&&(ci=null,ma=jt()+500,$s(e,t));do try{h_();break}catch(h){ky(e,h)}while(!0);r1(),Mu.current=a,Je=o,Vt!==null?t=0:(rn=null,un=0,t=qt)}if(t!==0){if(t===2&&(o=mh(e),o!==0&&(r=o,t=Hh(e,o))),t===1)throw n=Ll,$s(e,0),Fi(e,r),Vn(e,jt()),n;if(t===6)Fi(e,r);else{if(o=e.current.alternate,!(r&30)&&!d_(o)&&(t=Fu(e,r),t===2&&(a=mh(e),a!==0&&(r=a,t=Hh(e,a))),t===1))throw n=Ll,$s(e,0),Fi(e,r),Vn(e,jt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:Ns(e,Bn,ci);break;case 3:if(Fi(e,r),(r&130023424)===r&&(t=x1+500-jt(),10<t)){if(vu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Tn(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Sh(Ns.bind(null,e,Bn,ci),t);break}Ns(e,Bn,ci);break;case 4:if(Fi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-Pr(r);a=1<<u,u=t[u],u>o&&(o=u),r&=~a}if(r=o,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u_(r/1960))-r,10<r){e.timeoutHandle=Sh(Ns.bind(null,e,Bn,ci),r);break}Ns(e,Bn,ci);break;case 5:Ns(e,Bn,ci);break;default:throw Error(se(329))}}}return Vn(e,jt()),e.callbackNode===n?Oy.bind(null,e):null}function Hh(e,t){var n=gl;return e.current.memoizedState.isDehydrated&&($s(e,t).flags|=256),e=Fu(e,t),e!==2&&(t=Bn,Bn=n,t!==null&&$h(t)),e}function $h(e){Bn===null?Bn=e:Bn.push.apply(Bn,e)}function d_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Mr(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fi(e,t){for(t&=~w1,t&=~dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pr(t),r=1<<n;e[n]=-1,t&=~r}}function Fp(e){if(Je&6)throw Error(se(327));Zo();var t=vu(e,0);if(!(t&1))return Vn(e,jt()),null;var n=Fu(e,t);if(e.tag!==0&&n===2){var r=mh(e);r!==0&&(t=r,n=Hh(e,r))}if(n===1)throw n=Ll,$s(e,0),Fi(e,t),Vn(e,jt()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ns(e,Bn,ci),Vn(e,jt()),null}function y1(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(ma=jt()+500,ad&&hs())}}function Qs(e){Gi!==null&&Gi.tag===0&&!(Je&6)&&Zo();var t=Je;Je|=1;var n=fr.transition,r=ot;try{if(fr.transition=null,ot=1,e)return e()}finally{ot=r,fr.transition=n,Je=t,!(Je&6)&&hs()}}function v1(){Gn=Ho.current,vt(Ho)}function $s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VA(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(e1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Au();break;case 3:ga(),vt(jn),vt(vn),c1();break;case 5:l1(r);break;case 4:ga();break;case 13:vt(Rt);break;case 19:vt(Rt);break;case 10:i1(r.type._context);break;case 22:case 23:v1()}n=n.return}if(rn=e,Vt=e=rs(e.current,null),un=Gn=t,qt=0,Ll=null,w1=dd=Zs=0,Bn=gl=null,Ls!==null){for(t=0;t<Ls.length;t++)if(n=Ls[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}Ls=null}return e}function ky(e,t){do{var n=Vt;try{if(r1(),iu.current=Du,Pu){for(var r=Nt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Pu=!1}if(Ys=0,nn=Kt=Nt=null,fl=!1,Pl=0,m1.current=null,n===null||n.return===null){qt=1,Ll=t,Vt=null;break}e:{var a=e,u=n.return,h=n,m=t;if(t=un,h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,y=h,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var b=y.alternate;b?(y.updateQueue=b.updateQueue,y.memoizedState=b.memoizedState,y.lanes=b.lanes):(y.updateQueue=null,y.memoizedState=null)}var E=Ap(u);if(E!==null){E.flags&=-257,_p(E,u,h,a,t),E.mode&1&&Sp(a,p,t),t=E,m=p;var P=t.updateQueue;if(P===null){var S=new Set;S.add(m),t.updateQueue=S}else P.add(m);break e}else{if(!(t&1)){Sp(a,p,t),E1();break e}m=Error(se(426))}}else if(_t&&h.mode&1){var k=Ap(u);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_p(k,u,h,a,t),t1(pa(m,h));break e}}a=m=pa(m,h),qt!==4&&(qt=2),gl===null?gl=[a]:gl.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=py(a,m,t);xp(a,N);break e;case 1:h=m;var A=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ts===null||!ts.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var M=my(a,h,t);xp(a,M);break e}}a=a.return}while(a!==null)}My(n)}catch(j){t=j,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function Py(){var e=Mu.current;return Mu.current=Du,e===null?Du:e}function E1(){(qt===0||qt===3||qt===2)&&(qt=4),rn===null||!(Zs&268435455)&&!(dd&268435455)||Fi(rn,un)}function Fu(e,t){var n=Je;Je|=2;var r=Py();(rn!==e||un!==t)&&(ci=null,$s(e,t));do try{f_();break}catch(o){ky(e,o)}while(!0);if(r1(),Je=n,Mu.current=r,Vt!==null)throw Error(se(261));return rn=null,un=0,qt}function f_(){for(;Vt!==null;)Dy(Vt)}function h_(){for(;Vt!==null&&!FS();)Dy(Vt)}function Dy(e){var t=By(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?My(e):Vt=t,m1.current=null}function My(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o_(n,t),n!==null){n.flags&=32767,Vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Vt=null;return}}else if(n=s_(n,t,Gn),n!==null){Vt=n;return}if(t=t.sibling,t!==null){Vt=t;return}Vt=t=e}while(t!==null);qt===0&&(qt=5)}function Ns(e,t,n){var r=ot,o=fr.transition;try{fr.transition=null,ot=1,g_(e,t,n,r)}finally{fr.transition=o,ot=r}return null}function g_(e,t,n,r){do Zo();while(Gi!==null);if(Je&6)throw Error(se(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(KS(e,a),e===rn&&(Vt=rn=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,Fy(yu,function(){return Zo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fr.transition,fr.transition=null;var u=ot;ot=1;var h=Je;Je|=4,m1.current=null,l_(e,n),Ry(n,e),DA(bh),Eu=!!Eh,bh=Eh=null,e.current=n,c_(n),jS(),Je=h,ot=u,fr.transition=a}else e.current=n;if(kc&&(kc=!1,Gi=e,Bu=o),a=e.pendingLanes,a===0&&(ts=null),WS(n.stateNode),Vn(e,jt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Lu)throw Lu=!1,e=Wh,Wh=null,e;return Bu&1&&e.tag!==0&&Zo(),a=e.pendingLanes,a&1?e===zh?pl++:(pl=0,zh=e):pl=0,hs(),null}function Zo(){if(Gi!==null){var e=px(Bu),t=fr.transition,n=ot;try{if(fr.transition=null,ot=16>e?16:e,Gi===null)var r=!1;else{if(e=Gi,Gi=null,Bu=0,Je&6)throw Error(se(331));var o=Je;for(Je|=4,ve=e.current;ve!==null;){var a=ve,u=a.child;if(ve.flags&16){var h=a.deletions;if(h!==null){for(var m=0;m<h.length;m++){var p=h[m];for(ve=p;ve!==null;){var y=ve;switch(y.tag){case 0:case 11:case 15:hl(8,y,a)}var v=y.child;if(v!==null)v.return=y,ve=v;else for(;ve!==null;){y=ve;var b=y.sibling,E=y.return;if(_y(y),y===p){ve=null;break}if(b!==null){b.return=E,ve=b;break}ve=E}}}var P=a.alternate;if(P!==null){var S=P.child;if(S!==null){P.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}ve=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,ve=u;else e:for(;ve!==null;){if(a=ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hl(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,ve=N;break e}ve=a.return}}var A=e.current;for(ve=A;ve!==null;){u=ve;var _=u.child;if(u.subtreeFlags&2064&&_!==null)_.return=u,ve=_;else e:for(u=A;ve!==null;){if(h=ve,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:ud(9,h)}}catch(j){Bt(h,h.return,j)}if(h===u){ve=null;break e}var M=h.sibling;if(M!==null){M.return=h.return,ve=M;break e}ve=h.return}}if(Je=o,hs(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(nd,e)}catch{}r=!0}return r}finally{ot=n,fr.transition=t}}return!1}function jp(e,t,n){t=pa(n,t),t=py(e,t,1),e=es(e,t,1),t=Tn(),e!==null&&(Yl(e,1,t),Vn(e,t))}function Bt(e,t,n){if(e.tag===3)jp(e,e,n);else for(;t!==null;){if(t.tag===3){jp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){e=pa(n,e),e=my(t,e,1),t=es(t,e,1),e=Tn(),t!==null&&(Yl(t,1,e),Vn(t,e));break}}t=t.return}}function p_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&n,rn===e&&(un&n)===n&&(qt===4||qt===3&&(un&130023424)===un&&500>jt()-x1?$s(e,0):w1|=n),Vn(e,t)}function Ly(e,t){t===0&&(e.mode&1?(t=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):t=1);var n=Tn();e=xi(e,t),e!==null&&(Yl(e,t,n),Vn(e,n))}function m_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ly(e,n)}function w_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),Ly(e,n)}var By;By=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jn.current)Fn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fn=!1,i_(e,t,n);Fn=!!(e.flags&131072)}else Fn=!1,_t&&t.flags&1048576&&Vx(t,Iu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ou(e,t),e=t.pendingProps;var o=da(t,vn.current);Yo(t,n),o=d1(null,t,r,e,o,n);var a=f1();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Un(r)?(a=!0,_u(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o1(t),o.updater=cd,t.stateNode=o,o._reactInternals=t,Oh(t,r,e,n),t=Dh(null,t,r,!0,a,n)):(t.tag=0,_t&&a&&J0(t),Sn(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ou(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=y_(r),e=Ar(r,e),o){case 0:t=Ph(null,t,r,e,n);break e;case 1:t=Rp(null,t,r,e,n);break e;case 11:t=Tp(null,t,r,e,n);break e;case 14:t=Ip(null,t,r,Ar(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ar(r,o),Ph(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ar(r,o),Rp(e,t,r,o,n);case 3:e:{if(vy(t),e===null)throw Error(se(387));r=t.pendingProps,a=t.memoizedState,o=a.element,Xx(e,t),Ou(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=pa(Error(se(423)),t),t=Np(e,t,r,n,o);break e}else if(r!==o){o=pa(Error(se(424)),t),t=Np(e,t,r,n,o);break e}else for(Yn=Ji(t.stateNode.containerInfo.firstChild),Zn=t,_t=!0,kr=null,n=$x(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===o){t=yi(e,t,n);break e}Sn(e,t,r,n)}t=t.child}return t;case 5:return Kx(t),e===null&&Ih(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,Ch(r,o)?u=null:a!==null&&Ch(r,a)&&(t.flags|=32),yy(e,t),Sn(e,t,u,n),t.child;case 6:return e===null&&Ih(t),null;case 13:return Ey(e,t,n);case 4:return a1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ha(t,null,r,n):Sn(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ar(r,o),Tp(e,t,r,o,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,ht(Ru,r._currentValue),r._currentValue=u,a!==null)if(Mr(a.value,u)){if(a.children===o.children&&!jn.current){t=yi(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var m=h.firstContext;m!==null;){if(m.context===r){if(a.tag===1){m=pi(-1,n&-n),m.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?m.next=m:(m.next=y.next,y.next=m),p.pending=m}}a.lanes|=n,m=a.alternate,m!==null&&(m.lanes|=n),Rh(a.return,n,t),h.lanes|=n;break}m=m.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(se(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),Rh(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Sn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Yo(t,n),o=hr(o),r=r(o),t.flags|=1,Sn(e,t,r,n),t.child;case 14:return r=t.type,o=Ar(r,t.pendingProps),o=Ar(r.type,o),Ip(e,t,r,o,n);case 15:return wy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ar(r,o),ou(e,t),t.tag=1,Un(r)?(e=!0,_u(t)):e=!1,Yo(t,n),gy(t,r,o),Oh(t,r,o,n),Dh(null,t,r,!0,e,n);case 19:return by(e,t,n);case 22:return xy(e,t,n)}throw Error(se(156,t.tag))};function Fy(e,t){return dx(e,t)}function x_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new x_(e,t,n,r)}function b1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y_(e){if(typeof e=="function")return b1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V0)return 11;if(e===W0)return 14}return 2}function rs(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cu(e,t,n,r,o,a){var u=2;if(r=e,typeof e=="function")b1(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Do:return Gs(n.children,o,a,t);case U0:u=8,o|=8;break;case th:return e=dr(12,n,t,o|2),e.elementType=th,e.lanes=a,e;case nh:return e=dr(13,n,t,o),e.elementType=nh,e.lanes=a,e;case rh:return e=dr(19,n,t,o),e.elementType=rh,e.lanes=a,e;case Kw:return fd(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gw:u=10;break e;case Xw:u=9;break e;case V0:u=11;break e;case W0:u=14;break e;case Mi:u=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=dr(u,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Gs(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function fd(e,t,n,r){return e=dr(22,e,r,t),e.elementType=Kw,e.lanes=n,e.stateNode={isHidden:!1},e}function Tf(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function If(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function v_(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function C1(e,t,n,r,o,a,u,h,m){return e=new v_(e,t,n,h,m),t===1?(t=1,a===!0&&(t|=8)):t=0,a=dr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},o1(a),e}function E_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function jy(e){if(!e)return ls;e=e._reactInternals;e:{if(so(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(Un(n))return jx(e,n,t)}return t}function Uy(e,t,n,r,o,a,u,h,m){return e=C1(n,r,!0,e,o,a,u,h,m),e.context=jy(null),n=e.current,r=Tn(),o=ns(n),a=pi(r,o),a.callback=t??null,es(n,a,o),e.current.lanes=o,Yl(e,o,r),Vn(e,r),e}function hd(e,t,n,r){var o=t.current,a=Tn(),u=ns(o);return n=jy(n),t.context===null?t.context=n:t.pendingContext=n,t=pi(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=es(o,t,u),e!==null&&(Dr(e,o,u,a),ru(e,o,u)),u}function ju(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Up(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function S1(e,t){Up(e,t),(e=e.alternate)&&Up(e,t)}function b_(){return null}var Vy=typeof reportError=="function"?reportError:function(e){console.error(e)};function A1(e){this._internalRoot=e}gd.prototype.render=A1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));hd(e,t,null,null)};gd.prototype.unmount=A1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qs(function(){hd(null,e,null,null)}),t[wi]=null}};function gd(e){this._internalRoot=e}gd.prototype.unstable_scheduleHydration=function(e){if(e){var t=xx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bi.length&&t!==0&&t<Bi[n].priority;n++);Bi.splice(n,0,e),n===0&&vx(e)}};function _1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vp(){}function C_(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=ju(u);a.call(p)}}var u=Uy(t,r,e,0,null,!1,!1,"",Vp);return e._reactRootContainer=u,e[wi]=u.current,Il(e.nodeType===8?e.parentNode:e),Qs(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=ju(m);h.call(p)}}var m=C1(e,0,!1,null,null,!1,!1,"",Vp);return e._reactRootContainer=m,e[wi]=m.current,Il(e.nodeType===8?e.parentNode:e),Qs(function(){hd(t,m,n,r)}),m}function md(e,t,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var m=ju(u);h.call(m)}}hd(t,u,e,o)}else u=C_(n,t,e,o,r);return ju(u)}mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rl(t.pendingLanes);n!==0&&($0(t,n|1),Vn(t,jt()),!(Je&6)&&(ma=jt()+500,hs()))}break;case 13:Qs(function(){var r=xi(e,1);if(r!==null){var o=Tn();Dr(r,e,1,o)}}),S1(e,1)}};G0=function(e){if(e.tag===13){var t=xi(e,134217728);if(t!==null){var n=Tn();Dr(t,e,134217728,n)}S1(e,134217728)}};wx=function(e){if(e.tag===13){var t=ns(e),n=xi(e,t);if(n!==null){var r=Tn();Dr(n,e,t,r)}S1(e,t)}};xx=function(){return ot};yx=function(e,t){var n=ot;try{return ot=e,t()}finally{ot=n}};hh=function(e,t,n){switch(t){case"input":if(oh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=od(r);if(!o)throw Error(se(90));Yw(r),oh(r,o)}}}break;case"textarea":Qw(e,n);break;case"select":t=n.value,t!=null&&Go(e,!!n.multiple,t,!1)}};sx=y1;ox=Qs;var S_={usingClientEntryPoint:!1,Events:[Ql,Fo,od,rx,ix,y1]},Qa={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A_={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cx(e),e===null?null:e.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||b_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{nd=Pc.inject(A_),Jr=Pc}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_;er.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_1(t))throw Error(se(200));return E_(e,t,null,n)};er.createRoot=function(e,t){if(!_1(e))throw Error(se(299));var n=!1,r="",o=Vy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=C1(e,1,!1,null,null,n,!1,r,o),e[wi]=t.current,Il(e.nodeType===8?e.parentNode:e),new A1(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=cx(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Qs(e)};er.hydrate=function(e,t,n){if(!pd(t))throw Error(se(200));return md(null,e,t,!0,n)};er.hydrateRoot=function(e,t,n){if(!_1(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Vy;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Uy(t,null,e,1,n??null,o,!1,a,u),e[wi]=t.current,Il(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new gd(t)};er.render=function(e,t,n){if(!pd(t))throw Error(se(200));return md(null,e,t,!1,n)};er.unmountComponentAtNode=function(e){if(!pd(e))throw Error(se(40));return e._reactRootContainer?(Qs(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[wi]=null})}),!0):!1};er.unstable_batchedUpdates=y1;er.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pd(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return md(e,t,n,!1,r)};er.version="18.3.1-next-f1338f8080-20240426";function Wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wy)}catch(e){console.error(e)}}Wy(),Ww.exports=er;var oo=Ww.exports;const zy=O0(oo);var Hy,Wp=oo;Hy=Wp.createRoot,Wp.hydrateRoot;const __=1,T_=1e6;let Rf=0;function I_(){return Rf=(Rf+1)%Number.MAX_SAFE_INTEGER,Rf.toString()}const Nf=new Map,zp=e=>{if(Nf.has(e))return;const t=setTimeout(()=>{Nf.delete(e),ml({type:"REMOVE_TOAST",toastId:e})},T_);Nf.set(e,t)},R_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,__)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?zp(n):e.toasts.forEach(r=>{zp(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},uu=[];let du={toasts:[]};function ml(e){du=R_(du,e),uu.forEach(t=>{t(du)})}function N_({...e}){const t=I_(),n=o=>ml({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>ml({type:"DISMISS_TOAST",toastId:t});return ml({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function O_(){const[e,t]=T.useState(du);return T.useEffect(()=>(uu.push(t),()=>{const n=uu.indexOf(t);n>-1&&uu.splice(n,1)}),[e]),{...e,toast:N_,dismiss:n=>ml({type:"DISMISS_TOAST",toastId:n})}}function Re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Hp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $y(...e){return t=>{let n=!1;const r=e.map(o=>{const a=Hp(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Hp(e[o],null)}}}}function gt(...e){return T.useCallback($y(...e),e)}function k_(e,t){const n=T.createContext(t),r=a=>{const{children:u,...h}=a,m=T.useMemo(()=>h,Object.values(h));return I.jsx(n.Provider,{value:m,children:u})};r.displayName=e+"Provider";function o(a){const u=T.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function gs(e,t=[]){let n=[];function r(a,u){const h=T.createContext(u),m=n.length;n=[...n,u];const p=v=>{var N;const{scope:b,children:E,...P}=v,S=((N=b==null?void 0:b[e])==null?void 0:N[m])||h,k=T.useMemo(()=>P,Object.values(P));return I.jsx(S.Provider,{value:k,children:E})};p.displayName=a+"Provider";function y(v,b){var S;const E=((S=b==null?void 0:b[e])==null?void 0:S[m])||h,P=T.useContext(E);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,y]}const o=()=>{const a=n.map(u=>T.createContext(u));return function(h){const m=(h==null?void 0:h[e])||a;return T.useMemo(()=>({[`__scope${e}`]:{...h,[e]:m}}),[h,m])}};return o.scopeName=e,[r,P_(o,...t)]}function P_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const v=m(a)[`__scope${p}`];return{...h,...v}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function wa(e){const t=M_(e),n=T.forwardRef((r,o)=>{const{children:a,...u}=r,h=T.Children.toArray(a),m=h.find(B_);if(m){const p=m.props.children,y=h.map(v=>v===m?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:v);return I.jsx(t,{...u,ref:o,children:T.isValidElement(p)?T.cloneElement(p,void 0,y):null})}return I.jsx(t,{...u,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var D_=wa("Slot");function M_(e){const t=T.forwardRef((n,r)=>{const{children:o,...a}=n;if(T.isValidElement(o)){const u=j_(o),h=F_(a,o.props);return o.type!==T.Fragment&&(h.ref=r?$y(r,u):u),T.cloneElement(o,h)}return T.Children.count(o)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gy=Symbol("radix.slottable");function L_(e){const t=({children:n})=>I.jsx(I.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Gy,t}function B_(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gy}function F_(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...h)=>{const m=a(...h);return o(...h),m}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function j_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function T1(e){const t=e+"CollectionProvider",[n,r]=gs(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=S=>{const{scope:k,children:N}=S,A=ue.useRef(null),_=ue.useRef(new Map).current;return I.jsx(o,{scope:k,itemMap:_,collectionRef:A,children:N})};u.displayName=t;const h=e+"CollectionSlot",m=wa(h),p=ue.forwardRef((S,k)=>{const{scope:N,children:A}=S,_=a(h,N),M=gt(k,_.collectionRef);return I.jsx(m,{ref:M,children:A})});p.displayName=h;const y=e+"CollectionItemSlot",v="data-radix-collection-item",b=wa(y),E=ue.forwardRef((S,k)=>{const{scope:N,children:A,..._}=S,M=ue.useRef(null),j=gt(k,M),V=a(y,N);return ue.useEffect(()=>(V.itemMap.set(M,{ref:M,..._}),()=>void V.itemMap.delete(M))),I.jsx(b,{[v]:"",ref:j,children:A})});E.displayName=y;function P(S){const k=a(e+"CollectionConsumer",S);return ue.useCallback(()=>{const A=k.collectionRef.current;if(!A)return[];const _=Array.from(A.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((V,F)=>_.indexOf(V.ref.current)-_.indexOf(F.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:p,ItemSlot:E},P,r]}var U_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=U_.reduce((e,t)=>{const n=wa(`Primitive.${t}`),r=T.forwardRef((o,a)=>{const{asChild:u,...h}=o,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(m,{...h,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Xy(e,t){e&&oo.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function V_(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e);T.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var W_="DismissableLayer",Gh="dismissableLayer.update",z_="dismissableLayer.pointerDownOutside",H_="dismissableLayer.focusOutside",$p,Ky=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ec=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...m}=e,p=T.useContext(Ky),[y,v]=T.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=T.useState({}),P=gt(t,F=>v(F)),S=Array.from(p.layers),[k]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(k),A=y?S.indexOf(y):-1,_=p.layersWithOutsidePointerEventsDisabled.size>0,M=A>=N,j=G_(F=>{const $=F.target,z=[...p.branches].some(re=>re.contains($));!M||z||(o==null||o(F),u==null||u(F),F.defaultPrevented||h==null||h())},b),V=X_(F=>{const $=F.target;[...p.branches].some(re=>re.contains($))||(a==null||a(F),u==null||u(F),F.defaultPrevented||h==null||h())},b);return V_(F=>{A===p.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},b),T.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&($p=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Gp(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=$p)}},[y,b,n,p]),T.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Gp())},[y,p]),T.useEffect(()=>{const F=()=>E({});return document.addEventListener(Gh,F),()=>document.removeEventListener(Gh,F)},[]),I.jsx(ze.div,{...m,ref:P,style:{pointerEvents:_?M?"auto":"none":void 0,...e.style},onFocusCapture:Re(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Re(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Re(e.onPointerDownCapture,j.onPointerDownCapture)})});ec.displayName=W_;var $_="DismissableLayerBranch",qy=T.forwardRef((e,t)=>{const n=T.useContext(Ky),r=T.useRef(null),o=gt(t,r);return T.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),I.jsx(ze.div,{...e,ref:o})});qy.displayName=$_;function G_(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e),r=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let m=function(){Yy(z_,n,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function X_(e,t=globalThis==null?void 0:globalThis.document){const n=pr(e),r=T.useRef(!1);return T.useEffect(()=>{const o=a=>{a.target&&!r.current&&Yy(H_,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gp(){const e=new CustomEvent(Gh);document.dispatchEvent(e)}function Yy(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Xy(o,a):o.dispatchEvent(a)}var K_=ec,q_=qy,fn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Y_="Portal",wd=T.forwardRef((e,t)=>{var h;const{container:n,...r}=e,[o,a]=T.useState(!1);fn(()=>a(!0),[]);const u=n||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?zy.createPortal(I.jsx(ze.div,{...r,ref:t}),u):null});wd.displayName=Y_;function Z_(e,t){return T.useReducer((n,r)=>t[n][r]??n,e)}var ao=e=>{const{present:t,children:n}=e,r=Q_(t),o=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),a=gt(r.ref,J_(o));return typeof n=="function"||r.isPresent?T.cloneElement(o,{ref:a}):null};ao.displayName="Presence";function Q_(e){const[t,n]=T.useState(),r=T.useRef(null),o=T.useRef(e),a=T.useRef("none"),u=e?"mounted":"unmounted",[h,m]=Z_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=Dc(r.current);a.current=h==="mounted"?p:"none"},[h]),fn(()=>{const p=r.current,y=o.current;if(y!==e){const b=a.current,E=Dc(p);e?m("MOUNT"):E==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(y&&b!==E?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),fn(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,v=E=>{const S=Dc(r.current).includes(E.animationName);if(E.target===t&&S&&(m("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},b=E=>{E.target===t&&(a.current=Dc(r.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:T.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function Dc(e){return(e==null?void 0:e.animationName)||"none"}function J_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var e3=L0[" useInsertionEffect ".trim().toString()]||fn;function xa({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,u]=t3({defaultProp:t,onChange:n}),h=e!==void 0,m=h?e:o;{const y=T.useRef(e!==void 0);T.useEffect(()=>{const v=y.current;v!==h&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,r])}const p=T.useCallback(y=>{var v;if(h){const b=n3(y)?y(e):y;b!==e&&((v=u.current)==null||v.call(u,b))}else a(y)},[h,e,a,u]);return[m,p]}function t3({defaultProp:e,onChange:t}){const[n,r]=T.useState(e),o=T.useRef(n),a=T.useRef(t);return e3(()=>{a.current=t},[t]),T.useEffect(()=>{var u;o.current!==n&&((u=a.current)==null||u.call(a,n),o.current=n)},[n,o]),[n,r,a]}function n3(e){return typeof e=="function"}var Zy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),r3="VisuallyHidden",xd=T.forwardRef((e,t)=>I.jsx(ze.span,{...e,ref:t,style:{...Zy,...e.style}}));xd.displayName=r3;var i3=xd,I1="ToastProvider",[R1,s3,o3]=T1("Toast"),[Qy,xP]=gs("Toast",[o3]),[a3,yd]=Qy(I1),Jy=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=e,[h,m]=T.useState(null),[p,y]=T.useState(0),v=T.useRef(!1),b=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${I1}\`. Expected non-empty \`string\`.`),I.jsx(R1.Provider,{scope:t,children:I.jsx(a3,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:a,toastCount:p,viewport:h,onViewportChange:m,onToastAdd:T.useCallback(()=>y(E=>E+1),[]),onToastRemove:T.useCallback(()=>y(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:b,children:u})})};Jy.displayName=I1;var ev="ToastViewport",l3=["F8"],Xh="toast.viewportPause",Kh="toast.viewportResume",tv=T.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=l3,label:o="Notifications ({hotkey})",...a}=e,u=yd(ev,n),h=s3(n),m=T.useRef(null),p=T.useRef(null),y=T.useRef(null),v=T.useRef(null),b=gt(t,v,u.onViewportChange),E=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=u.toastCount>0;T.useEffect(()=>{const k=N=>{var _;r.length!==0&&r.every(M=>N[M]||N.code===M)&&((_=v.current)==null||_.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),T.useEffect(()=>{const k=m.current,N=v.current;if(P&&k&&N){const A=()=>{if(!u.isClosePausedRef.current){const V=new CustomEvent(Xh);N.dispatchEvent(V),u.isClosePausedRef.current=!0}},_=()=>{if(u.isClosePausedRef.current){const V=new CustomEvent(Kh);N.dispatchEvent(V),u.isClosePausedRef.current=!1}},M=V=>{!k.contains(V.relatedTarget)&&_()},j=()=>{k.contains(document.activeElement)||_()};return k.addEventListener("focusin",A),k.addEventListener("focusout",M),k.addEventListener("pointermove",A),k.addEventListener("pointerleave",j),window.addEventListener("blur",A),window.addEventListener("focus",_),()=>{k.removeEventListener("focusin",A),k.removeEventListener("focusout",M),k.removeEventListener("pointermove",A),k.removeEventListener("pointerleave",j),window.removeEventListener("blur",A),window.removeEventListener("focus",_)}}},[P,u.isClosePausedRef]);const S=T.useCallback(({tabbingDirection:k})=>{const A=h().map(_=>{const M=_.ref.current,j=[M,...E3(M)];return k==="forwards"?j:j.reverse()});return(k==="forwards"?A.reverse():A).flat()},[h]);return T.useEffect(()=>{const k=v.current;if(k){const N=A=>{var j,V,F;const _=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!_){const $=document.activeElement,z=A.shiftKey;if(A.target===k&&z){(j=p.current)==null||j.focus();return}const Z=S({tabbingDirection:z?"backwards":"forwards"}),fe=Z.findIndex(te=>te===$);Of(Z.slice(fe+1))?A.preventDefault():z?(V=p.current)==null||V.focus():(F=y.current)==null||F.focus()}};return k.addEventListener("keydown",N),()=>k.removeEventListener("keydown",N)}},[h,S]),I.jsxs(q_,{ref:m,role:"region","aria-label":o.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&I.jsx(qh,{ref:p,onFocusFromOutsideViewport:()=>{const k=S({tabbingDirection:"forwards"});Of(k)}}),I.jsx(R1.Slot,{scope:n,children:I.jsx(ze.ol,{tabIndex:-1,...a,ref:b})}),P&&I.jsx(qh,{ref:y,onFocusFromOutsideViewport:()=>{const k=S({tabbingDirection:"backwards"});Of(k)}})]})});tv.displayName=ev;var nv="ToastFocusProxy",qh=T.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,a=yd(nv,n);return I.jsx(xd,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:u=>{var p;const h=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(h))&&r()}})});qh.displayName=nv;var tc="Toast",c3="toast.swipeStart",u3="toast.swipeMove",d3="toast.swipeCancel",f3="toast.swipeEnd",rv=T.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:a,...u}=e,[h,m]=xa({prop:r,defaultProp:o??!0,onChange:a,caller:tc});return I.jsx(ao,{present:n||h,children:I.jsx(p3,{open:h,...u,ref:t,onClose:()=>m(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:Re(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(e.onSwipeMove,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Re(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(e.onSwipeEnd,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),m(!1)})})})});rv.displayName=tc;var[h3,g3]=Qy(tc,{onClose(){}}),p3=T.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:h,onPause:m,onResume:p,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:E,...P}=e,S=yd(tc,n),[k,N]=T.useState(null),A=gt(t,te=>N(te)),_=T.useRef(null),M=T.useRef(null),j=o||S.duration,V=T.useRef(0),F=T.useRef(j),$=T.useRef(0),{onToastAdd:z,onToastRemove:re}=S,ge=pr(()=>{var H;(k==null?void 0:k.contains(document.activeElement))&&((H=S.viewport)==null||H.focus()),u()}),Z=T.useCallback(te=>{!te||te===1/0||(window.clearTimeout($.current),V.current=new Date().getTime(),$.current=window.setTimeout(ge,te))},[ge]);T.useEffect(()=>{const te=S.viewport;if(te){const H=()=>{Z(F.current),p==null||p()},le=()=>{const ie=new Date().getTime()-V.current;F.current=F.current-ie,window.clearTimeout($.current),m==null||m()};return te.addEventListener(Xh,le),te.addEventListener(Kh,H),()=>{te.removeEventListener(Xh,le),te.removeEventListener(Kh,H)}}},[S.viewport,j,m,p,Z]),T.useEffect(()=>{a&&!S.isClosePausedRef.current&&Z(j)},[a,j,S.isClosePausedRef,Z]),T.useEffect(()=>(z(),()=>re()),[z,re]);const fe=T.useMemo(()=>k?uv(k):null,[k]);return S.viewport?I.jsxs(I.Fragment,{children:[fe&&I.jsx(m3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:fe}),I.jsx(h3,{scope:n,onClose:ge,children:oo.createPortal(I.jsx(R1.ItemSlot,{scope:n,children:I.jsx(K_,{asChild:!0,onEscapeKeyDown:Re(h,()=>{S.isFocusedToastEscapeKeyDownRef.current||ge(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:I.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...P,ref:A,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Re(e.onKeyDown,te=>{te.key==="Escape"&&(h==null||h(te.nativeEvent),te.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,ge()))}),onPointerDown:Re(e.onPointerDown,te=>{te.button===0&&(_.current={x:te.clientX,y:te.clientY})}),onPointerMove:Re(e.onPointerMove,te=>{if(!_.current)return;const H=te.clientX-_.current.x,le=te.clientY-_.current.y,ie=!!M.current,Y=["left","right"].includes(S.swipeDirection),Q=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,de=Y?Q(0,H):0,Ie=Y?0:Q(0,le),me=te.pointerType==="touch"?10:2,Ne={x:de,y:Ie},be={originalEvent:te,delta:Ne};ie?(M.current=Ne,Mc(u3,v,be,{discrete:!1})):Xp(Ne,S.swipeDirection,me)?(M.current=Ne,Mc(c3,y,be,{discrete:!1}),te.target.setPointerCapture(te.pointerId)):(Math.abs(H)>me||Math.abs(le)>me)&&(_.current=null)}),onPointerUp:Re(e.onPointerUp,te=>{const H=M.current,le=te.target;if(le.hasPointerCapture(te.pointerId)&&le.releasePointerCapture(te.pointerId),M.current=null,_.current=null,H){const ie=te.currentTarget,Y={originalEvent:te,delta:H};Xp(H,S.swipeDirection,S.swipeThreshold)?Mc(f3,E,Y,{discrete:!0}):Mc(d3,b,Y,{discrete:!0}),ie.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),m3=e=>{const{__scopeToast:t,children:n,...r}=e,o=yd(tc,t),[a,u]=T.useState(!1),[h,m]=T.useState(!1);return y3(()=>u(!0)),T.useEffect(()=>{const p=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(p)},[]),h?null:I.jsx(wd,{asChild:!0,children:I.jsx(xd,{...r,children:a&&I.jsxs(I.Fragment,{children:[o.label," ",n]})})})},w3="ToastTitle",iv=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return I.jsx(ze.div,{...r,ref:t})});iv.displayName=w3;var x3="ToastDescription",sv=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return I.jsx(ze.div,{...r,ref:t})});sv.displayName=x3;var ov="ToastAction",av=T.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?I.jsx(cv,{altText:n,asChild:!0,children:I.jsx(N1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ov}\`. Expected non-empty \`string\`.`),null)});av.displayName=ov;var lv="ToastClose",N1=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=g3(lv,n);return I.jsx(cv,{asChild:!0,children:I.jsx(ze.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,o.onClose)})})});N1.displayName=lv;var cv=T.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return I.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function uv(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),v3(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...uv(r))}}),t}function Mc(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Xy(o,a):o.dispatchEvent(a)}var Xp=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),a=r>o;return t==="left"||t==="right"?a&&r>n:!a&&o>n};function y3(e=()=>{}){const t=pr(e);fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function v3(e){return e.nodeType===e.ELEMENT_NODE}function E3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Of(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var b3=Jy,dv=tv,fv=rv,hv=iv,gv=sv,pv=av,mv=N1;function wv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=wv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xv(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=wv(e))&&(r&&(r+=" "),r+=t);return r}const Kp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qp=xv,O1=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return qp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,u=Object.keys(o).map(p=>{const y=n==null?void 0:n[p],v=a==null?void 0:a[p];if(y===null)return null;const b=Kp(y)||Kp(v);return o[p][b]}),h=n&&Object.entries(n).reduce((p,y)=>{let[v,b]=y;return b===void 0||(p[v]=b),p},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:v,className:b,...E}=y;return Object.entries(E).every(P=>{let[S,k]=P;return Array.isArray(k)?k.includes({...a,...h}[S]):{...a,...h}[S]===k})?[...p,v,b]:p},[]);return qp(e,u,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...h},m)=>T.createElement("svg",{ref:m,...S3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yv("lucide",o),...h},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=(e,t)=>{const n=T.forwardRef(({className:r,...o},a)=>T.createElement(A3,{ref:a,iconNode:t,className:yv(`lucide-${C3(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=zn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=zn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=zn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=zn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=zn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=zn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=zn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=zn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=zn("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=zn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=zn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=zn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=zn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=zn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k1="-",O3=e=>{const t=P3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const h=u.split(k1);return h[0]===""&&h.length!==1&&h.shift(),_v(h,t)||k3(u)},getConflictingClassGroupIds:(u,h)=>{const m=n[u]||[];return h&&r[u]?[...m,...r[u]]:m}}},_v=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?_v(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(k1);return(u=t.validators.find(({validator:h})=>h(a)))==null?void 0:u.classGroupId},Zp=/^\[(.+)\]$/,k3=e=>{if(Zp.test(e)){const t=Zp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},P3=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return M3(Object.entries(e.classGroups),n).forEach(([a,u])=>{Yh(u,r,a,t)}),r},Yh=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Qp(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(D3(o)){Yh(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,u])=>{Yh(u,Qp(t,a),n,r)})})},Qp=(e,t)=>{let n=e;return t.split(k1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},D3=e=>e.isThemeGetter,M3=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,h])=>[t+u,h])):a);return[n,o]}):e,L3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){n.has(a)?n.set(a,u):o(a,u)}}},Tv="!",B3=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,u=h=>{const m=[];let p=0,y=0,v;for(let k=0;k<h.length;k++){let N=h[k];if(p===0){if(N===o&&(r||h.slice(k,k+a)===t)){m.push(h.slice(y,k)),y=k+a;continue}if(N==="/"){v=k;continue}}N==="["?p++:N==="]"&&p--}const b=m.length===0?h:h.substring(y),E=b.startsWith(Tv),P=E?b.substring(1):b,S=v&&v>y?v-y:void 0;return{modifiers:m,hasImportantModifier:E,baseClassName:P,maybePostfixModifierPosition:S}};return n?h=>n({className:h,parseClassName:u}):u},F3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},j3=e=>({cache:L3(e.cacheSize),parseClassName:B3(e),...O3(e)}),U3=/\s+/,V3=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],u=e.trim().split(U3);let h="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:y,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:E}=n(p);let P=!!E,S=r(P?b.substring(0,E):b);if(!S){if(!P){h=p+(h.length>0?" "+h:h);continue}if(S=r(b),!S){h=p+(h.length>0?" "+h:h);continue}P=!1}const k=F3(y).join(":"),N=v?k+Tv:k,A=N+S;if(a.includes(A))continue;a.push(A);const _=o(S,P);for(let M=0;M<_.length;++M){const j=_[M];a.push(N+j)}h=p+(h.length>0?" "+h:h)}return h};function W3(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Iv(t))&&(r&&(r+=" "),r+=n);return r}const Iv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Iv(e[r]))&&(n&&(n+=" "),n+=t);return n};function z3(e,...t){let n,r,o,a=u;function u(m){const p=t.reduce((y,v)=>v(y),e());return n=j3(p),r=n.cache.get,o=n.cache.set,a=h,h(m)}function h(m){const p=r(m);if(p)return p;const y=V3(m,n);return o(m,y),y}return function(){return a(W3.apply(null,arguments))}}const wt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Rv=/^\[(?:([a-z-]+):)?(.+)\]$/i,H3=/^\d+\/\d+$/,$3=new Set(["px","full","screen"]),G3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>Qo(e)||$3.has(e)||H3.test(e),Ni=e=>Ta(e,"length",iT),Qo=e=>!!e&&!Number.isNaN(Number(e)),kf=e=>Ta(e,"number",Qo),Ja=e=>!!e&&Number.isInteger(Number(e)),Z3=e=>e.endsWith("%")&&Qo(e.slice(0,-1)),je=e=>Rv.test(e),Oi=e=>G3.test(e),Q3=new Set(["length","size","percentage"]),J3=e=>Ta(e,Q3,Nv),eT=e=>Ta(e,"position",Nv),tT=new Set(["image","url"]),nT=e=>Ta(e,tT,oT),rT=e=>Ta(e,"",sT),el=()=>!0,Ta=(e,t,n)=>{const r=Rv.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},iT=e=>X3.test(e)&&!K3.test(e),Nv=()=>!1,sT=e=>q3.test(e),oT=e=>Y3.test(e),aT=()=>{const e=wt("colors"),t=wt("spacing"),n=wt("blur"),r=wt("brightness"),o=wt("borderColor"),a=wt("borderRadius"),u=wt("borderSpacing"),h=wt("borderWidth"),m=wt("contrast"),p=wt("grayscale"),y=wt("hueRotate"),v=wt("invert"),b=wt("gap"),E=wt("gradientColorStops"),P=wt("gradientColorStopPositions"),S=wt("inset"),k=wt("margin"),N=wt("opacity"),A=wt("padding"),_=wt("saturate"),M=wt("scale"),j=wt("sepia"),V=wt("skew"),F=wt("space"),$=wt("translate"),z=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],ge=()=>["auto",je,t],Z=()=>[je,t],fe=()=>["",oi,Ni],te=()=>["auto",Qo,je],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",je],de=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>[Qo,je];return{cacheSize:500,separator:":",theme:{colors:[el],spacing:[oi,Ni],blur:["none","",Oi,je],brightness:Ie(),borderColor:[e],borderRadius:["none","","full",Oi,je],borderSpacing:Z(),borderWidth:fe(),contrast:Ie(),grayscale:Q(),hueRotate:Ie(),invert:Q(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[Z3,Ni],inset:ge(),margin:ge(),opacity:Ie(),padding:Z(),saturate:Ie(),scale:Ie(),sepia:Q(),skew:Ie(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":de()}],"break-before":[{"break-before":de()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),je]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,je]}],basis:[{basis:ge()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",Ja,je]}],"grid-cols":[{"grid-cols":[el]}],"col-start-end":[{col:["auto",{span:["full",Ja,je]},je]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[el]}],"row-start-end":[{row:["auto",{span:[Ja,je]},je]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,t]}],"min-w":[{"min-w":[je,t,"min","max","fit"]}],"max-w":[{"max-w":[je,t,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,Ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[el]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",Qo,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,Ni]}],"underline-offset":[{"underline-offset":["auto",oi,je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),eT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",J3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:le()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[oi,je]}],"outline-w":[{outline:[oi,Ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[oi,Ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oi,rT]}],"shadow-color":[{shadow:[el]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Oi,je]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:Ie()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:Ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Ja,je]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oi,Ni,kf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lT=z3(aT);function We(...e){return lT(xv(e))}const cT=b3,Ov=T.forwardRef(({className:e,...t},n)=>I.jsx(dv,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ov.displayName=dv.displayName;const uT=O1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kv=T.forwardRef(({className:e,variant:t,...n},r)=>I.jsx(fv,{ref:r,className:We(uT({variant:t}),e),...n}));kv.displayName=fv.displayName;const dT=T.forwardRef(({className:e,...t},n)=>I.jsx(pv,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));dT.displayName=pv.displayName;const Pv=T.forwardRef(({className:e,...t},n)=>I.jsx(mv,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:I.jsx(Av,{className:"h-4 w-4"})}));Pv.displayName=mv.displayName;const Dv=T.forwardRef(({className:e,...t},n)=>I.jsx(hv,{ref:n,className:We("text-sm font-semibold",e),...t}));Dv.displayName=hv.displayName;const Mv=T.forwardRef(({className:e,...t},n)=>I.jsx(gv,{ref:n,className:We("text-sm opacity-90",e),...t}));Mv.displayName=gv.displayName;function fT(){const{toasts:e}=O_();return I.jsxs(cT,{children:[e.map(function({id:t,title:n,description:r,action:o,...a}){return I.jsxs(kv,{...a,children:[I.jsxs("div",{className:"grid gap-1",children:[n&&I.jsx(Dv,{children:n}),r&&I.jsx(Mv,{children:r})]}),o,I.jsx(Pv,{})]},t)}),I.jsx(Ov,{})]})}var Jp=["light","dark"],hT="(prefers-color-scheme: dark)",gT=T.createContext(void 0),pT={setTheme:e=>{},themes:[]},mT=()=>{var e;return(e=T.useContext(gT))!=null?e:pT};T.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:u,attrs:h,nonce:m})=>{let p=a==="system",y=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${h.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=o?Jp.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",b=(P,S=!1,k=!0)=>{let N=u?u[P]:P,A=S?P+"|| ''":`'${N}'`,_="";return o&&k&&!S&&Jp.includes(P)&&(_+=`d.style.colorScheme = '${P}';`),n==="class"?S||N?_+=`c.add(${A})`:_+="null":N&&(_+=`d[s](n,${A})`),_},E=e?`!function(){${y}${b(e)}}()`:r?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${hT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${b("dark")}}else{${b("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${b(u?"x[e]":"e",!0)}}${p?"":"else{"+b(a,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${b(u?"x[e]":"e",!0)}}else{${b(a,!1,!1)};}${v}}catch(t){}}();`;return T.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:E}})});var wT=e=>{switch(e){case"success":return vT;case"info":return bT;case"warning":return ET;case"error":return CT;default:return null}},xT=Array(12).fill(0),yT=({visible:e,className:t})=>ue.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ue.createElement("div",{className:"sonner-spinner"},xT.map((n,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vT=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ET=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bT=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CT=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ST=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AT=()=>{let[e,t]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Zh=1,_T=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zh++,a=this.toasts.find(h=>h.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:n}),{...h,...e,id:o,dismissible:u,title:n}):h):this.addToast({title:n,...r,dismissible:u,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),o=n!==void 0,a,u=r.then(async m=>{if(a=["resolve",m],ue.isValidElement(m))o=!1,this.create({id:n,type:"default",message:m});else if(IT(m)&&!m.ok){o=!1;let p=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description;this.create({id:n,type:"error",message:p,description:y})}else if(t.success!==void 0){o=!1;let p=typeof t.success=="function"?await t.success(m):t.success,y=typeof t.description=="function"?await t.description(m):t.description;this.create({id:n,type:"success",message:p,description:y})}}).catch(async m=>{if(a=["reject",m],t.error!==void 0){o=!1;let p=typeof t.error=="function"?await t.error(m):t.error,y=typeof t.description=="function"?await t.description(m):t.description;this.create({id:n,type:"error",message:p,description:y})}}).finally(()=>{var m;o&&(this.dismiss(n),n=void 0),(m=t.finally)==null||m.call(t)}),h=()=>new Promise((m,p)=>u.then(()=>a[0]==="reject"?p(a[1]):m(a[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Zh++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ln=new _T,TT=(e,t)=>{let n=(t==null?void 0:t.id)||Zh++;return Ln.addToast({title:e,...t,id:n}),n},IT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RT=TT,NT=()=>Ln.toasts,OT=()=>Ln.getActiveToasts(),Et=Object.assign(RT,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:NT,getToasts:OT});function kT(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}kT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lc(e){return e.label!==void 0}var PT=3,DT="32px",MT="16px",em=4e3,LT=356,BT=14,FT=20,jT=200;function Er(...e){return e.filter(Boolean).join(" ")}function UT(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var VT=e=>{var t,n,r,o,a,u,h,m,p,y,v;let{invert:b,toast:E,unstyled:P,interacting:S,setHeights:k,visibleToasts:N,heights:A,index:_,toasts:M,expanded:j,removeToast:V,defaultRichColors:F,closeButton:$,style:z,cancelButtonStyle:re,actionButtonStyle:ge,className:Z="",descriptionClassName:fe="",duration:te,position:H,gap:le,loadingIcon:ie,expandByDefault:Y,classNames:Q,icons:de,closeButtonAriaLabel:Ie="Close toast",pauseWhenPageIsHidden:me}=e,[Ne,be]=ue.useState(null),[st,pe]=ue.useState(null),[he,Pe]=ue.useState(!1),[at,$e]=ue.useState(!1),[Oe,Ge]=ue.useState(!1),[De,Wt]=ue.useState(!1),[Qt,Nn]=ue.useState(!1),[pt,et]=ue.useState(0),[Ue,ys]=ue.useState(0),we=ue.useRef(E.duration||te||em),vs=ue.useRef(null),jr=ue.useRef(null),mr=_===0,Da=_+1<=N,bt=E.type,ii=E.dismissible!==!1,Ur=E.className||"",sn=E.descriptionClassName||"",Es=ue.useMemo(()=>A.findIndex(Ae=>Ae.toastId===E.id)||0,[A,E.id]),fo=ue.useMemo(()=>{var Ae;return(Ae=E.closeButton)!=null?Ae:$},[E.closeButton,$]),oc=ue.useMemo(()=>E.duration||te||em,[E.duration,te]),Ct=ue.useRef(0),ce=ue.useRef(0),kt=ue.useRef(0),Ye=ue.useRef(null),[St,bs]=H.split("-"),ho=ue.useMemo(()=>A.reduce((Ae,tt,Fe)=>Fe>=Es?Ae:Ae+tt.height,0),[A,Es]),Ma=AT(),Ze=E.invert||b,wr=bt==="loading";ce.current=ue.useMemo(()=>Es*le+ho,[Es,ho]),ue.useEffect(()=>{we.current=oc},[oc]),ue.useEffect(()=>{Pe(!0)},[]),ue.useEffect(()=>{let Ae=jr.current;if(Ae){let tt=Ae.getBoundingClientRect().height;return ys(tt),k(Fe=>[{toastId:E.id,height:tt,position:E.position},...Fe]),()=>k(Fe=>Fe.filter(Jt=>Jt.toastId!==E.id))}},[k,E.id]),ue.useLayoutEffect(()=>{if(!he)return;let Ae=jr.current,tt=Ae.style.height;Ae.style.height="auto";let Fe=Ae.getBoundingClientRect().height;Ae.style.height=tt,ys(Fe),k(Jt=>Jt.find(hn=>hn.toastId===E.id)?Jt.map(hn=>hn.toastId===E.id?{...hn,height:Fe}:hn):[{toastId:E.id,height:Fe,position:E.position},...Jt])},[he,E.title,E.description,k,E.id]);let xr=ue.useCallback(()=>{$e(!0),et(ce.current),k(Ae=>Ae.filter(tt=>tt.toastId!==E.id)),setTimeout(()=>{V(E)},jT)},[E,V,k,ce]);ue.useEffect(()=>{if(E.promise&&bt==="loading"||E.duration===1/0||E.type==="loading")return;let Ae;return j||S||me&&Ma?(()=>{if(kt.current<Ct.current){let tt=new Date().getTime()-Ct.current;we.current=we.current-tt}kt.current=new Date().getTime()})():we.current!==1/0&&(Ct.current=new Date().getTime(),Ae=setTimeout(()=>{var tt;(tt=E.onAutoClose)==null||tt.call(E,E),xr()},we.current)),()=>clearTimeout(Ae)},[j,S,E,bt,me,Ma,xr]),ue.useEffect(()=>{E.delete&&xr()},[xr,E.delete]);function ac(){var Ae,tt,Fe;return de!=null&&de.loading?ue.createElement("div",{className:Er(Q==null?void 0:Q.loader,(Ae=E==null?void 0:E.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":bt==="loading"},de.loading):ie?ue.createElement("div",{className:Er(Q==null?void 0:Q.loader,(tt=E==null?void 0:E.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":bt==="loading"},ie):ue.createElement(yT,{className:Er(Q==null?void 0:Q.loader,(Fe=E==null?void 0:E.classNames)==null?void 0:Fe.loader),visible:bt==="loading"})}return ue.createElement("li",{tabIndex:0,ref:jr,className:Er(Z,Ur,Q==null?void 0:Q.toast,(t=E==null?void 0:E.classNames)==null?void 0:t.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[bt],(n=E==null?void 0:E.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(r=E.richColors)!=null?r:F,"data-styled":!(E.jsx||E.unstyled||P),"data-mounted":he,"data-promise":!!E.promise,"data-swiped":Qt,"data-removed":at,"data-visible":Da,"data-y-position":St,"data-x-position":bs,"data-index":_,"data-front":mr,"data-swiping":Oe,"data-dismissible":ii,"data-type":bt,"data-invert":Ze,"data-swipe-out":De,"data-swipe-direction":st,"data-expanded":!!(j||Y&&he),style:{"--index":_,"--toasts-before":_,"--z-index":M.length-_,"--offset":`${at?pt:ce.current}px`,"--initial-height":Y?"auto":`${Ue}px`,...z,...E.style},onDragEnd:()=>{Ge(!1),be(null),Ye.current=null},onPointerDown:Ae=>{wr||!ii||(vs.current=new Date,et(ce.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Ge(!0),Ye.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,tt,Fe,Jt;if(De||!ii)return;Ye.current=null;let hn=Number(((Ae=jr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zt=Number(((tt=jr.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),si=new Date().getTime()-((Fe=vs.current)==null?void 0:Fe.getTime()),Ht=Ne==="x"?hn:zt,nr=Math.abs(Ht)/si;if(Math.abs(Ht)>=FT||nr>.11){et(ce.current),(Jt=E.onDismiss)==null||Jt.call(E,E),pe(Ne==="x"?hn>0?"right":"left":zt>0?"down":"up"),xr(),Wt(!0),Nn(!1);return}Ge(!1),be(null)},onPointerMove:Ae=>{var tt,Fe,Jt,hn;if(!Ye.current||!ii||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let zt=Ae.clientY-Ye.current.y,si=Ae.clientX-Ye.current.x,Ht=(Fe=e.swipeDirections)!=null?Fe:UT(H);!Ne&&(Math.abs(si)>1||Math.abs(zt)>1)&&be(Math.abs(si)>Math.abs(zt)?"x":"y");let nr={x:0,y:0};Ne==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&zt<0||Ht.includes("bottom")&&zt>0)&&(nr.y=zt):Ne==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&si<0||Ht.includes("right")&&si>0)&&(nr.x=si),(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&Nn(!0),(Jt=jr.current)==null||Jt.style.setProperty("--swipe-amount-x",`${nr.x}px`),(hn=jr.current)==null||hn.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},fo&&!E.jsx?ue.createElement("button",{"aria-label":Ie,"data-disabled":wr,"data-close-button":!0,onClick:wr||!ii?()=>{}:()=>{var Ae;xr(),(Ae=E.onDismiss)==null||Ae.call(E,E)},className:Er(Q==null?void 0:Q.closeButton,(o=E==null?void 0:E.classNames)==null?void 0:o.closeButton)},(a=de==null?void 0:de.close)!=null?a:ST):null,E.jsx||T.isValidElement(E.title)?E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title:ue.createElement(ue.Fragment,null,bt||E.icon||E.promise?ue.createElement("div",{"data-icon":"",className:Er(Q==null?void 0:Q.icon,(u=E==null?void 0:E.classNames)==null?void 0:u.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||ac():null,E.type!=="loading"?E.icon||(de==null?void 0:de[bt])||wT(bt):null):null,ue.createElement("div",{"data-content":"",className:Er(Q==null?void 0:Q.content,(h=E==null?void 0:E.classNames)==null?void 0:h.content)},ue.createElement("div",{"data-title":"",className:Er(Q==null?void 0:Q.title,(m=E==null?void 0:E.classNames)==null?void 0:m.title)},typeof E.title=="function"?E.title():E.title),E.description?ue.createElement("div",{"data-description":"",className:Er(fe,sn,Q==null?void 0:Q.description,(p=E==null?void 0:E.classNames)==null?void 0:p.description)},typeof E.description=="function"?E.description():E.description):null),T.isValidElement(E.cancel)?E.cancel:E.cancel&&Lc(E.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||re,onClick:Ae=>{var tt,Fe;Lc(E.cancel)&&ii&&((Fe=(tt=E.cancel).onClick)==null||Fe.call(tt,Ae),xr())},className:Er(Q==null?void 0:Q.cancelButton,(y=E==null?void 0:E.classNames)==null?void 0:y.cancelButton)},E.cancel.label):null,T.isValidElement(E.action)?E.action:E.action&&Lc(E.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||ge,onClick:Ae=>{var tt,Fe;Lc(E.action)&&((Fe=(tt=E.action).onClick)==null||Fe.call(tt,Ae),!Ae.defaultPrevented&&xr())},className:Er(Q==null?void 0:Q.actionButton,(v=E==null?void 0:E.classNames)==null?void 0:v.actionButton)},E.action.label):null))};function tm(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function WT(e,t){let n={};return[e,t].forEach((r,o)=>{let a=o===1,u=a?"--mobile-offset":"--offset",h=a?MT:DT;function m(p){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${u}-${p}`]=h:n[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(h)}),n}var zT=T.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:u,className:h,offset:m,mobileOffset:p,theme:y="light",richColors:v,duration:b,style:E,visibleToasts:P=PT,toastOptions:S,dir:k=tm(),gap:N=BT,loadingIcon:A,icons:_,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:j}=e,[V,F]=ue.useState([]),$=ue.useMemo(()=>Array.from(new Set([r].concat(V.filter(me=>me.position).map(me=>me.position)))),[V,r]),[z,re]=ue.useState([]),[ge,Z]=ue.useState(!1),[fe,te]=ue.useState(!1),[H,le]=ue.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=ue.useRef(null),Y=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=ue.useRef(null),de=ue.useRef(!1),Ie=ue.useCallback(me=>{F(Ne=>{var be;return(be=Ne.find(st=>st.id===me.id))!=null&&be.delete||Ln.dismiss(me.id),Ne.filter(({id:st})=>st!==me.id)})},[]);return ue.useEffect(()=>Ln.subscribe(me=>{if(me.dismiss){F(Ne=>Ne.map(be=>be.id===me.id?{...be,delete:!0}:be));return}setTimeout(()=>{zy.flushSync(()=>{F(Ne=>{let be=Ne.findIndex(st=>st.id===me.id);return be!==-1?[...Ne.slice(0,be),{...Ne[be],...me},...Ne.slice(be+1)]:[me,...Ne]})})})}),[]),ue.useEffect(()=>{if(y!=="system"){le(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;let me=window.matchMedia("(prefers-color-scheme: dark)");try{me.addEventListener("change",({matches:Ne})=>{le(Ne?"dark":"light")})}catch{me.addListener(({matches:be})=>{try{le(be?"dark":"light")}catch(st){console.error(st)}})}},[y]),ue.useEffect(()=>{V.length<=1&&Z(!1)},[V]),ue.useEffect(()=>{let me=Ne=>{var be,st;o.every(pe=>Ne[pe]||Ne.code===pe)&&(Z(!0),(be=ie.current)==null||be.focus()),Ne.code==="Escape"&&(document.activeElement===ie.current||(st=ie.current)!=null&&st.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[o]),ue.useEffect(()=>{if(ie.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,de.current=!1)}},[ie.current]),ue.createElement("section",{ref:t,"aria-label":`${M} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((me,Ne)=>{var be;let[st,pe]=me.split("-");return V.length?ue.createElement("ol",{key:me,dir:k==="auto"?tm():k,tabIndex:-1,ref:ie,className:h,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":st,"data-lifted":ge&&V.length>1&&!a,"data-x-position":pe,style:{"--front-toast-height":`${((be=z[0])==null?void 0:be.height)||0}px`,"--width":`${LT}px`,"--gap":`${N}px`,...E,...WT(m,p)},onBlur:he=>{de.current&&!he.currentTarget.contains(he.relatedTarget)&&(de.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||de.current||(de.current=!0,Q.current=he.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{fe||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:he=>{he.target instanceof HTMLElement&&he.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},V.filter(he=>!he.position&&Ne===0||he.position===me).map((he,Pe)=>{var at,$e;return ue.createElement(VT,{key:he.id,icons:_,index:Pe,toast:he,defaultRichColors:v,duration:(at=S==null?void 0:S.duration)!=null?at:b,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:n,visibleToasts:P,closeButton:($e=S==null?void 0:S.closeButton)!=null?$e:u,interacting:fe,position:me,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,removeToast:Ie,toasts:V.filter(Oe=>Oe.position==he.position),heights:z.filter(Oe=>Oe.position==he.position),setHeights:re,expandByDefault:a,gap:N,loadingIcon:A,expanded:ge,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const HT=({...e})=>{const{theme:t="system"}=mT();return I.jsx(zT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var $T=L0[" useId ".trim().toString()]||(()=>{}),GT=0;function is(e){const[t,n]=T.useState($T());return fn(()=>{e||n(r=>r??String(GT++))},[e]),e||(t?`radix-${t}`:"")}const XT=["top","right","bottom","left"],cs=Math.min,Xn=Math.max,Uu=Math.round,Bc=Math.floor,ti=e=>({x:e,y:e}),KT={left:"right",right:"left",bottom:"top",top:"bottom"},qT={start:"end",end:"start"};function Qh(e,t,n){return Xn(e,cs(t,n))}function vi(e,t){return typeof e=="function"?e(t):e}function Ei(e){return e.split("-")[0]}function Ia(e){return e.split("-")[1]}function P1(e){return e==="x"?"y":"x"}function D1(e){return e==="y"?"height":"width"}const YT=new Set(["top","bottom"]);function Qr(e){return YT.has(Ei(e))?"y":"x"}function M1(e){return P1(Qr(e))}function ZT(e,t,n){n===void 0&&(n=!1);const r=Ia(e),o=M1(e),a=D1(o);let u=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=Vu(u)),[u,Vu(u)]}function QT(e){const t=Vu(e);return[Jh(e),t,Jh(t)]}function Jh(e){return e.replace(/start|end/g,t=>qT[t])}const nm=["left","right"],rm=["right","left"],JT=["top","bottom"],eI=["bottom","top"];function tI(e,t,n){switch(e){case"top":case"bottom":return n?t?rm:nm:t?nm:rm;case"left":case"right":return t?JT:eI;default:return[]}}function nI(e,t,n,r){const o=Ia(e);let a=tI(Ei(e),n==="start",r);return o&&(a=a.map(u=>u+"-"+o),t&&(a=a.concat(a.map(Jh)))),a}function Vu(e){return e.replace(/left|right|bottom|top/g,t=>KT[t])}function rI(e){return{top:0,right:0,bottom:0,left:0,...e}}function Lv(e){return typeof e!="number"?rI(e):{top:e,right:e,bottom:e,left:e}}function Wu(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function im(e,t,n){let{reference:r,floating:o}=e;const a=Qr(t),u=M1(t),h=D1(u),m=Ei(t),p=a==="y",y=r.x+r.width/2-o.width/2,v=r.y+r.height/2-o.height/2,b=r[h]/2-o[h]/2;let E;switch(m){case"top":E={x:y,y:r.y-o.height};break;case"bottom":E={x:y,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:v};break;case"left":E={x:r.x-o.width,y:v};break;default:E={x:r.x,y:r.y}}switch(Ia(t)){case"start":E[u]-=b*(n&&p?-1:1);break;case"end":E[u]+=b*(n&&p?-1:1);break}return E}const iI=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=n,h=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:o}),{x:y,y:v}=im(p,r,m),b=r,E={},P=0;for(let S=0;S<h.length;S++){const{name:k,fn:N}=h[S],{x:A,y:_,data:M,reset:j}=await N({x:y,y:v,initialPlacement:r,placement:b,strategy:o,middlewareData:E,rects:p,platform:u,elements:{reference:e,floating:t}});y=A??y,v=_??v,E={...E,[k]:{...E[k],...M}},j&&P<=50&&(P++,typeof j=="object"&&(j.placement&&(b=j.placement),j.rects&&(p=j.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:o}):j.rects),{x:y,y:v}=im(p,b,m)),S=-1)}return{x:y,y:v,placement:b,strategy:o,middlewareData:E}};async function Bl(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:u,elements:h,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:b=!1,padding:E=0}=vi(t,e),P=Lv(E),k=h[b?v==="floating"?"reference":"floating":v],N=Wu(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(k)))==null||n?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:p,rootBoundary:y,strategy:m})),A=v==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),M=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},j=Wu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:A,offsetParent:_,strategy:m}):A);return{top:(N.top-j.top+P.top)/M.y,bottom:(j.bottom-N.bottom+P.bottom)/M.y,left:(N.left-j.left+P.left)/M.x,right:(j.right-N.right+P.right)/M.x}}const sI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:u,elements:h,middlewareData:m}=t,{element:p,padding:y=0}=vi(e,t)||{};if(p==null)return{};const v=Lv(y),b={x:n,y:r},E=M1(o),P=D1(E),S=await u.getDimensions(p),k=E==="y",N=k?"top":"left",A=k?"bottom":"right",_=k?"clientHeight":"clientWidth",M=a.reference[P]+a.reference[E]-b[E]-a.floating[P],j=b[E]-a.reference[E],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let F=V?V[_]:0;(!F||!await(u.isElement==null?void 0:u.isElement(V)))&&(F=h.floating[_]||a.floating[P]);const $=M/2-j/2,z=F/2-S[P]/2-1,re=cs(v[N],z),ge=cs(v[A],z),Z=re,fe=F-S[P]-ge,te=F/2-S[P]/2+$,H=Qh(Z,te,fe),le=!m.arrow&&Ia(o)!=null&&te!==H&&a.reference[P]/2-(te<Z?re:ge)-S[P]/2<0,ie=le?te<Z?te-Z:te-fe:0;return{[E]:b[E]+ie,data:{[E]:H,centerOffset:te-H-ie,...le&&{alignmentOffset:ie}},reset:le}}}),oI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:h,platform:m,elements:p}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:S=!0,...k}=vi(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=Ei(o),A=Qr(h),_=Ei(h)===h,M=await(m.isRTL==null?void 0:m.isRTL(p.floating)),j=b||(_||!S?[Vu(h)]:QT(h)),V=P!=="none";!b&&V&&j.push(...nI(h,S,P,M));const F=[h,...j],$=await Bl(t,k),z=[];let re=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&z.push($[N]),v){const te=ZT(o,u,M);z.push($[te[0]],$[te[1]])}if(re=[...re,{placement:o,overflows:z}],!z.every(te=>te<=0)){var ge,Z;const te=(((ge=a.flip)==null?void 0:ge.index)||0)+1,H=F[te];if(H&&(!(v==="alignment"?A!==Qr(H):!1)||re.every(Y=>Y.overflows[0]>0&&Qr(Y.placement)===A)))return{data:{index:te,overflows:re},reset:{placement:H}};let le=(Z=re.filter(ie=>ie.overflows[0]<=0).sort((ie,Y)=>ie.overflows[1]-Y.overflows[1])[0])==null?void 0:Z.placement;if(!le)switch(E){case"bestFit":{var fe;const ie=(fe=re.filter(Y=>{if(V){const Q=Qr(Y.placement);return Q===A||Q==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Q=>Q>0).reduce((Q,de)=>Q+de,0)]).sort((Y,Q)=>Y[1]-Q[1])[0])==null?void 0:fe[0];ie&&(le=ie);break}case"initialPlacement":le=h;break}if(o!==le)return{reset:{placement:le}}}return{}}}};function sm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function om(e){return XT.some(t=>e[t]>=0)}const aI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=vi(e,t);switch(r){case"referenceHidden":{const a=await Bl(t,{...o,elementContext:"reference"}),u=sm(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:om(u)}}}case"escaped":{const a=await Bl(t,{...o,altBoundary:!0}),u=sm(a,n.floating);return{data:{escapedOffsets:u,escaped:om(u)}}}default:return{}}}}},Bv=new Set(["left","top"]);async function lI(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Ei(n),h=Ia(n),m=Qr(n)==="y",p=Bv.has(u)?-1:1,y=a&&m?-1:1,v=vi(t,e);let{mainAxis:b,crossAxis:E,alignmentAxis:P}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof P=="number"&&(E=h==="end"?P*-1:P),m?{x:E*y,y:b*p}:{x:b*p,y:E*y}}const cI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:u,middlewareData:h}=t,m=await lI(t,e);return u===((n=h.offset)==null?void 0:n.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:a+m.y,data:{...m,placement:u}}}}},uI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:k=>{let{x:N,y:A}=k;return{x:N,y:A}}},...m}=vi(e,t),p={x:n,y:r},y=await Bl(t,m),v=Qr(Ei(o)),b=P1(v);let E=p[b],P=p[v];if(a){const k=b==="y"?"top":"left",N=b==="y"?"bottom":"right",A=E+y[k],_=E-y[N];E=Qh(A,E,_)}if(u){const k=v==="y"?"top":"left",N=v==="y"?"bottom":"right",A=P+y[k],_=P-y[N];P=Qh(A,P,_)}const S=h.fn({...t,[b]:E,[v]:P});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[b]:a,[v]:u}}}}}},dI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:u}=t,{offset:h=0,mainAxis:m=!0,crossAxis:p=!0}=vi(e,t),y={x:n,y:r},v=Qr(o),b=P1(v);let E=y[b],P=y[v];const S=vi(h,t),k=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const _=b==="y"?"height":"width",M=a.reference[b]-a.floating[_]+k.mainAxis,j=a.reference[b]+a.reference[_]-k.mainAxis;E<M?E=M:E>j&&(E=j)}if(p){var N,A;const _=b==="y"?"width":"height",M=Bv.has(Ei(o)),j=a.reference[v]-a.floating[_]+(M&&((N=u.offset)==null?void 0:N[v])||0)+(M?0:k.crossAxis),V=a.reference[v]+a.reference[_]+(M?0:((A=u.offset)==null?void 0:A[v])||0)-(M?k.crossAxis:0);P<j?P=j:P>V&&(P=V)}return{[b]:E,[v]:P}}}},fI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:u,elements:h}=t,{apply:m=()=>{},...p}=vi(e,t),y=await Bl(t,p),v=Ei(o),b=Ia(o),E=Qr(o)==="y",{width:P,height:S}=a.floating;let k,N;v==="top"||v==="bottom"?(k=v,N=b===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(N=v,k=b==="end"?"top":"bottom");const A=S-y.top-y.bottom,_=P-y.left-y.right,M=cs(S-y[k],A),j=cs(P-y[N],_),V=!t.middlewareData.shift;let F=M,$=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=A),V&&!b){const re=Xn(y.left,0),ge=Xn(y.right,0),Z=Xn(y.top,0),fe=Xn(y.bottom,0);E?$=P-2*(re!==0||ge!==0?re+ge:Xn(y.left,y.right)):F=S-2*(Z!==0||fe!==0?Z+fe:Xn(y.top,y.bottom))}await m({...t,availableWidth:$,availableHeight:F});const z=await u.getDimensions(h.floating);return P!==z.width||S!==z.height?{reset:{rects:!0}}:{}}}};function vd(){return typeof window<"u"}function Ra(e){return Fv(e)?(e.nodeName||"").toLowerCase():"#document"}function Qn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(Fv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fv(e){return vd()?e instanceof Node||e instanceof Qn(e).Node:!1}function Lr(e){return vd()?e instanceof Element||e instanceof Qn(e).Element:!1}function ni(e){return vd()?e instanceof HTMLElement||e instanceof Qn(e).HTMLElement:!1}function am(e){return!vd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qn(e).ShadowRoot}const hI=new Set(["inline","contents"]);function nc(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!hI.has(o)}const gI=new Set(["table","td","th"]);function pI(e){return gI.has(Ra(e))}const mI=[":popover-open",":modal"];function Ed(e){return mI.some(t=>{try{return e.matches(t)}catch{return!1}})}const wI=["transform","translate","scale","rotate","perspective"],xI=["transform","translate","scale","rotate","perspective","filter"],yI=["paint","layout","strict","content"];function L1(e){const t=B1(),n=Lr(e)?Br(e):e;return wI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xI.some(r=>(n.willChange||"").includes(r))||yI.some(r=>(n.contain||"").includes(r))}function vI(e){let t=us(e);for(;ni(t)&&!ya(t);){if(L1(t))return t;if(Ed(t))return null;t=us(t)}return null}function B1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EI=new Set(["html","body","#document"]);function ya(e){return EI.has(Ra(e))}function Br(e){return Qn(e).getComputedStyle(e)}function bd(e){return Lr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function us(e){if(Ra(e)==="html")return e;const t=e.assignedSlot||e.parentNode||am(e)&&e.host||ri(e);return am(t)?t.host:t}function jv(e){const t=us(e);return ya(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&nc(t)?t:jv(t)}function Fl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=jv(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),u=Qn(o);if(a){const h=e0(u);return t.concat(u,u.visualViewport||[],nc(o)?o:[],h&&n?Fl(h):[])}return t.concat(o,Fl(o,[],n))}function e0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Uv(e){const t=Br(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ni(e),a=o?e.offsetWidth:n,u=o?e.offsetHeight:r,h=Uu(n)!==a||Uu(r)!==u;return h&&(n=a,r=u),{width:n,height:r,$:h}}function F1(e){return Lr(e)?e:e.contextElement}function Jo(e){const t=F1(e);if(!ni(t))return ti(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=Uv(t);let u=(a?Uu(n.width):n.width)/r,h=(a?Uu(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const bI=ti(0);function Vv(e){const t=Qn(e);return!B1()||!t.visualViewport?bI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function CI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qn(e)?!1:t}function Js(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=F1(e);let u=ti(1);t&&(r?Lr(r)&&(u=Jo(r)):u=Jo(e));const h=CI(a,n,r)?Vv(a):ti(0);let m=(o.left+h.x)/u.x,p=(o.top+h.y)/u.y,y=o.width/u.x,v=o.height/u.y;if(a){const b=Qn(a),E=r&&Lr(r)?Qn(r):r;let P=b,S=e0(P);for(;S&&r&&E!==P;){const k=Jo(S),N=S.getBoundingClientRect(),A=Br(S),_=N.left+(S.clientLeft+parseFloat(A.paddingLeft))*k.x,M=N.top+(S.clientTop+parseFloat(A.paddingTop))*k.y;m*=k.x,p*=k.y,y*=k.x,v*=k.y,m+=_,p+=M,P=Qn(S),S=e0(P)}}return Wu({width:y,height:v,x:m,y:p})}function j1(e,t){const n=bd(e).scrollLeft;return t?t.left+n:Js(ri(e)).left+n}function Wv(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:j1(e,r)),a=r.top+t.scrollTop;return{x:o,y:a}}function SI(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",u=ri(r),h=t?Ed(t.floating):!1;if(r===u||h&&a)return n;let m={scrollLeft:0,scrollTop:0},p=ti(1);const y=ti(0),v=ni(r);if((v||!v&&!a)&&((Ra(r)!=="body"||nc(u))&&(m=bd(r)),ni(r))){const E=Js(r);p=Jo(r),y.x=E.x+r.clientLeft,y.y=E.y+r.clientTop}const b=u&&!v&&!a?Wv(u,m,!0):ti(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+y.x+b.x,y:n.y*p.y-m.scrollTop*p.y+y.y+b.y}}function AI(e){return Array.from(e.getClientRects())}function _I(e){const t=ri(e),n=bd(e),r=e.ownerDocument.body,o=Xn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Xn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+j1(e);const h=-n.scrollTop;return Br(r).direction==="rtl"&&(u+=Xn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:h}}function TI(e,t){const n=Qn(e),r=ri(e),o=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,m=0;if(o){a=o.width,u=o.height;const p=B1();(!p||p&&t==="fixed")&&(h=o.offsetLeft,m=o.offsetTop)}return{width:a,height:u,x:h,y:m}}const II=new Set(["absolute","fixed"]);function RI(e,t){const n=Js(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=ni(e)?Jo(e):ti(1),u=e.clientWidth*a.x,h=e.clientHeight*a.y,m=o*a.x,p=r*a.y;return{width:u,height:h,x:m,y:p}}function lm(e,t,n){let r;if(t==="viewport")r=TI(e,n);else if(t==="document")r=_I(ri(e));else if(Lr(t))r=RI(t,n);else{const o=Vv(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Wu(r)}function zv(e,t){const n=us(e);return n===t||!Lr(n)||ya(n)?!1:Br(n).position==="fixed"||zv(n,t)}function NI(e,t){const n=t.get(e);if(n)return n;let r=Fl(e,[],!1).filter(h=>Lr(h)&&Ra(h)!=="body"),o=null;const a=Br(e).position==="fixed";let u=a?us(e):e;for(;Lr(u)&&!ya(u);){const h=Br(u),m=L1(u);!m&&h.position==="fixed"&&(o=null),(a?!m&&!o:!m&&h.position==="static"&&!!o&&II.has(o.position)||nc(u)&&!m&&zv(e,u))?r=r.filter(y=>y!==u):o=h,u=us(u)}return t.set(e,r),r}function OI(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const u=[...n==="clippingAncestors"?Ed(t)?[]:NI(t,this._c):[].concat(n),r],h=u[0],m=u.reduce((p,y)=>{const v=lm(t,y,o);return p.top=Xn(v.top,p.top),p.right=cs(v.right,p.right),p.bottom=cs(v.bottom,p.bottom),p.left=Xn(v.left,p.left),p},lm(t,h,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function kI(e){const{width:t,height:n}=Uv(e);return{width:t,height:n}}function PI(e,t,n){const r=ni(t),o=ri(t),a=n==="fixed",u=Js(e,!0,a,t);let h={scrollLeft:0,scrollTop:0};const m=ti(0);function p(){m.x=j1(o)}if(r||!r&&!a)if((Ra(t)!=="body"||nc(o))&&(h=bd(t)),r){const E=Js(t,!0,a,t);m.x=E.x+t.clientLeft,m.y=E.y+t.clientTop}else o&&p();a&&!r&&o&&p();const y=o&&!r&&!a?Wv(o,h):ti(0),v=u.left+h.scrollLeft-m.x-y.x,b=u.top+h.scrollTop-m.y-y.y;return{x:v,y:b,width:u.width,height:u.height}}function Pf(e){return Br(e).position==="static"}function cm(e,t){if(!ni(e)||Br(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ri(e)===n&&(n=n.ownerDocument.body),n}function Hv(e,t){const n=Qn(e);if(Ed(e))return n;if(!ni(e)){let o=us(e);for(;o&&!ya(o);){if(Lr(o)&&!Pf(o))return o;o=us(o)}return n}let r=cm(e,t);for(;r&&pI(r)&&Pf(r);)r=cm(r,t);return r&&ya(r)&&Pf(r)&&!L1(r)?n:r||vI(e)||n}const DI=async function(e){const t=this.getOffsetParent||Hv,n=this.getDimensions,r=await n(e.floating);return{reference:PI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MI(e){return Br(e).direction==="rtl"}const LI={convertOffsetParentRelativeRectToViewportRelativeRect:SI,getDocumentElement:ri,getClippingRect:OI,getOffsetParent:Hv,getElementRects:DI,getClientRects:AI,getDimensions:kI,getScale:Jo,isElement:Lr,isRTL:MI};function $v(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function BI(e,t){let n=null,r;const o=ri(e);function a(){var h;clearTimeout(r),(h=n)==null||h.disconnect(),n=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),a();const p=e.getBoundingClientRect(),{left:y,top:v,width:b,height:E}=p;if(h||t(),!b||!E)return;const P=Bc(v),S=Bc(o.clientWidth-(y+b)),k=Bc(o.clientHeight-(v+E)),N=Bc(y),_={rootMargin:-P+"px "+-S+"px "+-k+"px "+-N+"px",threshold:Xn(0,cs(1,m))||1};let M=!0;function j(V){const F=V[0].intersectionRatio;if(F!==m){if(!M)return u();F?u(!1,F):r=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!$v(p,e.getBoundingClientRect())&&u(),M=!1}try{n=new IntersectionObserver(j,{..._,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(e)}return u(!0),a}function FI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=F1(e),y=o||a?[...p?Fl(p):[],...Fl(t)]:[];y.forEach(N=>{o&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const v=p&&h?BI(p,n):null;let b=-1,E=null;u&&(E=new ResizeObserver(N=>{let[A]=N;A&&A.target===p&&E&&(E.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var _;(_=E)==null||_.observe(t)})),n()}),p&&!m&&E.observe(p),E.observe(t));let P,S=m?Js(e):null;m&&k();function k(){const N=Js(e);S&&!$v(S,N)&&n(),S=N,P=requestAnimationFrame(k)}return n(),()=>{var N;y.forEach(A=>{o&&A.removeEventListener("scroll",n),a&&A.removeEventListener("resize",n)}),v==null||v(),(N=E)==null||N.disconnect(),E=null,m&&cancelAnimationFrame(P)}}const jI=cI,UI=uI,VI=oI,WI=fI,zI=aI,um=sI,HI=dI,$I=(e,t,n)=>{const r=new Map,o={platform:LI,...n},a={...o.platform,_c:r};return iI(e,t,{...o,platform:a})};var GI=typeof document<"u",XI=function(){},hu=GI?T.useLayoutEffect:XI;function zu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!zu(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!zu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Gv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dm(e,t){const n=Gv(e);return Math.round(t*n)/n}function Df(e){const t=T.useRef(e);return hu(()=>{t.current=e}),t}function KI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:m,open:p}=e,[y,v]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,E]=T.useState(r);zu(b,r)||E(r);const[P,S]=T.useState(null),[k,N]=T.useState(null),A=T.useCallback(Y=>{Y!==V.current&&(V.current=Y,S(Y))},[]),_=T.useCallback(Y=>{Y!==F.current&&(F.current=Y,N(Y))},[]),M=a||P,j=u||k,V=T.useRef(null),F=T.useRef(null),$=T.useRef(y),z=m!=null,re=Df(m),ge=Df(o),Z=Df(p),fe=T.useCallback(()=>{if(!V.current||!F.current)return;const Y={placement:t,strategy:n,middleware:b};ge.current&&(Y.platform=ge.current),$I(V.current,F.current,Y).then(Q=>{const de={...Q,isPositioned:Z.current!==!1};te.current&&!zu($.current,de)&&($.current=de,oo.flushSync(()=>{v(de)}))})},[b,t,n,ge,Z]);hu(()=>{p===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(Y=>({...Y,isPositioned:!1})))},[p]);const te=T.useRef(!1);hu(()=>(te.current=!0,()=>{te.current=!1}),[]),hu(()=>{if(M&&(V.current=M),j&&(F.current=j),M&&j){if(re.current)return re.current(M,j,fe);fe()}},[M,j,fe,re,z]);const H=T.useMemo(()=>({reference:V,floating:F,setReference:A,setFloating:_}),[A,_]),le=T.useMemo(()=>({reference:M,floating:j}),[M,j]),ie=T.useMemo(()=>{const Y={position:n,left:0,top:0};if(!le.floating)return Y;const Q=dm(le.floating,y.x),de=dm(le.floating,y.y);return h?{...Y,transform:"translate("+Q+"px, "+de+"px)",...Gv(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:de}},[n,h,le.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:fe,refs:H,elements:le,floatingStyles:ie}),[y,fe,H,le,ie])}const qI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?um({element:r.current,padding:o}).fn(n):{}:r?um({element:r,padding:o}).fn(n):{}}}},YI=(e,t)=>({...jI(e),options:[e,t]}),ZI=(e,t)=>({...UI(e),options:[e,t]}),QI=(e,t)=>({...HI(e),options:[e,t]}),JI=(e,t)=>({...VI(e),options:[e,t]}),e8=(e,t)=>({...WI(e),options:[e,t]}),t8=(e,t)=>({...zI(e),options:[e,t]}),n8=(e,t)=>({...qI(e),options:[e,t]});var r8="Arrow",Xv=T.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return I.jsx(ze.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xv.displayName=r8;var i8=Xv;function s8(e){const[t,n]=T.useState(void 0);return fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,h;if("borderBoxSize"in a){const m=a.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,h=p.blockSize}else u=e.offsetWidth,h=e.offsetHeight;n({width:u,height:h})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var U1="Popper",[Kv,Cd]=gs(U1),[o8,qv]=Kv(U1),Yv=e=>{const{__scopePopper:t,children:n}=e,[r,o]=T.useState(null);return I.jsx(o8,{scope:t,anchor:r,onAnchorChange:o,children:n})};Yv.displayName=U1;var Zv="PopperAnchor",Qv=T.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=qv(Zv,n),u=T.useRef(null),h=gt(t,u);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:I.jsx(ze.div,{...o,ref:h})});Qv.displayName=Zv;var V1="PopperContent",[a8,l8]=Kv(V1),Jv=T.forwardRef((e,t)=>{var he,Pe,at,$e,Oe,Ge;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:E="optimized",onPlaced:P,...S}=e,k=qv(V1,n),[N,A]=T.useState(null),_=gt(t,De=>A(De)),[M,j]=T.useState(null),V=s8(M),F=(V==null?void 0:V.width)??0,$=(V==null?void 0:V.height)??0,z=r+(a!=="center"?"-"+a:""),re=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ge=Array.isArray(p)?p:[p],Z=ge.length>0,fe={padding:re,boundary:ge.filter(u8),altBoundary:Z},{refs:te,floatingStyles:H,placement:le,isPositioned:ie,middlewareData:Y}=KI({strategy:"fixed",placement:z,whileElementsMounted:(...De)=>FI(...De,{animationFrame:E==="always"}),elements:{reference:k.anchor},middleware:[YI({mainAxis:o+$,alignmentAxis:u}),m&&ZI({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?QI():void 0,...fe}),m&&JI({...fe}),e8({...fe,apply:({elements:De,rects:Wt,availableWidth:Qt,availableHeight:Nn})=>{const{width:pt,height:et}=Wt.reference,Ue=De.floating.style;Ue.setProperty("--radix-popper-available-width",`${Qt}px`),Ue.setProperty("--radix-popper-available-height",`${Nn}px`),Ue.setProperty("--radix-popper-anchor-width",`${pt}px`),Ue.setProperty("--radix-popper-anchor-height",`${et}px`)}}),M&&n8({element:M,padding:h}),d8({arrowWidth:F,arrowHeight:$}),b&&t8({strategy:"referenceHidden",...fe})]}),[Q,de]=n2(le),Ie=pr(P);fn(()=>{ie&&(Ie==null||Ie())},[ie,Ie]);const me=(he=Y.arrow)==null?void 0:he.x,Ne=(Pe=Y.arrow)==null?void 0:Pe.y,be=((at=Y.arrow)==null?void 0:at.centerOffset)!==0,[st,pe]=T.useState();return fn(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),I.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ie?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[($e=Y.transformOrigin)==null?void 0:$e.x,(Oe=Y.transformOrigin)==null?void 0:Oe.y].join(" "),...((Ge=Y.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:I.jsx(a8,{scope:n,placedSide:Q,onArrowChange:j,arrowX:me,arrowY:Ne,shouldHideArrow:be,children:I.jsx(ze.div,{"data-side":Q,"data-align":de,...S,ref:_,style:{...S.style,animation:ie?void 0:"none"}})})})});Jv.displayName=V1;var e2="PopperArrow",c8={top:"bottom",right:"left",bottom:"top",left:"right"},t2=T.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=l8(e2,r),u=c8[a.placedSide];return I.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:I.jsx(i8,{...o,ref:n,style:{...o.style,display:"block"}})})});t2.displayName=e2;function u8(e){return e!==null}var d8=e=>({name:"transformOrigin",options:e,fn(t){var k,N,A;const{placement:n,rects:r,middlewareData:o}=t,u=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[p,y]=n2(n),v={start:"0%",center:"50%",end:"100%"}[y],b=(((N=o.arrow)==null?void 0:N.x)??0)+h/2,E=(((A=o.arrow)==null?void 0:A.y)??0)+m/2;let P="",S="";return p==="bottom"?(P=u?v:`${b}px`,S=`${-m}px`):p==="top"?(P=u?v:`${b}px`,S=`${r.floating.height+m}px`):p==="right"?(P=`${-m}px`,S=u?v:`${E}px`):p==="left"&&(P=`${r.floating.width+m}px`,S=u?v:`${E}px`),{data:{x:P,y:S}}}});function n2(e){const[t,n="center"]=e.split("-");return[t,n]}var f8=Yv,r2=Qv,i2=Jv,s2=t2,[Sd,yP]=gs("Tooltip",[Cd]),W1=Cd(),o2="TooltipProvider",h8=700,fm="tooltip.open",[g8,a2]=Sd(o2),l2=e=>{const{__scopeTooltip:t,delayDuration:n=h8,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:a}=e,u=T.useRef(!0),h=T.useRef(!1),m=T.useRef(0);return T.useEffect(()=>{const p=m.current;return()=>window.clearTimeout(p)},[]),I.jsx(g8,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(m.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:T.useCallback(p=>{h.current=p},[]),disableHoverableContent:o,children:a})};l2.displayName=o2;var c2="Tooltip",[vP,Ad]=Sd(c2),t0="TooltipTrigger",p8=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ad(t0,n),a=a2(t0,n),u=W1(n),h=T.useRef(null),m=gt(t,h,o.onTriggerChange),p=T.useRef(!1),y=T.useRef(!1),v=T.useCallback(()=>p.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),I.jsx(r2,{asChild:!0,...u,children:I.jsx(ze.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:m,onPointerMove:Re(e.onPointerMove,b=>{b.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:Re(e.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:Re(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Re(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:Re(e.onBlur,o.onClose),onClick:Re(e.onClick,o.onClose)})})});p8.displayName=t0;var m8="TooltipPortal",[EP,w8]=Sd(m8,{forceMount:void 0}),va="TooltipContent",u2=T.forwardRef((e,t)=>{const n=w8(va,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...a}=e,u=Ad(va,e.__scopeTooltip);return I.jsx(ao,{present:r||u.open,children:u.disableHoverableContent?I.jsx(d2,{side:o,...a,ref:t}):I.jsx(x8,{side:o,...a,ref:t})})}),x8=T.forwardRef((e,t)=>{const n=Ad(va,e.__scopeTooltip),r=a2(va,e.__scopeTooltip),o=T.useRef(null),a=gt(t,o),[u,h]=T.useState(null),{trigger:m,onClose:p}=n,y=o.current,{onPointerInTransitChange:v}=r,b=T.useCallback(()=>{h(null),v(!1)},[v]),E=T.useCallback((P,S)=>{const k=P.currentTarget,N={x:P.clientX,y:P.clientY},A=C8(N,k.getBoundingClientRect()),_=S8(N,A),M=A8(S.getBoundingClientRect()),j=T8([..._,...M]);h(j),v(!0)},[v]);return T.useEffect(()=>()=>b(),[b]),T.useEffect(()=>{if(m&&y){const P=k=>E(k,y),S=k=>E(k,m);return m.addEventListener("pointerleave",P),y.addEventListener("pointerleave",S),()=>{m.removeEventListener("pointerleave",P),y.removeEventListener("pointerleave",S)}}},[m,y,E,b]),T.useEffect(()=>{if(u){const P=S=>{const k=S.target,N={x:S.clientX,y:S.clientY},A=(m==null?void 0:m.contains(k))||(y==null?void 0:y.contains(k)),_=!_8(N,u);A?b():_&&(b(),p())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[m,y,u,p,b]),I.jsx(d2,{...e,ref:a})}),[y8,v8]=Sd(c2,{isInside:!1}),E8=L_("TooltipContent"),d2=T.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...h}=e,m=Ad(va,n),p=W1(n),{onClose:y}=m;return T.useEffect(()=>(document.addEventListener(fm,y),()=>document.removeEventListener(fm,y)),[y]),T.useEffect(()=>{if(m.trigger){const v=b=>{const E=b.target;E!=null&&E.contains(m.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[m.trigger,y]),I.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:I.jsxs(i2,{"data-state":m.stateAttribute,...p,...h,ref:t,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[I.jsx(E8,{children:r}),I.jsx(y8,{scope:n,isInside:!0,children:I.jsx(i3,{id:m.contentId,role:"tooltip",children:o||r})})]})})});u2.displayName=va;var f2="TooltipArrow",b8=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=W1(n);return v8(f2,n).isInside?null:I.jsx(s2,{...o,...r,ref:t})});b8.displayName=f2;function C8(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,o,a)){case a:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function S8(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function A8(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function _8(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const h=t[a],m=t[u],p=h.x,y=h.y,v=m.x,b=m.y;y>r!=b>r&&n<(v-p)*(r-y)/(b-y)+p&&(o=!o)}return o}function T8(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I8(t)}function I8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var R8=l2,h2=u2;const N8=R8,O8=T.forwardRef(({className:e,sideOffset:t=4,...n},r)=>I.jsx(h2,{ref:r,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));O8.displayName=h2.displayName;var _d=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Td=typeof window>"u"||"Deno"in globalThis;function _r(){}function k8(e,t){return typeof e=="function"?e(t):e}function P8(e){return typeof e=="number"&&e>=0&&e!==1/0}function D8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function n0(e,t){return typeof e=="function"?e(t):e}function M8(e,t){return typeof e=="function"?e(t):e}function hm(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:a,queryKey:u,stale:h}=e;if(u){if(r){if(t.queryHash!==z1(u,t.options))return!1}else if(!Ul(t.queryKey,u))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||o&&o!==t.state.fetchStatus||a&&!a(t))}function gm(e,t){const{exact:n,status:r,predicate:o,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(jl(t.options.mutationKey)!==jl(a))return!1}else if(!Ul(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||o&&!o(t))}function z1(e,t){return((t==null?void 0:t.queryKeyHashFn)||jl)(e)}function jl(e){return JSON.stringify(e,(t,n)=>r0(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function Ul(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ul(e[n],t[n])):!1}function g2(e,t){if(e===t)return e;const n=pm(e)&&pm(t);if(n||r0(e)&&r0(t)){const r=n?e:Object.keys(e),o=r.length,a=n?t:Object.keys(t),u=a.length,h=n?[]:{},m=new Set(r);let p=0;for(let y=0;y<u;y++){const v=n?y:a[y];(!n&&m.has(v)||n)&&e[v]===void 0&&t[v]===void 0?(h[v]=void 0,p++):(h[v]=g2(e[v],t[v]),h[v]===e[v]&&e[v]!==void 0&&p++)}return o===u&&p===o?e:h}return t}function pm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r0(e){if(!mm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mm(e){return Object.prototype.toString.call(e)==="[object Object]"}function L8(e){return new Promise(t=>{setTimeout(t,e)})}function B8(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?g2(e,t):t}function F8(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function j8(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var H1=Symbol();function p2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===H1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var js,Ui,na,bw,U8=(bw=class extends _d{constructor(){super();nt(this,js);nt(this,Ui);nt(this,na);Le(this,na,t=>{if(!Td&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,Ui)||this.setEventListener(J(this,na))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Ui))==null||t.call(this),Le(this,Ui,void 0))}setEventListener(t){var n;Le(this,na,t),(n=J(this,Ui))==null||n.call(this),Le(this,Ui,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){J(this,js)!==t&&(Le(this,js,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof J(this,js)=="boolean"?J(this,js):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},js=new WeakMap,Ui=new WeakMap,na=new WeakMap,bw),m2=new U8,ra,Vi,ia,Cw,V8=(Cw=class extends _d{constructor(){super();nt(this,ra,!0);nt(this,Vi);nt(this,ia);Le(this,ia,t=>{if(!Td&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,Vi)||this.setEventListener(J(this,ia))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Vi))==null||t.call(this),Le(this,Vi,void 0))}setEventListener(t){var n;Le(this,ia,t),(n=J(this,Vi))==null||n.call(this),Le(this,Vi,t(this.setOnline.bind(this)))}setOnline(t){J(this,ra)!==t&&(Le(this,ra,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return J(this,ra)}},ra=new WeakMap,Vi=new WeakMap,ia=new WeakMap,Cw),Hu=new V8;function W8(){let e,t;const n=new Promise((o,a)=>{e=o,t=a});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),e(o)},n.reject=o=>{r({status:"rejected",reason:o}),t(o)},n}function z8(e){return Math.min(1e3*2**e,3e4)}function w2(e){return(e??"online")==="online"?Hu.isOnline():!0}var x2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mf(e){return e instanceof x2}function y2(e){let t=!1,n=0,r=!1,o;const a=W8(),u=S=>{var k;r||(b(new x2(S)),(k=e.abort)==null||k.call(e))},h=()=>{t=!0},m=()=>{t=!1},p=()=>m2.isFocused()&&(e.networkMode==="always"||Hu.isOnline())&&e.canRun(),y=()=>w2(e.networkMode)&&e.canRun(),v=S=>{var k;r||(r=!0,(k=e.onSuccess)==null||k.call(e,S),o==null||o(),a.resolve(S))},b=S=>{var k;r||(r=!0,(k=e.onError)==null||k.call(e,S),o==null||o(),a.reject(S))},E=()=>new Promise(S=>{var k;o=N=>{(r||p())&&S(N)},(k=e.onPause)==null||k.call(e)}).then(()=>{var S;o=void 0,r||(S=e.onContinue)==null||S.call(e)}),P=()=>{if(r)return;let S;const k=n===0?e.initialPromise:void 0;try{S=k??e.fn()}catch(N){S=Promise.reject(N)}Promise.resolve(S).then(v).catch(N=>{var V;if(r)return;const A=e.retry??(Td?0:3),_=e.retryDelay??z8,M=typeof _=="function"?_(n,N):_,j=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,N);if(t||!j){b(N);return}n++,(V=e.onFail)==null||V.call(e,n,N),L8(M).then(()=>p()?void 0:E()).then(()=>{t?b(N):P()})})};return{promise:a,cancel:u,continue:()=>(o==null||o(),a),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?P():E().then(P),a)}}var H8=e=>setTimeout(e,0);function $8(){let e=[],t=0,n=h=>{h()},r=h=>{h()},o=H8;const a=h=>{t?e.push(h):o(()=>{n(h)})},u=()=>{const h=e;e=[],h.length&&o(()=>{r(()=>{h.forEach(m=>{n(m)})})})};return{batch:h=>{let m;t++;try{m=h()}finally{t--,t||u()}return m},batchCalls:h=>(...m)=>{a(()=>{h(...m)})},schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h},setScheduler:h=>{o=h}}}var An=$8(),Us,Sw,v2=(Sw=class{constructor(){nt(this,Us)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P8(this.gcTime)&&Le(this,Us,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Td?1/0:5*60*1e3))}clearGcTimeout(){J(this,Us)&&(clearTimeout(J(this,Us)),Le(this,Us,void 0))}},Us=new WeakMap,Sw),sa,Vs,ar,Ws,xn,Xl,zs,Ir,ai,Aw,G8=(Aw=class extends v2{constructor(t){super();nt(this,Ir);nt(this,sa);nt(this,Vs);nt(this,ar);nt(this,Ws);nt(this,xn);nt(this,Xl);nt(this,zs);Le(this,zs,!1),Le(this,Xl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Le(this,Ws,t.client),Le(this,ar,J(this,Ws).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Le(this,sa,K8(this.options)),this.state=t.state??J(this,sa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,xn))==null?void 0:t.promise}setOptions(t){this.options={...J(this,Xl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,ar).remove(this)}setData(t,n){const r=B8(this.state.data,t,this.options);return pn(this,Ir,ai).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){pn(this,Ir,ai).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,o;const n=(r=J(this,xn))==null?void 0:r.promise;return(o=J(this,xn))==null||o.cancel(t),n?n.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,sa))}isActive(){return this.observers.some(t=>M8(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===H1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>n0(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D8(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,xn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=J(this,xn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,ar).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(J(this,xn)&&(J(this,zs)?J(this,xn).cancel({revert:!0}):J(this,xn).cancelRetry()),this.scheduleGc()),J(this,ar).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pn(this,Ir,ai).call(this,{type:"invalidate"})}fetch(t,n){var p,y,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,xn))return J(this,xn).continueRetry(),J(this,xn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(E=>E.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,o=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Le(this,zs,!0),r.signal)})},a=()=>{const b=p2(this.options,n),P=(()=>{const S={client:J(this,Ws),queryKey:this.queryKey,meta:this.meta};return o(S),S})();return Le(this,zs,!1),this.options.persister?this.options.persister(b,P,this):b(P)},h=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,Ws),state:this.state,fetchFn:a};return o(b),b})();(p=this.options.behavior)==null||p.onFetch(h,this),Le(this,Vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=h.fetchOptions)==null?void 0:y.meta))&&pn(this,Ir,ai).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const m=b=>{var E,P,S,k;Mf(b)&&b.silent||pn(this,Ir,ai).call(this,{type:"error",error:b}),Mf(b)||((P=(E=J(this,ar).config).onError)==null||P.call(E,b,this),(k=(S=J(this,ar).config).onSettled)==null||k.call(S,this.state.data,b,this)),this.scheduleGc()};return Le(this,xn,y2({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:b=>{var E,P,S,k;if(b===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(N){m(N);return}(P=(E=J(this,ar).config).onSuccess)==null||P.call(E,b,this),(k=(S=J(this,ar).config).onSettled)==null||k.call(S,b,this.state.error,this),this.scheduleGc()},onError:m,onFail:(b,E)=>{pn(this,Ir,ai).call(this,{type:"failed",failureCount:b,error:E})},onPause:()=>{pn(this,Ir,ai).call(this,{type:"pause"})},onContinue:()=>{pn(this,Ir,ai).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),J(this,xn).start()}},sa=new WeakMap,Vs=new WeakMap,ar=new WeakMap,Ws=new WeakMap,xn=new WeakMap,Xl=new WeakMap,zs=new WeakMap,Ir=new WeakSet,ai=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...X8(r.data,this.options),fetchMeta:t.meta??null};case"success":return Le(this,Vs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Mf(o)&&o.revert&&J(this,Vs)?{...J(this,Vs),fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),An.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,ar).notify({query:this,type:"updated",action:t})})},Aw);function X8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function K8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Kr,_w,q8=(_w=class extends _d{constructor(t={}){super();nt(this,Kr);this.config=t,Le(this,Kr,new Map)}build(t,n,r){const o=n.queryKey,a=n.queryHash??z1(o,n);let u=this.get(a);return u||(u=new G8({client:t,queryKey:o,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(o)}),this.add(u)),u}add(t){J(this,Kr).has(t.queryHash)||(J(this,Kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=J(this,Kr).get(t.queryHash);n&&(t.destroy(),n===t&&J(this,Kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,Kr).get(t)}getAll(){return[...J(this,Kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>hm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>hm(t,r)):n}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kr=new WeakMap,_w),qr,Cn,Hs,Yr,Pi,Tw,Y8=(Tw=class extends v2{constructor(t){super();nt(this,Yr);nt(this,qr);nt(this,Cn);nt(this,Hs);this.mutationId=t.mutationId,Le(this,Cn,t.mutationCache),Le(this,qr,[]),this.state=t.state||Z8(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,qr).includes(t)||(J(this,qr).push(t),this.clearGcTimeout(),J(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Le(this,qr,J(this,qr).filter(n=>n!==t)),this.scheduleGc(),J(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,qr).length||(this.state.status==="pending"?this.scheduleGc():J(this,Cn).remove(this))}continue(){var t;return((t=J(this,Hs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,h,m,p,y,v,b,E,P,S,k,N,A,_,M,j,V,F,$;const n=()=>{pn(this,Yr,Pi).call(this,{type:"continue"})};Le(this,Hs,y2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,re)=>{pn(this,Yr,Pi).call(this,{type:"failed",failureCount:z,error:re})},onPause:()=>{pn(this,Yr,Pi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Cn).canRun(this)}));const r=this.state.status==="pending",o=!J(this,Hs).canStart();try{if(r)n();else{pn(this,Yr,Pi).call(this,{type:"pending",variables:t,isPaused:o}),await((u=(a=J(this,Cn).config).onMutate)==null?void 0:u.call(a,t,this));const re=await((m=(h=this.options).onMutate)==null?void 0:m.call(h,t));re!==this.state.context&&pn(this,Yr,Pi).call(this,{type:"pending",context:re,variables:t,isPaused:o})}const z=await J(this,Hs).start();return await((y=(p=J(this,Cn).config).onSuccess)==null?void 0:y.call(p,z,t,this.state.context,this)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,z,t,this.state.context)),await((P=(E=J(this,Cn).config).onSettled)==null?void 0:P.call(E,z,null,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,z,null,t,this.state.context)),pn(this,Yr,Pi).call(this,{type:"success",data:z}),z}catch(z){try{throw await((A=(N=J(this,Cn).config).onError)==null?void 0:A.call(N,z,t,this.state.context,this)),await((M=(_=this.options).onError)==null?void 0:M.call(_,z,t,this.state.context)),await((V=(j=J(this,Cn).config).onSettled)==null?void 0:V.call(j,void 0,z,this.state.variables,this.state.context,this)),await(($=(F=this.options).onSettled)==null?void 0:$.call(F,void 0,z,t,this.state.context)),z}finally{pn(this,Yr,Pi).call(this,{type:"error",error:z})}}finally{J(this,Cn).runNext(this)}}},qr=new WeakMap,Cn=new WeakMap,Hs=new WeakMap,Yr=new WeakSet,Pi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),An.batch(()=>{J(this,qr).forEach(r=>{r.onMutationUpdate(t)}),J(this,Cn).notify({mutation:this,type:"updated",action:t})})},Tw);function Z8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,Rr,Kl,Iw,Q8=(Iw=class extends _d{constructor(t={}){super();nt(this,fi);nt(this,Rr);nt(this,Kl);this.config=t,Le(this,fi,new Set),Le(this,Rr,new Map),Le(this,Kl,0)}build(t,n,r){const o=new Y8({mutationCache:this,mutationId:++mc(this,Kl)._,options:t.defaultMutationOptions(n),state:r});return this.add(o),o}add(t){J(this,fi).add(t);const n=Fc(t);if(typeof n=="string"){const r=J(this,Rr).get(n);r?r.push(t):J(this,Rr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,fi).delete(t)){const n=Fc(t);if(typeof n=="string"){const r=J(this,Rr).get(n);if(r)if(r.length>1){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}else r[0]===t&&J(this,Rr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Fc(t);if(typeof n=="string"){const r=J(this,Rr).get(n),o=r==null?void 0:r.find(a=>a.state.status==="pending");return!o||o===t}else return!0}runNext(t){var r;const n=Fc(t);if(typeof n=="string"){const o=(r=J(this,Rr).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{J(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,fi).clear(),J(this,Rr).clear()})}getAll(){return Array.from(J(this,fi))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>gm(n,r))}findAll(t={}){return this.getAll().filter(n=>gm(t,n))}notify(t){An.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return An.batch(()=>Promise.all(t.map(n=>n.continue().catch(_r))))}},fi=new WeakMap,Rr=new WeakMap,Kl=new WeakMap,Iw);function Fc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wm(e){return{onFetch:(t,n)=>{var y,v,b,E,P;const r=t.options,o=(b=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:b.direction,a=((E=t.state.data)==null?void 0:E.pages)||[],u=((P=t.state.data)==null?void 0:P.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let S=!1;const k=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?S=!0:t.signal.addEventListener("abort",()=>{S=!0}),t.signal)})},N=p2(t.options,t.fetchOptions),A=async(_,M,j)=>{if(S)return Promise.reject();if(M==null&&_.pages.length)return Promise.resolve(_);const F=(()=>{const ge={client:t.client,queryKey:t.queryKey,pageParam:M,direction:j?"backward":"forward",meta:t.options.meta};return k(ge),ge})(),$=await N(F),{maxPages:z}=t.options,re=j?j8:F8;return{pages:re(_.pages,$,z),pageParams:re(_.pageParams,M,z)}};if(o&&a.length){const _=o==="backward",M=_?J8:xm,j={pages:a,pageParams:u},V=M(r,j);h=await A(j,V,_)}else{const _=e??a.length;do{const M=m===0?u[0]??r.initialPageParam:xm(r,h);if(m>0&&M==null)break;h=await A(h,M),m++}while(m<_)}return h};t.options.persister?t.fetchFn=()=>{var S,k;return(k=(S=t.options).persister)==null?void 0:k.call(S,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function xm(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function J8(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Mt,Wi,zi,oa,aa,Hi,la,ca,Rw,e4=(Rw=class{constructor(e={}){nt(this,Mt);nt(this,Wi);nt(this,zi);nt(this,oa);nt(this,aa);nt(this,Hi);nt(this,la);nt(this,ca);Le(this,Mt,e.queryCache||new q8),Le(this,Wi,e.mutationCache||new Q8),Le(this,zi,e.defaultOptions||{}),Le(this,oa,new Map),Le(this,aa,new Map),Le(this,Hi,0)}mount(){mc(this,Hi)._++,J(this,Hi)===1&&(Le(this,la,m2.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Mt).onFocus())})),Le(this,ca,Hu.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Mt).onOnline())})))}unmount(){var e,t;mc(this,Hi)._--,J(this,Hi)===0&&((e=J(this,la))==null||e.call(this),Le(this,la,void 0),(t=J(this,ca))==null||t.call(this),Le(this,ca,void 0))}isFetching(e){return J(this,Mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Wi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=J(this,Mt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(n0(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return J(this,Mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=J(this,Mt).get(r.queryHash),a=o==null?void 0:o.state.data,u=k8(t,a);if(u!==void 0)return J(this,Mt).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return An.batch(()=>J(this,Mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=J(this,Mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=J(this,Mt);An.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=J(this,Mt);return An.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=An.batch(()=>J(this,Mt).findAll(e).map(o=>o.cancel(n)));return Promise.all(r).then(_r).catch(_r)}invalidateQueries(e,t={}){return An.batch(()=>(J(this,Mt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=An.batch(()=>J(this,Mt).findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let a=o.fetch(void 0,n);return n.throwOnError||(a=a.catch(_r)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(_r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=J(this,Mt).build(this,t);return n.isStaleByTime(n0(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_r).catch(_r)}fetchInfiniteQuery(e){return e.behavior=wm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_r).catch(_r)}ensureInfiniteQueryData(e){return e.behavior=wm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hu.isOnline()?J(this,Wi).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Mt)}getMutationCache(){return J(this,Wi)}getDefaultOptions(){return J(this,zi)}setDefaultOptions(e){Le(this,zi,e)}setQueryDefaults(e,t){J(this,oa).set(jl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,oa).values()],n={};return t.forEach(r=>{Ul(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){J(this,aa).set(jl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,aa).values()],n={};return t.forEach(r=>{Ul(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,zi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=z1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===H1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,zi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,Mt).clear(),J(this,Wi).clear()}},Mt=new WeakMap,Wi=new WeakMap,zi=new WeakMap,oa=new WeakMap,aa=new WeakMap,Hi=new WeakMap,la=new WeakMap,ca=new WeakMap,Rw),t4=T.createContext(void 0),n4=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),I.jsx(t4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}var Xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xi||(Xi={}));const ym="popstate";function r4(e){e===void 0&&(e={});function t(o,a){let{pathname:u="/",search:h="",hash:m=""}=lo(o.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),i0("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof a=="string"?a:E2(a))}function r(o,a){$1(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return s4(t,n,r,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i4(){return Math.random().toString(36).substr(2,8)}function vm(e,t){return{usr:e.state,key:e.key,idx:t}}function i0(e,t,n,r){return n===void 0&&(n=null),Vl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lo(t):t,{state:n,key:t&&t.key||r||i4()})}function E2(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s4(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h=Xi.Pop,m=null,p=y();p==null&&(p=0,u.replaceState(Vl({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function v(){h=Xi.Pop;let k=y(),N=k==null?null:k-p;p=k,m&&m({action:h,location:S.location,delta:N})}function b(k,N){h=Xi.Push;let A=i0(S.location,k,N);n&&n(A,k),p=y()+1;let _=vm(A,p),M=S.createHref(A);try{u.pushState(_,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(M)}a&&m&&m({action:h,location:S.location,delta:1})}function E(k,N){h=Xi.Replace;let A=i0(S.location,k,N);n&&n(A,k),p=y();let _=vm(A,p),M=S.createHref(A);u.replaceState(_,"",M),a&&m&&m({action:h,location:S.location,delta:0})}function P(k){let N=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof k=="string"?k:E2(k);return A=A.replace(/ $/,"%20"),Yt(N,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,N)}let S={get action(){return h},get location(){return e(o,u)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(ym,v),m=k,()=>{o.removeEventListener(ym,v),m=null}},createHref(k){return t(o,k)},createURL:P,encodeLocation(k){let N=P(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:E,go(k){return u.go(k)}};return S}var Em;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Em||(Em={}));function o4(e,t,n){return n===void 0&&(n="/"),a4(e,t,n,!1)}function a4(e,t,n,r){let o=typeof t=="string"?lo(t):t,a=S2(o.pathname||"/",n);if(a==null)return null;let u=b2(e);l4(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=y4(a);h=w4(u[m],p,r)}return h}function b2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,u,h)=>{let m={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(Yt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=Xs([r,m.relativePath]),y=n.concat(m);a.children&&a.children.length>0&&(Yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),b2(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:p4(p,a.index),routesMeta:y})};return e.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let m of C2(a.path))o(a,u,m)}),t}function C2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=C2(r.join("/")),h=[];return h.push(...u.map(m=>m===""?a:[a,m].join("/"))),o&&h.push(...u),h.map(m=>e.startsWith("/")&&m===""?"/":m)}function l4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:m4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const c4=/^:[\w-]+$/,u4=3,d4=2,f4=1,h4=10,g4=-2,bm=e=>e==="*";function p4(e,t){let n=e.split("/"),r=n.length;return n.some(bm)&&(r+=g4),t&&(r+=d4),n.filter(o=>!bm(o)).reduce((o,a)=>o+(c4.test(a)?u4:a===""?f4:h4),r)}function m4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function w4(e,t,n){let{routesMeta:r}=e,o={},a="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",v=Cm({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Cm({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Xs([a,v.pathname]),pathnameBase:A4(Xs([a,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(a=Xs([a,v.pathnameBase]))}return u}function Cm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=x4(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,y,v)=>{let{paramName:b,isOptional:E}=y;if(b==="*"){let S=h[v]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const P=h[v];return E&&!P?p[b]=void 0:p[b]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function x4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function y4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function S2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function v4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?lo(e):e;return{pathname:n?n.startsWith("/")?n:E4(n,t):t,search:_4(r),hash:T4(o)}}function E4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function C4(e,t){let n=b4(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function S4(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=lo(e):(o=Vl({},e),Yt(!o.pathname||!o.pathname.includes("?"),Lf("?","pathname","search",o)),Yt(!o.pathname||!o.pathname.includes("#"),Lf("#","pathname","hash",o)),Yt(!o.search||!o.search.includes("#"),Lf("#","search","hash",o)));let a=e===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}h=v>=0?t[v]:"/"}let m=v4(o,h),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const Xs=e=>e.join("/").replace(/\/\/+/g,"/"),A4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const A2=["post","put","patch","delete"];new Set(A2);const R4=["get",...A2];new Set(R4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(this,arguments)}const G1=T.createContext(null),N4=T.createContext(null),Id=T.createContext(null),Rd=T.createContext(null),co=T.createContext({outlet:null,matches:[],isDataRoute:!1}),_2=T.createContext(null);function Nd(){return T.useContext(Rd)!=null}function X1(){return Nd()||Yt(!1),T.useContext(Rd).location}function T2(e){T.useContext(Id).static||T.useLayoutEffect(e)}function rc(){let{isDataRoute:e}=T.useContext(co);return e?H4():O4()}function O4(){Nd()||Yt(!1);let e=T.useContext(G1),{basename:t,future:n,navigator:r}=T.useContext(Id),{matches:o}=T.useContext(co),{pathname:a}=X1(),u=JSON.stringify(C4(o,n.v7_relativeSplatPath)),h=T.useRef(!1);return T2(()=>{h.current=!0}),T.useCallback(function(p,y){if(y===void 0&&(y={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let v=S4(p,JSON.parse(u),a,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Xs([t,v.pathname])),(y.replace?r.replace:r.push)(v,y.state,y)},[t,r,u,a,e])}function k4(){let{matches:e}=T.useContext(co),t=e[e.length-1];return t?t.params:{}}function P4(e,t){return D4(e,t)}function D4(e,t,n,r){Nd()||Yt(!1);let{navigator:o}=T.useContext(Id),{matches:a}=T.useContext(co),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=X1(),y;if(t){var v;let k=typeof t=="string"?lo(t):t;m==="/"||(v=k.pathname)!=null&&v.startsWith(m)||Yt(!1),y=k}else y=p;let b=y.pathname||"/",E=b;if(m!=="/"){let k=m.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=o4(e,{pathname:E}),S=j4(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Xs([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Xs([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&S?T.createElement(Rd.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Xi.Pop}},S):S}function M4(){let e=z4(),t=I4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:o},n):null,null)}const L4=T.createElement(M4,null);class B4 extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(co.Provider,{value:this.props.routeContext},T.createElement(_2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F4(e){let{routeContext:t,match:n,children:r}=e,o=T.useContext(G1);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(co.Provider,{value:t},r)}function j4(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,h=(o=n)==null?void 0:o.errors;if(h!=null){let y=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);y>=0||Yt(!1),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:b,errors:E}=n,P=v.route.loader&&b[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||P){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,v,b)=>{let E,P=!1,S=null,k=null;n&&(E=h&&v.route.id?h[v.route.id]:void 0,S=v.route.errorElement||L4,m&&(p<0&&b===0?(P=!0,k=null):p===b&&(P=!0,k=v.route.hydrateFallbackElement||null)));let N=t.concat(u.slice(0,b+1)),A=()=>{let _;return E?_=S:P?_=k:v.route.Component?_=T.createElement(v.route.Component,null):v.route.element?_=v.route.element:_=y,T.createElement(F4,{match:v,routeContext:{outlet:y,matches:N,isDataRoute:n!=null},children:_})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?T.createElement(B4,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:A(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):A()},null)}var I2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I2||{}),$u=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($u||{});function U4(e){let t=T.useContext(G1);return t||Yt(!1),t}function V4(e){let t=T.useContext(N4);return t||Yt(!1),t}function W4(e){let t=T.useContext(co);return t||Yt(!1),t}function R2(e){let t=W4(),n=t.matches[t.matches.length-1];return n.route.id||Yt(!1),n.route.id}function z4(){var e;let t=T.useContext(_2),n=V4($u.UseRouteError),r=R2($u.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function H4(){let{router:e}=U4(I2.UseNavigateStable),t=R2($u.UseNavigateStable),n=T.useRef(!1);return T2(()=>{n.current=!0}),T.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Wl({fromRouteId:t},a)))},[e,t])}function $4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Os(e){Yt(!1)}function G4(e){let{basename:t="/",children:n=null,location:r,navigationType:o=Xi.Pop,navigator:a,static:u=!1,future:h}=e;Nd()&&Yt(!1);let m=t.replace(/^\/*/,"/"),p=T.useMemo(()=>({basename:m,navigator:a,static:u,future:Wl({v7_relativeSplatPath:!1},h)}),[m,h,a,u]);typeof r=="string"&&(r=lo(r));let{pathname:y="/",search:v="",hash:b="",state:E=null,key:P="default"}=r,S=T.useMemo(()=>{let k=S2(y,m);return k==null?null:{location:{pathname:k,search:v,hash:b,state:E,key:P},navigationType:o}},[m,y,v,b,E,P,o]);return S==null?null:T.createElement(Id.Provider,{value:p},T.createElement(Rd.Provider,{children:n,value:S}))}function X4(e){let{children:t,location:n}=e;return P4(s0(t),n)}new Promise(()=>{});function s0(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(r,o)=>{if(!T.isValidElement(r))return;let a=[...t,o];if(r.type===T.Fragment){n.push.apply(n,s0(r.props.children,a));return}r.type!==Os&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=s0(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const K4="6";try{window.__reactRouterVersion=K4}catch{}const q4="startTransition",Sm=L0[q4];function Y4(e){let{basename:t,children:n,future:r,window:o}=e,a=T.useRef();a.current==null&&(a.current=r4({window:o,v5Compat:!0}));let u=a.current,[h,m]=T.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},y=T.useCallback(v=>{p&&Sm?Sm(()=>m(v)):m(v)},[m,p]);return T.useLayoutEffect(()=>u.listen(y),[u,y]),T.useEffect(()=>$4(r),[r]),T.createElement(G4,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}var Am;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var _m;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_m||(_m={}));const Z4=O1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Zt=T.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const u=r?D_:"button";return I.jsx(u,{className:We(Z4({variant:t,size:n,className:e})),ref:a,...o})});Zt.displayName="Button";const Q4=()=>{const e=rc();return I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:I.jsx("div",{className:"container mx-auto px-4 py-12",children:I.jsxs("div",{className:"max-w-4xl mx-auto",children:[I.jsxs("div",{className:"text-center mb-12 space-y-4",children:[I.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-primary to-secondary mb-6",children:I.jsx(fu,{className:"h-10 w-10 text-white"})}),I.jsx("h1",{className:"text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary",children:"Planogram Viewer"}),I.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Scan CDE QR codes to instantly view the correct product layout for any store category"})]}),I.jsx("div",{className:"bg-card border border-border rounded-2xl shadow-xl p-8 mb-8",children:I.jsxs("div",{className:"text-center space-y-6",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx("h2",{className:"text-2xl font-semibold",children:"Get Started"}),I.jsx("p",{className:"text-muted-foreground",children:"Tap the button below to scan a CDE QR code"})]}),I.jsxs(Zt,{size:"lg",onClick:()=>e("/scanner"),className:"w-full max-w-md h-14 text-lg gap-3 bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity",children:[I.jsx(fu,{className:"h-6 w-6"}),"Scan QR Code"]})]})}),I.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[I.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 text-center",children:[I.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 text-primary mb-4",children:I.jsx(fu,{className:"h-6 w-6"})}),I.jsx("h3",{className:"font-semibold mb-2",children:"Quick Scanning"}),I.jsx("p",{className:"text-sm text-muted-foreground",children:"Fast and accurate QR code detection"})]}),I.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 text-center",children:[I.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-secondary/10 text-secondary mb-4",children:I.jsx(Yp,{className:"h-6 w-6"})}),I.jsx("h3",{className:"font-semibold mb-2",children:"Category-Based"}),I.jsx("p",{className:"text-sm text-muted-foreground",children:"Displays planograms based on store type"})]}),I.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 text-center",children:[I.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-accent/10 text-accent mb-4",children:I.jsx(Yp,{className:"h-6 w-6"})}),I.jsx("h3",{className:"font-semibold mb-2",children:"Always Updated"}),I.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest planogram images from admin"})]})]})]})})})};var ye;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var Tm=new Map([[ye.QR_CODE,"QR_CODE"],[ye.AZTEC,"AZTEC"],[ye.CODABAR,"CODABAR"],[ye.CODE_39,"CODE_39"],[ye.CODE_93,"CODE_93"],[ye.CODE_128,"CODE_128"],[ye.DATA_MATRIX,"DATA_MATRIX"],[ye.MAXICODE,"MAXICODE"],[ye.ITF,"ITF"],[ye.EAN_13,"EAN_13"],[ye.EAN_8,"EAN_8"],[ye.PDF_417,"PDF_417"],[ye.RSS_14,"RSS_14"],[ye.RSS_EXPANDED,"RSS_EXPANDED"],[ye.UPC_A,"UPC_A"],[ye.UPC_E,"UPC_E"],[ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Im;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Im||(Im={}));function J4(e){return Object.values(ye).includes(e)}var Gu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Gu||(Gu={}));var eR=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Gu.SCAN_TYPE_CAMERA,Gu.SCAN_TYPE_FILE],e}(),N2=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Tm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Tm.get(t))},e}(),Rm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),o0;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(o0||(o0={}));var tR=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:o0.UNKWOWN_ERROR}},e}(),nR=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function li(e){return typeof e>"u"||e===null}var $o=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),O2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(o),u=Object.keys(t),h=0,m=u;h<m.length;h++){var p=m[h];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),a0={exports:{}};(function(e,t){(function(n,r){r(t)})(Ha,function(n){function r(R){return R==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,i){R.__proto__=i}||function(R,i){for(var s in i)i.hasOwnProperty(s)&&(R[s]=i[s])};function a(R,i){o(R,i);function s(){this.constructor=R}R.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function u(R,i){var s=Object.setPrototypeOf;s?s(R,i):R.__proto__=i}function h(R,i){i===void 0&&(i=R.constructor);var s=Error.captureStackTrace;s&&s(R,i)}var m=function(R){a(i,R);function i(s){var l=this.constructor,c=R.call(this,s)||this;return Object.defineProperty(c,"name",{value:l.name,enumerable:!1}),u(c,l.prototype),h(c),c}return i}(Error);class p extends m{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class b{constructor(i){if(this.binarizer=i,i===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,l,c){const d=this.binarizer.getLuminanceSource().crop(i,s,l,c);return new b(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class P{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(i,s,l,c,d){for(;d--;)l[c++]=i[s++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class N extends k{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}N.kind="ArrayIndexOutOfBoundsException";class A{static fill(i,s){for(let l=0,c=i.length;l<c;l++)i[l]=s}static fillWithin(i,s,l,c){A.rangeCheck(i.length,s,l);for(let d=s;d<l;d++)i[d]=c}static rangeCheck(i,s,l){if(s>l)throw new v("fromIndex("+s+") > toIndex("+l+")");if(s<0)throw new N(s);if(l>i)throw new N(l)}static asList(...i){return i}static create(i,s,l){return Array.from({length:i}).map(d=>Array.from({length:s}).fill(l))}static createInt32Array(i,s,l){return Array.from({length:i}).map(d=>Int32Array.from({length:s}).fill(l))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let l=0,c=i.length;l<c;l++)if(i[l]!==s[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const l of i)s=31*s+l;return s}static fillUint8Array(i,s){for(let l=0;l!==i.length;l++)i[l]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const l=new Uint8Array(s);return l.set(i),l}return i.slice(0,s)}static copyOfRange(i,s,l){const c=l-s,d=new Int32Array(c);return S.arraycopy(i,s,d,0,c),d}static binarySearch(i,s,l){l===void 0&&(l=A.numberComparator);let c=0,d=i.length-1;for(;c<=d;){const f=d+c>>1,g=l(s,i[f]);if(g>0)c=f+1;else if(g<0)d=f-1;else return f}return-c-1}static numberComparator(i,s){return i-s}}class _{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let l=31;return s=i<<16,s!==0&&(l-=16,i=s),s=i<<8,s!==0&&(l-=8,i=s),s=i<<4,s!==0&&(l-=4,i=s),s=i<<2,s!==0&&(l-=2,i=s),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16||(s+=16,i<<=16),i>>>24||(s+=8,i<<=8),i>>>28||(s+=4,i<<=4),i>>>30||(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=M.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=M.makeArray(i);S.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const l=this.bits;let c=Math.floor(i/32),d=l[c];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++c===f)return s;d=l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>s?s:g}getNextUnset(i){const s=this.size;if(i>=s)return s;const l=this.bits;let c=Math.floor(i/32),d=~l[c];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++c===f)return s;d=~l[c]}const g=c*32+_.numberOfTrailingZeros(d);return g>s?s:g}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new v;if(s===i)return;s--;const l=Math.floor(i/32),c=Math.floor(s/32),d=this.bits;for(let f=l;f<=c;f++){const g=f>l?0:i&31,x=(2<<(f<c?31:s&31))-(1<<g);d[f]|=x}}clear(){const i=this.bits.length,s=this.bits;for(let l=0;l<i;l++)s[l]=0}isRange(i,s,l){if(s<i||i<0||s>this.size)throw new v;if(s===i)return!0;s--;const c=Math.floor(i/32),d=Math.floor(s/32),f=this.bits;for(let g=c;g<=d;g++){const w=g>c?0:i&31,C=(2<<(g<d?31:s&31))-(1<<w)&4294967295;if((f[g]&C)!==(l?C:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let l=s;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let l=0;l<s;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new v("Sizes don't match");const s=this.bits;for(let l=0,c=s.length;l<c;l++)s[l]^=i.bits[l]}toBytes(i,s,l,c){for(let d=0;d<c;d++){let f=0;for(let g=0;g<8;g++)this.get(i)&&(f|=1<<7-g),i++;s[l+d]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),l=s+1,c=this.bits;for(let d=0;d<l;d++){let f=c[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[s-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=i[0]>>>d;for(let g=1;g<l;g++){const w=i[g];f|=w<<32-d,i[g-1]=f,f=w>>>d}i[l-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof M))return!1;const s=i;return this.size===s.size&&A.equals(this.bits,s.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let i="";for(let s=0,l=this.size;s<l;s++)s&7||(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new M(this.size,this.bits.slice())}}var j;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var V=j;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var $;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})($||($={}));class z{constructor(i,s,l,...c){this.valueIdentifier=i,this.name=l,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,z.VALUE_IDENTIFIER_TO_ECI.set(i,this),z.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,g=d.length;f!==g;f++){const w=d[f];z.VALUES_TO_ECI.set(w,this)}for(const f of c)z.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const s=z.VALUES_TO_ECI.get(i);if(s===void 0)throw new F("incorect value");return s}static getCharacterSetECIByName(i){const s=z.NAME_TO_ECI.get(i);if(s===void 0)throw new F("incorect value");return s}equals(i){if(!(i instanceof z))return!1;const s=i;return this.getName()===s.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z($.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z($.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z($.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z($.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z($.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z($.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z($.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z($.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z($.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z($.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z($.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z($.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z($.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z($.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z($.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z($.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z($.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z($.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z($.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z($.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z($.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z($.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z($.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z($.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z($.Big5,28,"Big5"),z.GB18030=new z($.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z($.EUC_KR,30,"EUC_KR","EUC-KR");class re extends p{}re.kind="UnsupportedOperationException";class ge{static decode(i,s){const l=this.encodingName(s);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!ge.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const l=this.encodingName(s);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof z?i:z.getCharacterSetECIByName(i)}static decodeFallback(i,s){const l=this.encodingCharacterSet(s);if(ge.isDecodeFallbackSupported(l)){let c="";for(let d=0,f=i.length;d<f;d++){let g=i[d].toString(16);g.length<2&&(g="0"+g),c+="%"+g}return decodeURIComponent(c)}if(l.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new re(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(z.UTF8)||i.equals(z.ISO8859_1)||i.equals(z.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),c=[];for(let d=0;d<l.length;d++)c.push(l[d].charCodeAt(0));return new Uint8Array(c)}}class Z{static castAsNonUtf8Char(i,s=null){const l=s?s.getName():this.ISO88591;return ge.decode(new Uint8Array([i]),l)}static guessEncoding(i,s){if(s!=null&&s.get(V.CHARACTER_SET)!==void 0)return s.get(V.CHARACTER_SET).toString();const l=i.length;let c=!0,d=!0,f=!0,g=0,w=0,x=0,C=0,O=0,D=0,B=0,U=0,W=0,G=0,q=0;const oe=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ae=0;ae<l&&(c||d||f);ae++){const ne=i[ae]&255;f&&(g>0?ne&128?g--:f=!1:ne&128&&(ne&64?(g++,ne&32?(g++,ne&16?(g++,ne&8?f=!1:C++):x++):w++):f=!1)),c&&(ne>127&&ne<160?c=!1:ne>159&&(ne<192||ne===215||ne===247)&&q++),d&&(O>0?ne<64||ne===127||ne>252?d=!1:O--:ne===128||ne===160||ne>239?d=!1:ne>160&&ne<224?(D++,U=0,B++,B>W&&(W=B)):ne>127?(O++,B=0,U++,U>G&&(G=U)):(B=0,U=0))}return f&&g>0&&(f=!1),d&&O>0&&(d=!1),f&&(oe||w+x+C>0)?Z.UTF8:d&&(Z.ASSUME_SHIFT_JIS||W>=3||G>=3)?Z.SHIFT_JIS:c&&d?W===2&&D===2||q*10>=l?Z.SHIFT_JIS:Z.ISO88591:c?Z.ISO88591:d?Z.SHIFT_JIS:f?Z.UTF8:Z.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let l=-1;function c(f,g,w,x,C,O){if(f==="%%")return"%";if(s[++l]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,B;switch(O){case"s":B=s[l];break;case"c":B=s[l][0];break;case"f":B=parseFloat(s[l]).toFixed(f);break;case"p":B=parseFloat(s[l]).toPrecision(f);break;case"e":B=parseFloat(s[l]).toExponential(f);break;case"x":B=parseInt(s[l]).toString(D||16);break;case"d":B=parseFloat(parseInt(s[l],D||10).toPrecision(f)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(D);let U=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+W:W+B;return B}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,c)}static getBytes(i,s){return ge.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}Z.SHIFT_JIS=z.SJIS.getName(),Z.GB2312="GB2312",Z.ISO88591=z.ISO8859_1.getName(),Z.EUC_JP="EUC_JP",Z.UTF8=z.UTF8.getName(),Z.PLATFORM_DEFAULT_ENCODING=Z.UTF8,Z.ASSUME_SHIFT_JIS=!1;class fe{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Z.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,l){for(let c=s;s<s+l;c++)this.append(i[c]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class te{constructor(i,s,l,c){if(this.width=i,this.height=s,this.rowSize=l,this.bits=c,s==null&&(s=i),this.height=s,i<1||s<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,l=i[0].length,c=new te(l,s);for(let d=0;d<s;d++){const f=i[d];for(let g=0;g<l;g++)f[g]&&c.set(g,d)}return c}static parseFromString(i,s,l){if(i===null)throw new v("stringRepresentation cannot be null");const c=new Array(i.length);let d=0,f=0,g=-1,w=0,x=0;for(;x<i.length;)if(i.charAt(x)===`
`||i.charAt(x)==="\r"){if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new v("row lengths do not match");f=d,w++}x++}else if(i.substring(x,x+s.length)===s)x+=s.length,c[d]=!0,d++;else if(i.substring(x,x+l.length)===l)x+=l.length,c[d]=!1,d++;else throw new v("illegal character encountered: "+i.substring(x));if(d>f){if(g===-1)g=d-f;else if(d-f!==g)throw new v("row lengths do not match");w++}const C=new te(g,w);for(let O=0;O<d;O++)c[O]&&C.set(Math.floor(O%g),Math.floor(O/g));return C}get(i,s){const l=s*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,s){const l=s*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,s){const l=s*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,s){const l=s*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new v("input matrix dimensions do not match");const s=new M(Math.floor(this.width/32)+1),l=this.rowSize,c=this.bits;for(let d=0,f=this.height;d<f;d++){const g=d*l,w=i.getRow(d,s).getBitArray();for(let x=0;x<l;x++)c[g+x]^=w[x]}}clear(){const i=this.bits,s=i.length;for(let l=0;l<s;l++)i[l]=0}setRegion(i,s,l,c){if(s<0||i<0)throw new v("Left and top must be nonnegative");if(c<1||l<1)throw new v("Height and width must be at least 1");const d=i+l,f=s+c;if(f>this.height||d>this.width)throw new v("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let x=s;x<f;x++){const C=x*g;for(let O=i;O<d;O++)w[C+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new M(this.width):s.clear();const l=this.rowSize,c=this.bits,d=i*l;for(let f=0;f<l;f++)s.setBulk(f*32,c[d+f]);return s}setRow(i,s){S.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let l=new M(i),c=new M(i);for(let d=0,f=Math.floor((s+1)/2);d<f;d++)l=this.getRow(d,l),c=this.getRow(s-1-d,c),l.reverse(),c.reverse(),this.setRow(d,c),this.setRow(s-1-d,l)}getEnclosingRectangle(){const i=this.width,s=this.height,l=this.rowSize,c=this.bits;let d=i,f=s,g=-1,w=-1;for(let x=0;x<s;x++)for(let C=0;C<l;C++){const O=c[x*l+C];if(O!==0){if(x<f&&(f=x),x>w&&(w=x),C*32<d){let D=0;for(;!(O<<31-D&4294967295);)D++;C*32+D<d&&(d=C*32+D)}if(C*32+31>g){let D=31;for(;!(O>>>D);)D--;C*32+D>g&&(g=C*32+D)}}}return g<d||w<f?null:Int32Array.from([d,f,g-d+1,w-f+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let l=0;for(;l<s.length&&s[l]===0;)l++;if(l===s.length)return null;const c=l/i;let d=l%i*32;const f=s[l];let g=0;for(;!(f<<31-g&4294967295);)g++;return d+=g,Int32Array.from([d,c])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let l=s.length-1;for(;l>=0&&s[l]===0;)l--;if(l<0)return null;const c=Math.floor(l/i);let d=Math.floor(l%i)*32;const f=s[l];let g=31;for(;!(f>>>g);)g--;return d+=g,Int32Array.from([d,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof te))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&A.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+A.hashCode(this.bits),i}toString(i="X ",s="  ",l=`
`){return this.buildToString(i,s,l)}buildToString(i,s,l){let c=new fe;for(let d=0,f=this.height;d<f;d++){for(let g=0,w=this.width;g<w;g++)c.append(this.get(g,d)?i:s);c.append(l)}return c.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends p{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class le extends P{constructor(i){super(i),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(i,s){const l=this.getLuminanceSource(),c=l.getWidth();s==null||s.getSize()<c?s=new M(c):s.clear(),this.initArrays(c);const d=l.getRow(i,this.luminances),f=this.buckets;for(let w=0;w<c;w++)f[(d[w]&255)>>le.LUMINANCE_SHIFT]++;const g=le.estimateBlackPoint(f);if(c<3)for(let w=0;w<c;w++)(d[w]&255)<g&&s.set(w);else{let w=d[0]&255,x=d[1]&255;for(let C=1;C<c-1;C++){const O=d[C+1]&255;(x*4-w-O)/2<g&&s.set(C),w=x,x=O}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),l=i.getHeight(),c=new te(s,l);this.initArrays(s);const d=this.buckets;for(let w=1;w<5;w++){const x=Math.floor(l*w/5),C=i.getRow(x,this.luminances),O=Math.floor(s*4/5);for(let D=Math.floor(s/5);D<O;D++){const B=C[D]&255;d[B>>le.LUMINANCE_SHIFT]++}}const f=le.estimateBlackPoint(d),g=i.getMatrix();for(let w=0;w<l;w++){const x=w*s;for(let C=0;C<s;C++)(g[x+C]&255)<f&&c.set(C,w)}return c}createBinarizer(i){return new le(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let l=0;l<le.LUMINANCE_BUCKETS;l++)s[l]=0}static estimateBlackPoint(i){const s=i.length;let l=0,c=0,d=0;for(let C=0;C<s;C++)i[C]>d&&(c=C,d=i[C]),i[C]>l&&(l=i[C]);let f=0,g=0;for(let C=0;C<s;C++){const O=C-c,D=i[C]*O*O;D>g&&(f=C,g=D)}if(c>f){const C=c;c=f,f=C}if(f-c<=s/16)throw new H;let w=f-1,x=-1;for(let C=f-1;C>c;C--){const O=C-c,D=O*O*(f-C)*(l-i[C]);D>x&&(w=C,x=D)}return w<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class ie extends le{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),l=i.getHeight();if(s>=ie.MINIMUM_DIMENSION&&l>=ie.MINIMUM_DIMENSION){const c=i.getMatrix();let d=s>>ie.BLOCK_SIZE_POWER;s&ie.BLOCK_SIZE_MASK&&d++;let f=l>>ie.BLOCK_SIZE_POWER;l&ie.BLOCK_SIZE_MASK&&f++;const g=ie.calculateBlackPoints(c,d,f,s,l),w=new te(s,l);ie.calculateThresholdForBlock(c,d,f,s,l,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ie(i)}static calculateThresholdForBlock(i,s,l,c,d,f,g){const w=d-ie.BLOCK_SIZE,x=c-ie.BLOCK_SIZE;for(let C=0;C<l;C++){let O=C<<ie.BLOCK_SIZE_POWER;O>w&&(O=w);const D=ie.cap(C,2,l-3);for(let B=0;B<s;B++){let U=B<<ie.BLOCK_SIZE_POWER;U>x&&(U=x);const W=ie.cap(B,2,s-3);let G=0;for(let oe=-2;oe<=2;oe++){const ae=f[D+oe];G+=ae[W-2]+ae[W-1]+ae[W]+ae[W+1]+ae[W+2]}const q=G/25;ie.thresholdBlock(i,U,O,q,c,g)}}}static cap(i,s,l){return i<s?s:i>l?l:i}static thresholdBlock(i,s,l,c,d,f){for(let g=0,w=l*d+s;g<ie.BLOCK_SIZE;g++,w+=d)for(let x=0;x<ie.BLOCK_SIZE;x++)(i[w+x]&255)<=c&&f.set(s+x,l+g)}static calculateBlackPoints(i,s,l,c,d){const f=d-ie.BLOCK_SIZE,g=c-ie.BLOCK_SIZE,w=new Array(l);for(let x=0;x<l;x++){w[x]=new Int32Array(s);let C=x<<ie.BLOCK_SIZE_POWER;C>f&&(C=f);for(let O=0;O<s;O++){let D=O<<ie.BLOCK_SIZE_POWER;D>g&&(D=g);let B=0,U=255,W=0;for(let q=0,oe=C*c+D;q<ie.BLOCK_SIZE;q++,oe+=c){for(let ae=0;ae<ie.BLOCK_SIZE;ae++){const ne=i[oe+ae]&255;B+=ne,ne<U&&(U=ne),ne>W&&(W=ne)}if(W-U>ie.MIN_DYNAMIC_RANGE)for(q++,oe+=c;q<ie.BLOCK_SIZE;q++,oe+=c)for(let ae=0;ae<ie.BLOCK_SIZE;ae++)B+=i[oe+ae]&255}let G=B>>ie.BLOCK_SIZE_POWER*2;if(W-U<=ie.MIN_DYNAMIC_RANGE&&(G=U/2,x>0&&O>0)){const q=(w[x-1][O]+2*w[x][O-1]+w[x-1][O-1])/4;U<q&&(G=q)}w[x][O]=G}}return w}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class Y{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,l,c){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new fe;for(let l=0;l<this.height;l++){const c=this.getRow(l,i);for(let d=0;d<this.width;d++){const f=c[d]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",s.append(g)}s.append(`
`)}return s.toString()}}class Q extends Y{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const l=this.delegate.getRow(i,s),c=this.getWidth();for(let d=0;d<c;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s);for(let c=0;c<s;c++)l[c]=255-(i[c]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,l,c){return new Q(this.delegate.crop(i,s,l,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Q(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Q(this.delegate.rotateCounterClockwise45())}}class de extends Y{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=de.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return de.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,l){const c=new Uint8ClampedArray(s*l);for(let d=0,f=0,g=i.length;d<g;d+=4,f++){let w;if(i[d+3]===0)w=255;else{const C=i[d],O=i[d+1],D=i[d+2];w=306*C+601*O+117*D+512>>10}c[f]=w}return c}getRow(i,s){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth(),c=i*l;return s===null?s=this.buffer.slice(c,c+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(c,c+l))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,l,c){return super.crop(i,s,l,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),l=s.getContext("2d"),c=i*de.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(c))*d+Math.abs(Math.sin(c))*f),w=Math.ceil(Math.abs(Math.sin(c))*d+Math.abs(Math.cos(c))*f);return s.width=g,s.height=w,l.translate(g/2,w/2),l.rotate(c),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=de.makeBufferFromCanvasImageData(s),this}invert(){return new Q(this)}}de.DEGREE_TO_RADIANS=Math.PI/180;class Ie{constructor(i,s,l){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var me=(globalThis||Ha||self||window||void 0)&&(globalThis||Ha||self||window||void 0).__awaiter||function(R,i,s,l){function c(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function g(C){try{x(l.next(C))}catch(O){f(O)}}function w(C){try{x(l.throw(C))}catch(O){f(O)}}function x(C){C.done?d(C.value):c(C.value).then(g,w)}x((l=l.apply(R,i||[])).next())})};class Ne{constructor(i,s=500,l){this.reader=i,this.timeBetweenScansMillis=s,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const l of i){const c=l.kind==="video"?"videoinput":l.kind;if(c!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${s.length+1}`,g=l.groupId,w={deviceId:d,label:f,kind:c,groupId:g};s.push(w)}return s})}getVideoInputDevices(){return me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Ie(s.deviceId,s.label))})}findDeviceById(i){return me(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return me(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(i,s){return me(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,s)})}decodeOnceFromStream(i,s){return me(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,s,l){return me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,l)})}decodeFromVideoDevice(i,s,l){return me(this,void 0,void 0,function*(){let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeFromConstraints(d,s,l)})}decodeFromConstraints(i,s,l){return me(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(c,s,l)})}decodeFromStream(i,s,l){return me(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(c,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return me(this,void 0,void 0,function*(){const l=this.prepareVideoElement(s);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((s,l)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return me(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const l=document.getElementById(i);if(!l)throw new y(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==s.toLowerCase())throw new y(`element with id '${i}' must be an ${s} element`);return l}decodeFromImage(i,s){if(!i&&!s)throw new y("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new y("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,l){if(i===void 0&&s===void 0)throw new y("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let l;return this.isImageLoaded(s)?l=this.decodeOnce(s,!1,!0):l=this._decodeOnLoadImage(s),l}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,s)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const l=this._decodeOnLoadImage(s);return s.src=i,l}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElement(s);return s.src=i,l}decodeFromVideoUrlContinuously(i,s){if(!i)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(l,s);return l.src=i,c}_decodeOnLoadImage(i){return new Promise((s,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,l=!0){this._stopAsyncDecode=!1;const c=(d,f)=>{if(this._stopAsyncDecode){f(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(i);d(g)}catch(g){const w=s&&g instanceof H,C=(g instanceof E||g instanceof F)&&l;if(w||C)return setTimeout(c,this._timeBetweenDecodingAttempts,d,f);f(g)}};return new Promise((d,f)=>c(d,f))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(i);s(c,null),setTimeout(l,this.timeBetweenScansMillis)}catch(c){s(null,c);const d=c instanceof E||c instanceof F,f=c instanceof H;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,s,l){s||(s={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(i,s,l=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const s=this.getCaptureCanvas(i),l=new de(s),c=new ie(l);return new b(c)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let l,c;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,c=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,c=i.naturalHeight||i.height)),s.style.width=l+"px",s.style.height=c+"px",s.width=l,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(i,s,l=s==null?0:8*s.length,c,d,f=S.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=l,this.resultPoints=c,this.format=d,this.timestamp=f,this.text=i,this.rawBytes=s,l==null?this.numBits=s==null?0:8*s.length:this.numBits=l,this.resultPoints=c,this.format=d,this.resultMetadata=null,f==null?this.timestamp=S.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(s.length+i.length);S.arraycopy(s,0,l,0,s.length),S.arraycopy(i,0,l,s.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var pe=st,he;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(he||(he={}));var Pe=he;class at{constructor(i,s,l,c,d=-1,f=-1){this.rawBytes=i,this.text=s,this.byteSegments=l,this.ecLevel=c,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class Oe{constructor(i,s){if(s.length===0)throw new v;this.field=i;const l=s.length;if(l>1&&s[0]===0){let c=1;for(;c<l&&s[c]===0;)c++;c===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-c),S.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let l;if(i===1){l=0;for(let f=0,g=s.length;f!==g;f++){const w=s[f];l=$e.addOrSubtract(l,w)}return l}l=s[0];const c=s.length,d=this.field;for(let f=1;f<c;f++)l=$e.addOrSubtract(d.multiply(i,l),s[f]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,l=i.coefficients;if(s.length>l.length){const f=s;s=l,l=f}let c=new Int32Array(l.length);const d=l.length-s.length;S.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=$e.addOrSubtract(s[f-d],l[f]);return new Oe(this.field,c)}multiply(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,l=s.length,c=i.coefficients,d=c.length,f=new Int32Array(l+d-1),g=this.field;for(let w=0;w<l;w++){const x=s[w];for(let C=0;C<d;C++)f[w+C]=$e.addOrSubtract(f[w+C],g.multiply(x,c[C]))}return new Oe(g,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,l=this.field,c=new Int32Array(s),d=this.coefficients;for(let f=0;f<s;f++)c[f]=l.multiply(d[f],i);return new Oe(l,c)}multiplyByMonomial(i,s){if(i<0)throw new v;if(s===0)return this.field.getZero();const l=this.coefficients,c=l.length,d=new Int32Array(c+i),f=this.field;for(let g=0;g<c;g++)d[g]=f.multiply(l[g],s);return new Oe(f,d)}divide(i){if(!this.field.equals(i.field))throw new v("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new v("Divide by 0");const s=this.field;let l=s.getZero(),c=this;const d=i.getCoefficient(i.getDegree()),f=s.inverse(d);for(;c.getDegree()>=i.getDegree()&&!c.isZero();){const g=c.getDegree()-i.getDegree(),w=s.multiply(c.getCoefficient(c.getDegree()),f),x=i.multiplyByMonomial(g,w),C=s.buildMonomial(g,w);l=l.addOrSubtract(C),c=c.addOrSubtract(x)}return[l,c]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),s===0||l!==1){const c=this.field.log(l);c===0?i+="1":c===1?i+="a":(i+="a^",i+=c)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class Ge extends p{}Ge.kind="ArithmeticException";class De extends $e{constructor(i,s,l){super(),this.primitive=i,this.size=s,this.generatorBase=l;const c=new Int32Array(s);let d=1;for(let g=0;g<s;g++)c[g]=d,d*=2,d>=s&&(d^=i,d&=s-1);this.expTable=c;const f=new Int32Array(s);for(let g=0;g<s-1;g++)f[c[g]]=g;this.logTable=f,this.zero=new Oe(this,Int32Array.from([0])),this.one=new Oe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new v;if(s===0)return this.zero;const l=new Int32Array(i+1);return l[0]=s,new Oe(this,l)}inverse(i){if(i===0)throw new Ge;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}De.AZTEC_DATA_12=new De(4201,4096,1),De.AZTEC_DATA_10=new De(1033,1024,1),De.AZTEC_DATA_6=new De(67,64,1),De.AZTEC_PARAM=new De(19,16,1),De.QR_CODE_FIELD_256=new De(285,256,0),De.DATA_MATRIX_FIELD_256=new De(301,256,1),De.AZTEC_DATA_8=De.DATA_MATRIX_FIELD_256,De.MAXICODE_FIELD_64=De.AZTEC_DATA_6;class Wt extends p{}Wt.kind="ReedSolomonException";class Qt extends p{}Qt.kind="IllegalStateException";class Nn{constructor(i){this.field=i}decode(i,s){const l=this.field,c=new Oe(l,i),d=new Int32Array(s);let f=!0;for(let B=0;B<s;B++){const U=c.evaluateAt(l.exp(B+l.getGeneratorBase()));d[d.length-1-B]=U,U!==0&&(f=!1)}if(f)return;const g=new Oe(l,d),w=this.runEuclideanAlgorithm(l.buildMonomial(s,1),g,s),x=w[0],C=w[1],O=this.findErrorLocations(x),D=this.findErrorMagnitudes(C,O);for(let B=0;B<O.length;B++){const U=i.length-1-l.log(O[B]);if(U<0)throw new Wt("Bad error location");i[U]=De.addOrSubtract(i[U],D[B])}}runEuclideanAlgorithm(i,s,l){if(i.getDegree()<s.getDegree()){const B=i;i=s,s=B}const c=this.field;let d=i,f=s,g=c.getZero(),w=c.getOne();for(;f.getDegree()>=(l/2|0);){let B=d,U=g;if(d=f,g=w,d.isZero())throw new Wt("r_{i-1} was zero");f=B;let W=c.getZero();const G=d.getCoefficient(d.getDegree()),q=c.inverse(G);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const oe=f.getDegree()-d.getDegree(),ae=c.multiply(f.getCoefficient(f.getDegree()),q);W=W.addOrSubtract(c.buildMonomial(oe,ae)),f=f.addOrSubtract(d.multiplyByMonomial(oe,ae))}if(w=W.multiply(g).addOrSubtract(U),f.getDegree()>=d.getDegree())throw new Qt("Division algorithm failed to reduce polynomial?")}const x=w.getCoefficient(0);if(x===0)throw new Wt("sigmaTilde(0) was zero");const C=c.inverse(x),O=w.multiplyScalar(C),D=f.multiplyScalar(C);return[O,D]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(s);let c=0;const d=this.field;for(let f=1;f<d.getSize()&&c<s;f++)i.evaluateAt(f)===0&&(l[c]=d.inverse(f),c++);if(c!==s)throw new Wt("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,s){const l=s.length,c=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const g=d.inverse(s[f]);let w=1;for(let x=0;x<l;x++)if(f!==x){const C=d.multiply(s[x],g),O=C&1?C&-2:C|1;w=d.multiply(w,O)}c[f]=d.multiply(i.evaluateAt(g),d.inverse(w)),d.getGeneratorBase()!==0&&(c[f]=d.multiply(c[f],g))}return c}}var pt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(pt||(pt={}));class et{decode(i){this.ddata=i;let s=i.getBits(),l=this.extractBits(s),c=this.correctBits(l),d=et.convertBoolArrayToByteArray(c),f=et.getEncodedData(c),g=new at(d,f,null,null);return g.setNumBits(c.length),g}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,l=pt.UPPER,c=pt.UPPER,d="",f=0;for(;f<s;)if(c===pt.BINARY){if(s-f<5)break;let g=et.readCode(i,f,5);if(f+=5,g===0){if(s-f<11)break;g=et.readCode(i,f,11)+31,f+=11}for(let w=0;w<g;w++){if(s-f<8){f=s;break}const x=et.readCode(i,f,8);d+=Z.castAsNonUtf8Char(x),f+=8}c=l}else{let g=c===pt.DIGIT?4:5;if(s-f<g)break;let w=et.readCode(i,f,g);f+=g;let x=et.getCharacter(c,w);x.startsWith("CTRL_")?(l=c,c=et.getTable(x.charAt(5)),x.charAt(6)==="L"&&(l=c)):(d+=x,c=l)}return d}static getTable(i){switch(i){case"L":return pt.LOWER;case"P":return pt.PUNCT;case"M":return pt.MIXED;case"D":return pt.DIGIT;case"B":return pt.BINARY;case"U":default:return pt.UPPER}}static getCharacter(i,s){switch(i){case pt.UPPER:return et.UPPER_TABLE[s];case pt.LOWER:return et.LOWER_TABLE[s];case pt.MIXED:return et.MIXED_TABLE[s];case pt.PUNCT:return et.PUNCT_TABLE[s];case pt.DIGIT:return et.DIGIT_TABLE[s];default:throw new Qt("Bad table")}}correctBits(i){let s,l;this.ddata.getNbLayers()<=2?(l=6,s=De.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,s=De.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,s=De.AZTEC_DATA_10):(l=12,s=De.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),d=i.length/l;if(d<c)throw new F;let f=i.length%l,g=new Int32Array(d);for(let D=0;D<d;D++,f+=l)g[D]=et.readCode(i,f,l);try{new Nn(s).decode(g,d-c)}catch(D){throw new F(D)}let w=(1<<l)-1,x=0;for(let D=0;D<c;D++){let B=g[D];if(B===0||B===w)throw new F;(B===1||B===w-1)&&x++}let C=new Array(c*l-x),O=0;for(let D=0;D<c;D++){let B=g[D];if(B===1||B===w-1)C.fill(B>1,O,O+l-1),O+=l-1;else for(let U=l-1;U>=0;--U)C[O++]=(B&1<<U)!==0}return C}extractBits(i){let s=this.ddata.isCompact(),l=this.ddata.getNbLayers(),c=(s?11:14)+l*4,d=new Int32Array(c),f=new Array(this.totalBitsInLayer(l,s));if(s)for(let g=0;g<d.length;g++)d[g]=g;else{let g=c+1+2*_.truncDivision(_.truncDivision(c,2)-1,15),w=c/2,x=_.truncDivision(g,2);for(let C=0;C<w;C++){let O=C+_.truncDivision(C,15);d[w-C-1]=x-O-1,d[w+C]=x+O+1}}for(let g=0,w=0;g<l;g++){let x=(l-g)*4+(s?9:12),C=g*2,O=c-1-C;for(let D=0;D<x;D++){let B=D*2;for(let U=0;U<2;U++)f[w+B+U]=i.get(d[C+U],d[C+D]),f[w+2*x+B+U]=i.get(d[C+D],d[O-U]),f[w+4*x+B+U]=i.get(d[O-U],d[O-D]),f[w+6*x+B+U]=i.get(d[O-D],d[C+U])}w+=x*8}return f}static readCode(i,s,l){let c=0;for(let d=s;d<s+l;d++)c<<=1,i[d]&&(c|=1);return c}static readByte(i,s){let l=i.length-s;return l>=8?et.readCode(i,s,8):et.readCode(i,s,l)<<8-l}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let l=0;l<s.length;l++)s[l]=et.readByte(i,8*l);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,l,c){const d=i-l,f=s-c;return Math.sqrt(d*d+f*f)}static sum(i){let s=0;for(let l=0,c=i.length;l!==c;l++){const d=i[l];s+=d}return s}}class ys{static floatToIntBits(i){return i}}ys.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof we){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*ys.floatToIntBits(this.x)+ys.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),c=this.distance(i[0],i[2]);let d,f,g;if(l>=s&&l>=c?(f=i[0],d=i[1],g=i[2]):c>=l&&c>=s?(f=i[1],d=i[0],g=i[2]):(f=i[2],d=i[0],g=i[1]),this.crossProductZ(d,f,g)<0){const w=d;d=g,g=w}i[0]=d,i[1]=f,i[2]=g}static distance(i,s){return Ue.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,l){const c=s.x,d=s.y;return(l.x-c)*(i.y-d)-(l.y-d)*(i.x-c)}}class vs{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class jr extends vs{constructor(i,s,l,c,d){super(i,s),this.compact=l,this.nbDatablocks=c,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mr{constructor(i,s,l,c){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=mr.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),c==null&&(c=i.getHeight()/2|0);const d=s/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=c-d,this.downInit=c+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let i=this.leftInit,s=this.rightInit,l=this.upInit,c=this.downInit,d=!1,f=!0,g=!1,w=!1,x=!1,C=!1,O=!1;const D=this.width,B=this.height;for(;f;){f=!1;let U=!0;for(;(U||!w)&&s<D;)U=this.containsBlackPoint(l,c,s,!1),U?(s++,f=!0,w=!0):w||s++;if(s>=D){d=!0;break}let W=!0;for(;(W||!x)&&c<B;)W=this.containsBlackPoint(i,s,c,!0),W?(c++,f=!0,x=!0):x||c++;if(c>=B){d=!0;break}let G=!0;for(;(G||!C)&&i>=0;)G=this.containsBlackPoint(l,c,i,!1),G?(i--,f=!0,C=!0):C||i--;if(i<0){d=!0;break}let q=!0;for(;(q||!O)&&l>=0;)q=this.containsBlackPoint(i,s,l,!0),q?(l--,f=!0,O=!0):O||l--;if(l<0){d=!0;break}f&&(g=!0)}if(!d&&g){const U=s-i;let W=null;for(let ae=1;W===null&&ae<U;ae++)W=this.getBlackPointOnSegment(i,c-ae,i+ae,c);if(W==null)throw new H;let G=null;for(let ae=1;G===null&&ae<U;ae++)G=this.getBlackPointOnSegment(i,l+ae,i+ae,l);if(G==null)throw new H;let q=null;for(let ae=1;q===null&&ae<U;ae++)q=this.getBlackPointOnSegment(s,l+ae,s-ae,l);if(q==null)throw new H;let oe=null;for(let ae=1;oe===null&&ae<U;ae++)oe=this.getBlackPointOnSegment(s,c-ae,s-ae,c);if(oe==null)throw new H;return this.centerEdges(oe,W,q,G)}else throw new H}getBlackPointOnSegment(i,s,l,c){const d=Ue.round(Ue.distance(i,s,l,c)),f=(l-i)/d,g=(c-s)/d,w=this.image;for(let x=0;x<d;x++){const C=Ue.round(i+x*f),O=Ue.round(s+x*g);if(w.get(C,O))return new we(C,O)}return null}centerEdges(i,s,l,c){const d=i.getX(),f=i.getY(),g=s.getX(),w=s.getY(),x=l.getX(),C=l.getY(),O=c.getX(),D=c.getY(),B=mr.CORR;return d<this.width/2?[new we(O-B,D+B),new we(g+B,w+B),new we(x-B,C-B),new we(d+B,f-B)]:[new we(O+B,D+B),new we(g+B,w-B),new we(x-B,C+B),new we(d-B,f-B)]}containsBlackPoint(i,s,l,c){const d=this.image;if(c){for(let f=i;f<=s;f++)if(d.get(f,l))return!0}else for(let f=i;f<=s;f++)if(d.get(l,f))return!0;return!1}}mr.INIT_SIZE=10,mr.CORR=1;class Da{static checkAndNudgePoints(i,s){const l=i.getWidth(),c=i.getHeight();let d=!0;for(let f=0;f<s.length&&d;f+=2){const g=Math.floor(s[f]),w=Math.floor(s[f+1]);if(g<-1||g>l||w<-1||w>c)throw new H;d=!1,g===-1?(s[f]=0,d=!0):g===l&&(s[f]=l-1,d=!0),w===-1?(s[f+1]=0,d=!0):w===c&&(s[f+1]=c-1,d=!0)}d=!0;for(let f=s.length-2;f>=0&&d;f-=2){const g=Math.floor(s[f]),w=Math.floor(s[f+1]);if(g<-1||g>l||w<-1||w>c)throw new H;d=!1,g===-1?(s[f]=0,d=!0):g===l&&(s[f]=l-1,d=!0),w===-1?(s[f+1]=0,d=!0):w===c&&(s[f+1]=c-1,d=!0)}}}class bt{constructor(i,s,l,c,d,f,g,w,x){this.a11=i,this.a21=s,this.a31=l,this.a12=c,this.a22=d,this.a32=f,this.a13=g,this.a23=w,this.a33=x}static quadrilateralToQuadrilateral(i,s,l,c,d,f,g,w,x,C,O,D,B,U,W,G){const q=bt.quadrilateralToSquare(i,s,l,c,d,f,g,w);return bt.squareToQuadrilateral(x,C,O,D,B,U,W,G).times(q)}transformPoints(i){const s=i.length,l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,w=this.a23,x=this.a31,C=this.a32,O=this.a33;for(let D=0;D<s;D+=2){const B=i[D],U=i[D+1],W=d*B+w*U+O;i[D]=(l*B+f*U+x)/W,i[D+1]=(c*B+g*U+C)/W}}transformPointsWithValues(i,s){const l=this.a11,c=this.a12,d=this.a13,f=this.a21,g=this.a22,w=this.a23,x=this.a31,C=this.a32,O=this.a33,D=i.length;for(let B=0;B<D;B++){const U=i[B],W=s[B],G=d*U+w*W+O;i[B]=(l*U+f*W+x)/G,s[B]=(c*U+g*W+C)/G}}static squareToQuadrilateral(i,s,l,c,d,f,g,w){const x=i-l+d-g,C=s-c+f-w;if(x===0&&C===0)return new bt(l-i,d-l,i,c-s,f-c,s,0,0,1);{const O=l-d,D=g-d,B=c-f,U=w-f,W=O*U-D*B,G=(x*U-D*C)/W,q=(O*C-x*B)/W;return new bt(l-i+G*l,g-i+q*g,i,c-s+G*c,w-s+q*w,s,G,q,1)}}static quadrilateralToSquare(i,s,l,c,d,f,g,w){return bt.squareToQuadrilateral(i,s,l,c,d,f,g,w).buildAdjoint()}buildAdjoint(){return new bt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new bt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class ii extends Da{sampleGrid(i,s,l,c,d,f,g,w,x,C,O,D,B,U,W,G,q,oe,ae){const ne=bt.quadrilateralToQuadrilateral(c,d,f,g,w,x,C,O,D,B,U,W,G,q,oe,ae);return this.sampleGridWithTransform(i,s,l,ne)}sampleGridWithTransform(i,s,l,c){if(s<=0||l<=0)throw new H;const d=new te(s,l),f=new Float32Array(2*s);for(let g=0;g<l;g++){const w=f.length,x=g+.5;for(let C=0;C<w;C+=2)f[C]=C/2+.5,f[C+1]=x;c.transformPoints(f),Da.checkAndNudgePoints(i,f);try{for(let C=0;C<w;C+=2)i.get(Math.floor(f[C]),Math.floor(f[C+1]))&&d.set(C/2,g)}catch{throw new H}}return d}}class Ur{static setGridSampler(i){Ur.gridSampler=i}static getInstance(){return Ur.gridSampler}}Ur.gridSampler=new ii;class sn{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Es{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),l=this.getBullsEyeCorners(s);if(i){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let c=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new jr(c,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new H;let s=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(l,s);let c=0;for(let f=0;f<4;f++){let g=l[(this.shift+f)%4];this.compact?(c<<=7,c+=g>>1&127):(c<<=10,c+=(g>>2&992)+(g>>1&31))}let d=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,s){let l=0;i.forEach((c,d,f)=>{let g=(c>>s-2<<1)+(c&1);l=(l<<3)+g}),l=((l&1)<<11)+(l>>1);for(let c=0;c<4;c++)if(_.bitCount(l^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new H}getCorrectedParameterData(i,s){let l,c;s?(l=7,c=2):(l=10,c=4);let d=l-c,f=new Int32Array(l);for(let w=l-1;w>=0;--w)f[w]=i&15,i>>=4;try{new Nn(De.AZTEC_PARAM).decode(f,d)}catch{throw new H}let g=0;for(let w=0;w<c;w++)g=(g<<4)+f[w];return g}getBullsEyeCorners(i){let s=i,l=i,c=i,d=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(s,f,1,-1),D=this.getFirstDifferent(l,f,1,1),B=this.getFirstDifferent(c,f,-1,1),U=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let W=this.distancePoint(U,O)*this.nbCenterLayers/(this.distancePoint(d,s)*(this.nbCenterLayers+2));if(W<.75||W>1.25||!this.isWhiteOrBlackRectangle(O,D,B,U))break}s=O,l=D,c=B,d=U,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let g=new we(s.getX()+.5,s.getY()-.5),w=new we(l.getX()+.5,l.getY()+.5),x=new we(c.getX()-.5,c.getY()+.5),C=new we(d.getX()-.5,d.getY()-.5);return this.expandSquare([g,w,x,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,l,c;try{let g=new mr(this.image).detect();i=g[0],s=g[1],l=g[2],c=g[3]}catch{let w=this.image.getWidth()/2,x=this.image.getHeight()/2;i=this.getFirstDifferent(new sn(w+7,x-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new sn(w+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(w-7,x+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new sn(w-7,x-7),!1,-1,-1).toResultPoint()}let d=Ue.round((i.getX()+c.getX()+s.getX()+l.getX())/4),f=Ue.round((i.getY()+c.getY()+s.getY()+l.getY())/4);try{let g=new mr(this.image,15,d,f).detect();i=g[0],s=g[1],l=g[2],c=g[3]}catch{i=this.getFirstDifferent(new sn(d+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new sn(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new sn(d-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new sn(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Ue.round((i.getX()+c.getX()+s.getX()+l.getX())/4),f=Ue.round((i.getY()+c.getY()+s.getY()+l.getY())/4),new sn(d,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,l,c,d){let f=Ur.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,x=g/2+this.nbCenterLayers;return f.sampleGrid(i,g,g,w,w,x,w,x,x,w,x,s.getX(),s.getY(),l.getX(),l.getY(),c.getX(),c.getY(),d.getX(),d.getY())}sampleLine(i,s,l){let c=0,d=this.distanceResultPoint(i,s),f=d/l,g=i.getX(),w=i.getY(),x=f*(s.getX()-i.getX())/d,C=f*(s.getY()-i.getY())/d;for(let O=0;O<l;O++)this.image.get(Ue.round(g+O*x),Ue.round(w+O*C))&&(c|=1<<l-O-1);return c}isWhiteOrBlackRectangle(i,s,l,c){let d=3;i=new sn(i.getX()-d,i.getY()+d),s=new sn(s.getX()-d,s.getY()-d),l=new sn(l.getX()+d,l.getY()-d),c=new sn(c.getX()+d,c.getY()+d);let f=this.getColor(c,i);if(f===0)return!1;let g=this.getColor(i,s);return g!==f||(g=this.getColor(s,l),g!==f)?!1:(g=this.getColor(l,c),g===f)}getColor(i,s){let l=this.distancePoint(i,s),c=(s.getX()-i.getX())/l,d=(s.getY()-i.getY())/l,f=0,g=i.getX(),w=i.getY(),x=this.image.get(i.getX(),i.getY()),C=Math.ceil(l);for(let D=0;D<C;D++)g+=c,w+=d,this.image.get(Ue.round(g),Ue.round(w))!==x&&f++;let O=f/l;return O>.1&&O<.9?0:O<=.1===x?1:-1}getFirstDifferent(i,s,l,c){let d=i.getX()+l,f=i.getY()+c;for(;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l,f+=c;for(d-=l,f-=c;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===s;)f+=c;return f-=c,new sn(d,f)}expandSquare(i,s,l){let c=l/(2*s),d=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),g=(i[0].getX()+i[2].getX())/2,w=(i[0].getY()+i[2].getY())/2,x=new we(g+c*d,w+c*f),C=new we(g-c*d,w-c*f);d=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),g=(i[1].getX()+i[3].getX())/2,w=(i[1].getY()+i[3].getY())/2;let O=new we(g+c*d,w+c*f),D=new we(g-c*d,w-c*f);return[x,O,C,D]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=Ue.round(i.getX()),l=Ue.round(i.getY());return this.isValid(s,l)}distancePoint(i,s){return Ue.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return Ue.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class fo{decode(i,s=null){let l=null,c=new Es(i.getBlackMatrix()),d=null,f=null;try{let C=c.detectMirror(!1);d=C.getPoints(),this.reportFoundResultPoints(s,d),f=new et().decode(C)}catch(C){l=C}if(f==null)try{let C=c.detectMirror(!0);d=C.getPoints(),this.reportFoundResultPoints(s,d),f=new et().decode(C)}catch(C){throw l??C}let g=new be(f.getText(),f.getRawBytes(),f.getNumBits(),d,pe.AZTEC,S.currentTimeMillis()),w=f.getByteSegments();w!=null&&g.putMetadata(Pe.BYTE_SEGMENTS,w);let x=f.getECLevel();return x!=null&&g.putMetadata(Pe.ERROR_CORRECTION_LEVEL,x),g}reportFoundResultPoints(i,s){if(i!=null){let l=i.get(V.NEED_RESULT_POINT_CALLBACK);l!=null&&s.forEach((c,d,f)=>{l.foundPossibleResultPoint(c)})}}reset(){}}class oc extends Ne{constructor(i=500){super(new fo,i)}}class Ct{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(V.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),f=this.doDecode(d,s),g=f.getResultMetadata();let w=270;g!==null&&g.get(Pe.ORIENTATION)===!0&&(w=w+g.get(Pe.ORIENTATION)%360),f.putMetadata(Pe.ORIENTATION,w);const x=f.getResultPoints();if(x!==null){const C=d.getHeight();for(let O=0;O<x.length;O++)x[O]=new we(C-x[O].getY()-1,x[O].getX())}return f}else throw new H}}reset(){}doDecode(i,s){const l=i.getWidth(),c=i.getHeight();let d=new M(l);const f=s&&s.get(V.TRY_HARDER)===!0,g=Math.max(1,c>>(f?8:5));let w;f?w=c:w=15;const x=Math.trunc(c/2);for(let C=0;C<w;C++){const O=Math.trunc((C+1)/2),D=(C&1)===0,B=x+g*(D?O:-O);if(B<0||B>=c)break;try{d=i.getBlackRow(B,d)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(d.reverse(),s&&s.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const W=new Map;s.forEach((G,q)=>W.set(q,G)),W.delete(V.NEED_RESULT_POINT_CALLBACK),s=W}try{const W=this.decodeRow(B,d,s);if(U===1){W.putMetadata(Pe.ORIENTATION,180);const G=W.getResultPoints();G!==null&&(G[0]=new we(l-G[0].getX()-1,G[0].getY()),G[1]=new we(l-G[1].getX()-1,G[1].getY()))}return W}catch{}}}throw new H}static recordPattern(i,s,l){const c=l.length;for(let x=0;x<c;x++)l[x]=0;const d=i.getSize();if(s>=d)throw new H;let f=!i.get(s),g=0,w=s;for(;w<d;){if(i.get(w)!==f)l[g]++;else{if(++g===c)break;l[g]=1,f=!f}w++}if(!(g===c||g===c-1&&w===d))throw new H}static recordPatternInReverse(i,s,l){let c=l.length,d=i.get(s);for(;s>0&&c>=0;)i.get(--s)!==d&&(c--,d=!d);if(c>=0)throw new H;Ct.recordPattern(i,s+1,l)}static patternMatchVariance(i,s,l){const c=i.length;let d=0,f=0;for(let x=0;x<c;x++)d+=i[x],f+=s[x];if(d<f)return Number.POSITIVE_INFINITY;const g=d/f;l*=g;let w=0;for(let x=0;x<c;x++){const C=i[x],O=s[x]*g,D=C>O?C-O:O-C;if(D>l)return Number.POSITIVE_INFINITY;w+=D}return w/d}}class ce extends Ct{static findStartPattern(i){const s=i.getSize(),l=i.getNextSet(0);let c=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,g=!1;const w=6;for(let x=l;x<s;x++)if(i.get(x)!==g)d[c]++;else{if(c===w-1){let C=ce.MAX_AVG_VARIANCE,O=-1;for(let D=ce.CODE_START_A;D<=ce.CODE_START_C;D++){const B=Ct.patternMatchVariance(d,ce.CODE_PATTERNS[D],ce.MAX_INDIVIDUAL_VARIANCE);B<C&&(C=B,O=D)}if(O>=0&&i.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,O]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[c-1]=0,d[c]=0,c--}else c++;d[c]=1,g=!g}throw new H}static decodeCode(i,s,l){Ct.recordPattern(i,l,s);let c=ce.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ce.CODE_PATTERNS.length;f++){const g=ce.CODE_PATTERNS[f],w=this.patternMatchVariance(s,g,ce.MAX_INDIVIDUAL_VARIANCE);w<c&&(c=w,d=f)}if(d>=0)return d;throw new H}decodeRow(i,s,l){const c=l&&l.get(V.ASSUME_GS1)===!0,d=ce.findStartPattern(s),f=d[2];let g=0;const w=new Uint8Array(20);w[g++]=f;let x;switch(f){case ce.CODE_START_A:x=ce.CODE_CODE_A;break;case ce.CODE_START_B:x=ce.CODE_CODE_B;break;case ce.CODE_START_C:x=ce.CODE_CODE_C;break;default:throw new F}let C=!1,O=!1,D="",B=d[0],U=d[1];const W=Int32Array.from([0,0,0,0,0,0]);let G=0,q=0,oe=f,ae=0,ne=!0,Ke=!1,Be=!1;for(;!C;){const Eo=O;switch(O=!1,G=q,q=ce.decodeCode(s,W,U),w[g++]=q,q!==ce.CODE_STOP&&(ne=!0),q!==ce.CODE_STOP&&(ae++,oe+=ae*q),B=U,U+=W.reduce((JC,eS)=>JC+eS,0),q){case ce.CODE_START_A:case ce.CODE_START_B:case ce.CODE_START_C:throw new F}switch(x){case ce.CODE_CODE_A:if(q<64)Be===Ke?D+=String.fromCharCode(32+q):D+=String.fromCharCode(32+q+128),Be=!1;else if(q<96)Be===Ke?D+=String.fromCharCode(q-64):D+=String.fromCharCode(q+64),Be=!1;else switch(q!==ce.CODE_STOP&&(ne=!1),q){case ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_A:!Ke&&Be?(Ke=!0,Be=!1):Ke&&Be?(Ke=!1,Be=!1):Be=!0;break;case ce.CODE_SHIFT:O=!0,x=ce.CODE_CODE_B;break;case ce.CODE_CODE_B:x=ce.CODE_CODE_B;break;case ce.CODE_CODE_C:x=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0;break}break;case ce.CODE_CODE_B:if(q<96)Be===Ke?D+=String.fromCharCode(32+q):D+=String.fromCharCode(32+q+128),Be=!1;else switch(q!==ce.CODE_STOP&&(ne=!1),q){case ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case ce.CODE_FNC_2:case ce.CODE_FNC_3:break;case ce.CODE_FNC_4_B:!Ke&&Be?(Ke=!0,Be=!1):Ke&&Be?(Ke=!1,Be=!1):Be=!0;break;case ce.CODE_SHIFT:O=!0,x=ce.CODE_CODE_A;break;case ce.CODE_CODE_A:x=ce.CODE_CODE_A;break;case ce.CODE_CODE_C:x=ce.CODE_CODE_C;break;case ce.CODE_STOP:C=!0;break}break;case ce.CODE_CODE_C:if(q<100)q<10&&(D+="0"),D+=q;else switch(q!==ce.CODE_STOP&&(ne=!1),q){case ce.CODE_FNC_1:c&&(D.length===0?D+="]C1":D+="");break;case ce.CODE_CODE_A:x=ce.CODE_CODE_A;break;case ce.CODE_CODE_B:x=ce.CODE_CODE_B;break;case ce.CODE_STOP:C=!0;break}break}Eo&&(x=x===ce.CODE_CODE_A?ce.CODE_CODE_B:ce.CODE_CODE_A)}const Dn=U-B;if(U=s.getNextUnset(U),!s.isRange(U,Math.min(s.getSize(),U+(U-B)/2),!1))throw new H;if(oe-=ae*G,oe%103!==G)throw new E;const yr=D.length;if(yr===0)throw new H;yr>0&&ne&&(x===ce.CODE_CODE_C?D=D.substring(0,yr-2):D=D.substring(0,yr-1));const Mn=(d[1]+d[0])/2,ut=B+Dn/2,ln=w.length,Hn=new Uint8Array(ln);for(let Eo=0;Eo<ln;Eo++)Hn[Eo]=w[Eo];const vo=[new we(Mn,i),new we(ut,i)];return new be(D,Hn,0,vo,pe.CODE_128,new Date().getTime())}}ce.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ce.MAX_AVG_VARIANCE=.25,ce.MAX_INDIVIDUAL_VARIANCE=.7,ce.CODE_SHIFT=98,ce.CODE_CODE_C=99,ce.CODE_CODE_B=100,ce.CODE_CODE_A=101,ce.CODE_FNC_1=102,ce.CODE_FNC_2=97,ce.CODE_FNC_3=96,ce.CODE_FNC_4_A=101,ce.CODE_FNC_4_B=100,ce.CODE_START_A=103,ce.CODE_START_B=104,ce.CODE_START_C=105,ce.CODE_STOP=106;class kt extends Ct{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,l){let c=this.counters;c.fill(0),this.decodeRowResult="";let d=kt.findAsteriskPattern(s,c),f=s.getNextSet(d[1]),g=s.getSize(),w,x;do{kt.recordPattern(s,f,c);let W=kt.toNarrowWidePattern(c);if(W<0)throw new H;w=kt.patternToChar(W),this.decodeRowResult+=w,x=f;for(let G of c)f+=G;f=s.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let W of c)C+=W;let O=f-x-C;if(f!==g&&O*2<C)throw new H;if(this.usingCheckDigit){let W=this.decodeRowResult.length-1,G=0;for(let q=0;q<W;q++)G+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(W)!==kt.ALPHABET_STRING.charAt(G%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,W)}if(this.decodeRowResult.length===0)throw new H;let D;this.extendedMode?D=kt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let B=(d[1]+d[0])/2,U=x+C/2;return new be(D,null,0,[new we(B,i),new we(U,i)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let l=i.getSize(),c=i.getNextSet(0),d=0,f=c,g=!1,w=s.length;for(let x=c;x<l;x++)if(i.get(x)!==g)s[d]++;else{if(d===w-1){if(this.toNarrowWidePattern(s)===kt.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,g=!g}throw new H}static toNarrowWidePattern(i){let s=i.length,l=0,c;do{let d=2147483647;for(let w of i)w<d&&w>l&&(d=w);l=d,c=0;let f=0,g=0;for(let w=0;w<s;w++){let x=i[w];x>l&&(g|=1<<s-1-w,c++,f+=x)}if(c===3){for(let w=0;w<s&&c>0;w++){let x=i[w];if(x>l&&(c--,x*2>=f))return-1}return g}}while(c>3);return-1}static patternToChar(i){for(let s=0;s<kt.CHARACTER_ENCODINGS.length;s++)if(kt.CHARACTER_ENCODINGS[s]===i)return kt.ALPHABET_STRING.charAt(s);if(i===kt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(i){let s=i.length,l="";for(let c=0;c<s;c++){let d=i.charAt(c);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=i.charAt(c+1),g="\0";switch(d){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new F;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new F;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new F;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new F;break}l+=g,c++}else l+=d}return l}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class Ye extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,l){let c=this.decodeStart(s),d=this.decodeEnd(s),f=new fe;Ye.decodeMiddle(s,c[1],d[0],f);let g=f.toString(),w=null;l!=null&&(w=l.get(V.ALLOWED_LENGTHS)),w==null&&(w=Ye.DEFAULT_ALLOWED_LENGTHS);let x=g.length,C=!1,O=0;for(let U of w){if(x===U){C=!0;break}U>O&&(O=U)}if(!C&&x>O&&(C=!0),!C)throw new F;const D=[new we(c[1],i),new we(d[0],i)];return new be(g,null,0,D,pe.ITF,new Date().getTime())}static decodeMiddle(i,s,l,c){let d=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(d.fill(0),f.fill(0),g.fill(0);s<l;){Ct.recordPattern(i,s,d);for(let x=0;x<5;x++){let C=2*x;f[x]=d[C],g[x]=d[C+1]}let w=Ye.decodeDigit(f);c.append(w.toString()),w=this.decodeDigit(g),c.append(w.toString()),d.forEach(function(x){s+=x})}}decodeStart(i){let s=Ye.skipWhiteSpace(i),l=Ye.findGuardPattern(i,s,Ye.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,s){let l=this.narrowLineWidth*10;l=l<s?l:s;for(let c=s-1;l>0&&c>=0&&!i.get(c);c--)l--;if(l!==0)throw new H}static skipWhiteSpace(i){const s=i.getSize(),l=i.getNextSet(0);if(l===s)throw new H;return l}decodeEnd(i){i.reverse();try{let s=Ye.skipWhiteSpace(i),l;try{l=Ye.findGuardPattern(i,s,Ye.END_PATTERN_REVERSED[0])}catch(d){d instanceof H&&(l=Ye.findGuardPattern(i,s,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let c=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-c,l}finally{i.reverse()}}static findGuardPattern(i,s,l){let c=l.length,d=new Int32Array(c),f=i.getSize(),g=!1,w=0,x=s;d.fill(0);for(let C=s;C<f;C++)if(i.get(C)!==g)d[w]++;else{if(w===c-1){if(Ct.patternMatchVariance(d,l,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[x,C];x+=d[0]+d[1],S.arraycopy(d,2,d,0,w-1),d[w-1]=0,d[w]=0,w--}else w++;d[w]=1,g=!g}throw new H}static decodeDigit(i){let s=Ye.MAX_AVG_VARIANCE,l=-1,c=Ye.PATTERNS.length;for(let d=0;d<c;d++){let f=Ye.PATTERNS[d],g=Ct.patternMatchVariance(i,f,Ye.MAX_INDIVIDUAL_VARIANCE);g<s?(s=g,l=d):g===s&&(l=-1)}if(l>=0)return l%10;throw new H}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class St extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,l,c=0,d=Int32Array.from([0,0,0]);for(;!s;){d=Int32Array.from([0,0,0]),l=St.findGuardPattern(i,c,!1,this.START_END_PATTERN,d);let f=l[0];c=l[1];let g=f-(c-f);g>=0&&(s=i.isRange(g,f,!1))}return l}static checkChecksum(i){return St.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let l=parseInt(i.charAt(s-1),10);return St.getStandardUPCEANChecksum(i.substring(0,s-1))===l}static getStandardUPCEANChecksum(i){let s=i.length,l=0;for(let c=s-1;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=s-2;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}static decodeEnd(i,s){return St.findGuardPattern(i,s,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,l,c){return this.findGuardPattern(i,s,l,c,new Int32Array(c.length))}static findGuardPattern(i,s,l,c,d){let f=i.getSize();s=l?i.getNextUnset(s):i.getNextSet(s);let g=0,w=s,x=c.length,C=l;for(let O=s;O<f;O++)if(i.get(O)!==C)d[g]++;else{if(g===x-1){if(Ct.patternMatchVariance(d,c,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return Int32Array.from([w,O]);w+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let B=0;B<g-1;B++)d[B]=D[B];d[g-1]=0,d[g]=0,g--}else g++;d[g]=1,C=!C}throw new H}static decodeDigit(i,s,l,c){this.recordPattern(i,l,s);let d=this.MAX_AVG_VARIANCE,f=-1,g=c.length;for(let w=0;w<g;w++){let x=c[w],C=Ct.patternMatchVariance(s,x,St.MAX_INDIVIDUAL_VARIANCE);C<d&&(d=C,f=w)}if(f>=0)return f;throw new H}}St.MAX_AVG_VARIANCE=.48,St.MAX_INDIVIDUAL_VARIANCE=.7,St.START_END_PATTERN=Int32Array.from([1,1,1]),St.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),St.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,c),f=c.toString(),g=bs.parseExtensionString(f),w=[new we((l[0]+l[1])/2,i),new we(d,i)],x=new be(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&x.putAllMetadata(g),x}decodeMiddle(i,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=s[1],g=0;for(let x=0;x<5&&f<d;x++){let C=St.decodeDigit(i,c,f,St.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let O of c)f+=O;C>=10&&(g|=1<<4-x),x!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==5)throw new H;let w=this.determineCheckDigit(g);if(bs.extensionChecksum(l.toString())!==w)throw new H;return f}static extensionChecksum(i){let s=i.length,l=0;for(let c=s-2;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;l*=3;for(let c=s-1;c>=0;c-=2)l+=i.charAt(c).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new H}static parseExtensionString(i){if(i.length!==5)return null;let s=bs.parseExtension5String(i);return s==null?null:new Map([[Pe.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let l=parseInt(i.substring(1)),c=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return s+c+"."+f}}class ho{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,l){let c=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,c),f=c.toString(),g=ho.parseExtensionString(f),w=[new we((l[0]+l[1])/2,i),new we(d,i)],x=new be(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&x.putAllMetadata(g),x}decodeMiddle(i,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=s[1],g=0;for(let w=0;w<2&&f<d;w++){let x=St.decodeDigit(i,c,f,St.L_AND_G_PATTERNS);l+=String.fromCharCode(48+x%10);for(let C of c)f+=C;x>=10&&(g|=1<<1-w),w!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==2)throw new H;if(parseInt(l.toString())%4!==g)throw new H;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[Pe.ISSUE_NUMBER,parseInt(i)]])}}class Ma{static decodeRow(i,s,l){let c=St.findGuardPattern(s,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new bs().decodeRow(i,s,c)}catch{return new ho().decodeRow(i,s,c)}}}Ma.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ze extends St{constructor(){super(),this.decodeRowStringBuffer="",Ze.L_AND_G_PATTERNS=Ze.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=Ze.L_PATTERNS[i-10],l=new Int32Array(s.length);for(let c=0;c<s.length;c++)l[c]=s[s.length-c-1];Ze.L_AND_G_PATTERNS[i]=l}}decodeRow(i,s,l){let c=Ze.findStartGuardPattern(s),d=l==null?null:l.get(V.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ne=new we((c[0]+c[1])/2,i);d.foundPossibleResultPoint(ne)}let f=this.decodeMiddle(s,c,this.decodeRowStringBuffer),g=f.rowOffset,w=f.resultString;if(d!=null){const ne=new we(g,i);d.foundPossibleResultPoint(ne)}let x=this.decodeEnd(s,g);if(d!=null){const ne=new we((x[0]+x[1])/2,i);d.foundPossibleResultPoint(ne)}let C=x[1],O=C+(C-x[0]);if(O>=s.getSize()||!s.isRange(C,O,!1))throw new H;let D=w.toString();if(D.length<8)throw new F;if(!Ze.checkChecksum(D))throw new E;let B=(c[1]+c[0])/2,U=(x[1]+x[0])/2,W=this.getBarcodeFormat(),G=[new we(B,i),new we(U,i)],q=new be(D,null,0,G,W,new Date().getTime()),oe=0;try{let ne=Ma.decodeRow(i,s,x[1]);q.putMetadata(Pe.UPC_EAN_EXTENSION,ne.getText()),q.putAllMetadata(ne.getResultMetadata()),q.addResultPoints(ne.getResultPoints()),oe=ne.getText().length}catch{}let ae=l==null?null:l.get(V.ALLOWED_EAN_EXTENSIONS);if(ae!=null){let ne=!1;for(let Ke in ae)if(oe.toString()===Ke){ne=!0;break}if(!ne)throw new H}return q}decodeEnd(i,s){return Ze.findGuardPattern(i,s,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ze.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let l=parseInt(i.charAt(s-1),10);return Ze.getStandardUPCEANChecksum(i.substring(0,s-1))===l}static getStandardUPCEANChecksum(i){let s=i.length,l=0;for(let c=s-1;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}l*=3;for(let c=s-2;c>=0;c-=2){let d=i.charAt(c).charCodeAt(0)-48;if(d<0||d>9)throw new F;l+=d}return(1e3-l)%10}}class wr extends Ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,l){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=s[1],g=0;for(let x=0;x<6&&f<d;x++){let C=Ze.decodeDigit(i,c,f,Ze.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let O of c)f+=O;C>=10&&(g|=1<<5-x)}l=wr.determineFirstDigit(l,g),f=Ze.findGuardPattern(i,f,!0,Ze.MIDDLE_PATTERN,new Int32Array(Ze.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<d;x++){let C=Ze.decodeDigit(i,c,f,Ze.L_PATTERNS);l+=String.fromCharCode(48+C);for(let O of c)f+=O}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(i,s){for(let l=0;l<10;l++)if(s===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new H}}wr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class xr extends Ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,l){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=s[1];for(let w=0;w<4&&f<d;w++){let x=Ze.decodeDigit(i,c,f,Ze.L_PATTERNS);l+=String.fromCharCode(48+x);for(let C of c)f+=C}f=Ze.findGuardPattern(i,f,!0,Ze.MIDDLE_PATTERN,new Int32Array(Ze.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<d;w++){let x=Ze.decodeDigit(i,c,f,Ze.L_PATTERNS);l+=String.fromCharCode(48+x);for(let C of c)f+=C}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return pe.EAN_8}}class ac extends Ze{constructor(){super(...arguments),this.ean13Reader=new wr}getBarcodeFormat(){return pe.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,l))}decodeMiddle(i,s,l){return this.ean13Reader.decodeMiddle(i,s,l)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let l=new be(s.substring(1),null,null,i.getResultPoints(),pe.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new H}reset(){this.ean13Reader.reset()}}class Ae extends Ze{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,l){const c=this.decodeMiddleCounters.map(x=>x);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const d=i.getSize();let f=s[1],g=0;for(let x=0;x<6&&f<d;x++){const C=Ae.decodeDigit(i,c,f,Ae.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let O of c)f+=O;C>=10&&(g|=1<<5-x)}let w=Ae.determineNumSysAndCheckDigit(l,g);return{rowOffset:f,resultString:w}}decodeEnd(i,s){return Ae.findGuardPatternWithoutCounters(i,s,!0,Ae.MIDDLE_END_PATTERN)}checkChecksum(i){return Ze.checkChecksum(Ae.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let l=0;l<=1;l++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][c]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+c);return d+i+f}throw H.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new fe;l.append(i.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(c),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(c);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}Ae.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tt extends Ct{constructor(i){super();let s=i==null?null:i.get(V.POSSIBLE_FORMATS),l=[];r(s)?(l.push(new wr),l.push(new ac),l.push(new xr),l.push(new Ae)):(s.indexOf(pe.EAN_13)>-1&&l.push(new wr),s.indexOf(pe.UPC_A)>-1&&l.push(new ac),s.indexOf(pe.EAN_8)>-1&&l.push(new xr),s.indexOf(pe.UPC_E)>-1&&l.push(new Ae)),this.readers=l}decodeRow(i,s,l){for(let c of this.readers)try{const d=c.decodeRow(i,s,l),f=d.getBarcodeFormat()===pe.EAN_13&&d.getText().charAt(0)==="0",g=l==null?null:l.get(V.POSSIBLE_FORMATS),w=g==null||g.includes(pe.UPC_A);if(f&&w){const x=d.getRawBytes(),C=new be(d.getText().substring(1),x,x?x.length:null,d.getResultPoints(),pe.UPC_A);return C.putAllMetadata(d.getResultMetadata()),C}return d}catch{}throw new H}reset(){for(let i of this.readers)i.reset()}}class Fe extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let l=0;l<s.length;l++)if(Ct.patternMatchVariance(i,s[l],Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return l;throw new H}static count(i){return Ue.sum(new Int32Array(i))}static increment(i,s){let l=0,c=s[0];for(let d=1;d<i.length;d++)s[d]>c&&(c=s[d],l=d);i[l]++}static decrement(i,s){let l=0,c=s[0];for(let d=1;d<i.length;d++)s[d]<c&&(c=s[d],l=d);i[l]--}static isFinderPattern(i){let s=i[0]+i[1],l=s+i[2]+i[3],c=s/l;if(c>=Fe.MIN_FINDER_PATTERN_RATIO&&c<=Fe.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of i)g>f&&(f=g),g<d&&(d=g);return f<10*d}return!1}}Fe.MAX_AVG_VARIANCE=.2,Fe.MAX_INDIVIDUAL_VARIANCE=.45,Fe.MIN_FINDER_PATTERN_RATIO=9.5/12,Fe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Jt{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Jt))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hn{constructor(i,s,l,c,d){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new we(l,d)),this.resultPoints.push(new we(c,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof hn))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class zt{constructor(){}static getRSSvalue(i,s,l){let c=0;for(let w of i)c+=w;let d=0,f=0,g=i.length;for(let w=0;w<g-1;w++){let x;for(x=1,f|=1<<w;x<i[w];x++,f&=~(1<<w)){let C=zt.combins(c-x-1,g-w-2);if(l&&f===0&&c-x-(g-w-1)>=g-w-1&&(C-=zt.combins(c-x-(g-w),g-w-2)),g-w-1>1){let O=0;for(let D=c-x-(g-w-2);D>s;D--)O+=zt.combins(c-x-D-1,g-w-3);C-=O*(g-1-w)}else c-x>s&&C--;d+=C}c-=x}return d}static combins(i,s){let l,c;i-s>s?(c=s,l=i-s):(c=i-s,l=s);let d=1,f=1;for(let g=i;g>l;g--)d*=g,f<=c&&(d/=f,f++);for(;f<=c;)d/=f,f++;return d}}class si{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let l=12*s,c=new M(l),d=0,g=i[0].getRightChar().getValue();for(let w=11;w>=0;--w)g&1<<w&&c.set(d),d++;for(let w=1;w<i.length;++w){let x=i[w],C=x.getLeftChar().getValue();for(let O=11;O>=0;--O)C&1<<O&&c.set(d),d++;if(x.getRightChar()!=null){let O=x.getRightChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&c.set(d),d++}}return c}}class Ht{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class nr{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class On extends nr{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===On.FNC1}}On.FNC1="$";class Cs extends nr{constructor(i,s,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class rr extends nr{constructor(i,s,l){if(super(i),s<0||s>10||l<0||l>10)throw new F;this.firstDigit=s,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===rr.FNC1}isSecondDigitFNC1(){return this.secondDigit===rr.FNC1}isAnyFNC1(){return this.firstDigit===rr.FNC1||this.secondDigit===rr.FNC1}}rr.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new H;let s=i.substring(0,2);for(let d of xe.TWO_DIGIT_DATA_LENGTH)if(d[0]===s)return d[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,d[2],i):xe.processFixedAI(2,d[1],i);if(i.length<3)throw new H;let l=i.substring(0,3);for(let d of xe.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,d[2],i):xe.processFixedAI(3,d[1],i);for(let d of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,d[2],i):xe.processFixedAI(4,d[1],i);if(i.length<4)throw new H;let c=i.substring(0,4);for(let d of xe.FOUR_DIGIT_DATA_LENGTH)if(d[0]===c)return d[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,d[2],i):xe.processFixedAI(4,d[1],i);throw new H}static processFixedAI(i,s,l){if(l.length<i)throw new H;let c=l.substring(0,i);if(l.length<i+s)throw new H;let d=l.substring(i,i+s),f=l.substring(i+s),g="("+c+")"+d,w=xe.parseFieldsInGeneralPurpose(f);return w==null?g:g+w}static processVariableAI(i,s,l){let c=l.substring(0,i),d;l.length<i+s?d=l.length:d=i+s;let f=l.substring(i,d),g=l.substring(d),w="("+c+")"+f,x=xe.parseFieldsInGeneralPurpose(g);return x==null?w:w+x}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class go{constructor(i){this.buffer=new fe,this.information=i}decodeAllCodes(i,s){let l=s,c=null;do{let d=this.decodeGeneralPurposeField(l,c),f=xe.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&i.append(f),d.isRemaining()?c=""+d.getRemainingValue():c=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new rr(this.information.getSize(),rr.FNC1,rr.FNC1):new rr(this.information.getSize(),d-1,rr.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),l=(s-8)/11,c=(s-8)%11;return new rr(i+7,l,c)}extractNumericValueFromBitArray(i,s){return go.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,l){let c=0;for(let d=0;d<l;++d)i.get(s+d)&&(c|=1<<l-d-1);return c}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Cs(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Cs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let l=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new Cs(this.current.getPosition(),this.buffer.toString()):s=new Cs(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Ht(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new Cs(this.current.getPosition(),this.buffer.toString());return new Ht(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ht(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Cs(this.current.getPosition(),this.buffer.toString());return new Ht(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ht(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new Cs(this.current.getPosition(),this.buffer.toString());return new Ht(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ht(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,8);return c>=232&&c<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new On(i+5,On.FNC1);if(s>=5&&s<15)return new On(i+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new On(i+7,""+(l+1));if(l>=90&&l<116)return new On(i+7,""+(l+7));let c=this.extractNumericValueFromBitArray(i,8),d;switch(c){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new F}return new On(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new On(i+5,On.FNC1);if(s>=5&&s<15)return new On(i+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new On(i+6,""+(l+33));let c;switch(l){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new Qt("Decoding invalid alphanumeric value: "+l)}return new On(i+6,c)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class jd{constructor(i){this.information=i,this.generalDecoder=new go(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kn extends jd{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,l)}encodeCompressedGtinWithoutAI(i,s,l){for(let c=0;c<4;++c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}kn.appendCheckDigit(i,l)}static appendCheckDigit(i,s){let l=0;for(let c=0;c<13;c++){let d=i.charAt(c+s).charCodeAt(0)-48;l+=c&1?d:3*d}l=10-l%10,l===10&&(l=0),i.append(l)}}kn.GTIN_SIZE=40;class po extends kn{constructor(i){super(i)}parseInformation(){let i=new fe;i.append("(01)");let s=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(po.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,po.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,po.HEADER_SIZE+44)}}po.HEADER_SIZE=4;class lc extends jd{constructor(i){super(i)}parseInformation(){let i=new fe;return this.getGeneralDecoder().decodeAllCodes(i,lc.HEADER_SIZE)}}lc.HEADER_SIZE=5;class cc extends kn{constructor(i){super(i)}encodeCompressedWeight(i,s,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(i,c);let d=this.checkWeight(c),f=1e5;for(let g=0;g<5;++g)d/f===0&&i.append("0"),f/=10;i.append(d)}}class Vr extends cc{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Vr.HEADER_SIZE+cc.GTIN_SIZE+Vr.WEIGHT_SIZE)throw new H;let i=new fe;return this.encodeCompressedGtin(i,Vr.HEADER_SIZE),this.encodeCompressedWeight(i,Vr.HEADER_SIZE+cc.GTIN_SIZE,Vr.WEIGHT_SIZE),i.toString()}}Vr.HEADER_SIZE=5,Vr.WEIGHT_SIZE=15;class _C extends Vr{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class TC extends Vr{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Wr extends kn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Wr.HEADER_SIZE+kn.GTIN_SIZE)throw new H;let i=new fe;this.encodeCompressedGtin(i,Wr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Wr.HEADER_SIZE+kn.GTIN_SIZE,Wr.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Wr.HEADER_SIZE+kn.GTIN_SIZE+Wr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Wr.HEADER_SIZE=8,Wr.LAST_DIGIT_SIZE=2;class En extends kn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+kn.GTIN_SIZE)throw new H;let i=new fe;this.encodeCompressedGtin(i,En.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+kn.GTIN_SIZE,En.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+kn.GTIN_SIZE+En.LAST_DIGIT_SIZE,En.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let c=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+kn.GTIN_SIZE+En.LAST_DIGIT_SIZE+En.FIRST_THREE_DIGITS_SIZE,null);return i.append(c.getNewString()),i.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2,En.FIRST_THREE_DIGITS_SIZE=10;class At extends cc{constructor(i,s,l){super(i),this.dateCode=l,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE+At.DATE_SIZE)throw new H;let i=new fe;return this.encodeCompressedGtin(i,At.HEADER_SIZE),this.encodeCompressedWeight(i,At.HEADER_SIZE+At.GTIN_SIZE,At.WEIGHT_SIZE),this.encodeCompressedDate(i,At.HEADER_SIZE+At.GTIN_SIZE+At.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,At.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let c=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d),c/10==0&&i.append("0"),i.append(c)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}At.HEADER_SIZE=8,At.WEIGHT_SIZE=20,At.DATE_SIZE=16;function yg(R){try{if(R.get(1))return new po(R);if(!R.get(2))return new lc(R);switch(go.extractNumericValueFromBitArray(R,1,4)){case 4:return new _C(R);case 5:return new TC(R)}switch(go.extractNumericValueFromBitArray(R,1,5)){case 12:return new Wr(R);case 13:return new En(R)}switch(go.extractNumericValueFromBitArray(R,1,7)){case 56:return new At(R,"310","11");case 57:return new At(R,"320","11");case 58:return new At(R,"310","13");case 59:return new At(R,"320","13");case 60:return new At(R,"310","15");case 61:return new At(R,"320","15");case 62:return new At(R,"310","17");case 63:return new At(R,"320","17")}}catch(i){throw console.log(i),new Qt("unknown decoder: "+R)}}class Ci{constructor(i,s,l,c){this.leftchar=i,this.rightchar=s,this.finderpattern=l,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof Ci?Ci.equalsOrNull(i.leftchar,s.leftchar)&&Ci.equalsOrNull(i.rightchar,s.rightchar)&&Ci.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:Ci.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ud{constructor(i,s,l){this.pairs=i,this.rowNumber=s,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof Ud?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let l;return i.forEach((c,d)=>{s.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class ee extends Fe{constructor(i){super(...arguments),this.pairs=new Array(ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,l){this.pairs.length=0,this.startFromEven=!1;try{return ee.constructResult(this.decodeRow2pairs(i,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,ee.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(d){if(d instanceof H){if(!this.pairs.length)throw new H;l=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(i,!1),c){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new H}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let l=s;l<this.rows.length;l++){let c=this.rows[l];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(c);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new H}static isValidSequence(i){for(let s of ee.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let l=!0;for(let c=0;c<i.length;c++)if(i[c].getFinderPattern().getValue()!=s[c]){l=!1;break}if(l)return!0}return!1}storeRow(i,s){let l=0,c=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>i){d=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),l++}d||c||ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Ud(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let l of s)if(l.getPairs().length!==i.length){for(let c of l.getPairs())for(let d of i)if(Ci.equals(c,d))break}}static isPartialRow(i,s){for(let l of s){let c=!0;for(let d of i){let f=!1;for(let g of l.getPairs())if(d.equals(g)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=si.buildBitArray(i),c=yg(s).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),g=[d[0],d[1],f[0],f[1]];return new be(c,null,null,g,pe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let c=l.getChecksumPortion(),d=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);c+=w.getLeftChar().getChecksumPortion(),d++;let x=w.getRightChar();x!=null&&(c+=x.getChecksumPortion(),d++)}return c%=211,211*(d-4)+c==s.getValue()}static getNextSecondBar(i,s){let l;return i.get(s)?(l=i.getNextUnset(s),l=i.getNextSet(l)):(l=i.getNextSet(s),l=i.getNextUnset(l)),l}retrieveNextPair(i,s,l){let c=s.length%2==0;this.startFromEven&&(c=!c);let d,f=!0,g=-1;do this.findNextPair(i,s,g),d=this.parseFoundFinderPattern(i,l,c),d==null?g=ee.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(i,d,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new H;let x;try{x=this.decodeDataCharacter(i,d,c,!1)}catch(C){x=null,this.verbose&&console.log(C)}return new Ci(w,x,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f;l>=0?f=l:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let g=s.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;f<d&&(w=!i.get(f),!!w);)f++;let x=0,C=f;for(let O=f;O<d;O++)if(i.get(O)!=w)c[x]++;else{if(x==3){if(g&&ee.reverseCounters(c),ee.isFinderPattern(c)){this.startEnd[0]=C,this.startEnd[1]=O;return}g&&ee.reverseCounters(c),C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,x--}else x++;c[x]=1,w=!w}throw new H}static reverseCounters(i){let s=i.length;for(let l=0;l<s/2;++l){let c=i[l];i[l]=i[s-l-1],i[s-l-1]=c}}parseFoundFinderPattern(i,s,l){let c,d,f;if(l){let x=this.startEnd[0]-1;for(;x>=0&&!i.get(x);)x--;x++,c=this.startEnd[0]-x,d=x,f=this.startEnd[1]}else d=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let g=this.getDecodeFinderCounters();S.arraycopy(g,0,g,1,g.length-1),g[0]=c;let w;try{w=this.parseFinderValue(g,ee.FINDER_PATTERNS)}catch{return null}return new hn(w,[d,f],d,f,s)}decodeDataCharacter(i,s,l,c){let d=this.getDataCharacterCounters();for(let ut=0;ut<d.length;ut++)d[ut]=0;if(c)ee.recordPatternInReverse(i,s.getStartEnd()[0],d);else{ee.recordPattern(i,s.getStartEnd()[1],d);for(let ut=0,ln=d.length-1;ut<ln;ut++,ln--){let Hn=d[ut];d[ut]=d[ln],d[ln]=Hn}}let f=17,g=Ue.sum(new Int32Array(d))/f,w=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new H;let x=this.getOddCounts(),C=this.getEvenCounts(),O=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ut=0;ut<d.length;ut++){let ln=1*d[ut]/g,Hn=ln+.5;if(Hn<1){if(ln<.3)throw new H;Hn=1}else if(Hn>8){if(ln>8.7)throw new H;Hn=8}let vo=ut/2;ut&1?(C[vo]=Hn,D[vo]=ln-Hn):(x[vo]=Hn,O[vo]=ln-Hn)}this.adjustOddEvenCounts(f);let B=4*s.getValue()+(l?0:2)+(c?0:1)-1,U=0,W=0;for(let ut=x.length-1;ut>=0;ut--){if(ee.isNotA1left(s,l,c)){let ln=ee.WEIGHTS[B][2*ut];W+=x[ut]*ln}U+=x[ut]}let G=0;for(let ut=C.length-1;ut>=0;ut--)if(ee.isNotA1left(s,l,c)){let ln=ee.WEIGHTS[B][2*ut+1];G+=C[ut]*ln}let q=W+G;if(U&1||U>13||U<4)throw new H;let oe=(13-U)/2,ae=ee.SYMBOL_WIDEST[oe],ne=9-ae,Ke=zt.getRSSvalue(x,ae,!0),Be=zt.getRSSvalue(C,ne,!1),Dn=ee.EVEN_TOTAL_SUBSET[oe],yr=ee.GSUM[oe],Mn=Ke*Dn+Be+yr;return new Jt(Mn,q)}static isNotA1left(i,s,l){return!(i.getValue()==0&&s&&l)}adjustOddEvenCounts(i){let s=Ue.sum(new Int32Array(this.getOddCounts())),l=Ue.sum(new Int32Array(this.getEvenCounts())),c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let f=!1,g=!1;l>13?g=!0:l<4&&(f=!0);let w=s+l-i,x=(s&1)==1,C=(l&1)==0;if(w==1)if(x){if(C)throw new H;d=!0}else{if(!C)throw new H;g=!0}else if(w==-1)if(x){if(C)throw new H;c=!0}else{if(!C)throw new H;f=!0}else if(w==0){if(x){if(!C)throw new H;s<l?(c=!0,g=!0):(d=!0,f=!0)}else if(C)throw new H}else throw new H;if(c){if(d)throw new H;ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new H;ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ee.SYMBOL_WIDEST=[7,5,4,3,1],ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ee.GSUM=[0,348,1388,2948,3988],ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ee.FINDER_PAT_A=0,ee.FINDER_PAT_B=1,ee.FINDER_PAT_C=2,ee.FINDER_PAT_D=3,ee.FINDER_PAT_E=4,ee.FINDER_PAT_F=5,ee.FINDER_PATTERN_SEQUENCES=[[ee.FINDER_PAT_A,ee.FINDER_PAT_A],[ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B],[ee.FINDER_PAT_A,ee.FINDER_PAT_C,ee.FINDER_PAT_B,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_C],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_E,ee.FINDER_PAT_B,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F],[ee.FINDER_PAT_A,ee.FINDER_PAT_A,ee.FINDER_PAT_B,ee.FINDER_PAT_B,ee.FINDER_PAT_C,ee.FINDER_PAT_D,ee.FINDER_PAT_D,ee.FINDER_PAT_E,ee.FINDER_PAT_E,ee.FINDER_PAT_F,ee.FINDER_PAT_F]],ee.MAX_PAIRS=11;class IC extends Jt{constructor(i,s,l){super(i,s),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pt extends Fe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,l){const c=this.decodePair(s,!1,i,l);Pt.addOrTally(this.possibleLeftPairs,c),s.reverse();let d=this.decodePair(s,!0,i,l);Pt.addOrTally(this.possibleRightPairs,d),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Pt.checkChecksum(f,g))return Pt.constructResult(f,g)}throw new H}static addOrTally(i,s){if(s==null)return;let l=!1;for(let c of i)if(c.getValue()===s.getValue()){c.incrementCount(),l=!0;break}l||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let l=4537077*i.getValue()+s.getValue(),c=new String(l).toString(),d=new fe;for(let x=13-c.length;x>0;x--)d.append("0");d.append(c);let f=0;for(let x=0;x<13;x++){let C=d.charAt(x).charCodeAt(0)-48;f+=x&1?C:3*C}f=10-f%10,f===10&&(f=0),d.append(f.toString());let g=i.getFinderPattern().getResultPoints(),w=s.getFinderPattern().getResultPoints();return new be(d.toString(),null,0,[g[0],g[1],w[0],w[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(i,s){let l=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,l===c}decodePair(i,s,l,c){try{let d=this.findFinderPattern(i,s),f=this.parseFoundFinderPattern(i,l,s,d),g=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);if(g!=null){let C=(d[0]+d[1])/2;s&&(C=i.getSize()-1-C),g.foundPossibleResultPoint(new we(C,l))}let w=this.decodeDataCharacter(i,f,!0),x=this.decodeDataCharacter(i,f,!1);return new IC(1597*w.getValue()+x.getValue(),w.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,s,l){let c=this.getDataCharacterCounters();for(let G=0;G<c.length;G++)c[G]=0;if(l)Ct.recordPatternInReverse(i,s.getStartEnd()[0],c);else{Ct.recordPattern(i,s.getStartEnd()[1]+1,c);for(let G=0,q=c.length-1;G<q;G++,q--){let oe=c[G];c[G]=c[q],c[q]=oe}}let d=l?16:15,f=Ue.sum(new Int32Array(c))/d,g=this.getOddCounts(),w=this.getEvenCounts(),x=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let G=0;G<c.length;G++){let q=c[G]/f,oe=Math.floor(q+.5);oe<1?oe=1:oe>8&&(oe=8);let ae=Math.floor(G/2);G&1?(w[ae]=oe,C[ae]=q-oe):(g[ae]=oe,x[ae]=q-oe)}this.adjustOddEvenCounts(l,d);let O=0,D=0;for(let G=g.length-1;G>=0;G--)D*=9,D+=g[G],O+=g[G];let B=0,U=0;for(let G=w.length-1;G>=0;G--)B*=9,B+=w[G],U+=w[G];let W=D+3*B;if(l){if(O&1||O>12||O<4)throw new H;let G=(12-O)/2,q=Pt.OUTSIDE_ODD_WIDEST[G],oe=9-q,ae=zt.getRSSvalue(g,q,!1),ne=zt.getRSSvalue(w,oe,!0),Ke=Pt.OUTSIDE_EVEN_TOTAL_SUBSET[G],Be=Pt.OUTSIDE_GSUM[G];return new Jt(ae*Ke+ne+Be,W)}else{if(U&1||U>10||U<4)throw new H;let G=(10-U)/2,q=Pt.INSIDE_ODD_WIDEST[G],oe=9-q,ae=zt.getRSSvalue(g,q,!0),ne=zt.getRSSvalue(w,oe,!1),Ke=Pt.INSIDE_ODD_TOTAL_SUBSET[G],Be=Pt.INSIDE_GSUM[G];return new Jt(ne*Ke+ae+Be,W)}}findFinderPattern(i,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=i.getSize(),d=!1,f=0;for(;f<c&&(d=!i.get(f),s!==d);)f++;let g=0,w=f;for(let x=f;x<c;x++)if(i.get(x)!==d)l[g]++;else{if(g===3){if(Fe.isFinderPattern(l))return[w,x];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new H}parseFoundFinderPattern(i,s,l,c){let d=i.get(c[0]),f=c[0]-1;for(;f>=0&&d!==i.get(f);)f--;f++;const g=c[0]-f,w=this.getDecodeFinderCounters(),x=new Int32Array(w.length);S.arraycopy(w,0,x,1,w.length-1),x[0]=g;const C=this.parseFinderValue(x,Pt.FINDER_PATTERNS);let O=f,D=c[1];return l&&(O=i.getSize()-1-O,D=i.getSize()-1-D),new hn(C,[f,c[1]],O,D,s)}adjustOddEvenCounts(i,s){let l=Ue.sum(new Int32Array(this.getOddCounts())),c=Ue.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,g=!1,w=!1;i?(l>12?f=!0:l<4&&(d=!0),c>12?w=!0:c<4&&(g=!0)):(l>11?f=!0:l<5&&(d=!0),c>10?w=!0:c<4&&(g=!0));let x=l+c-s,C=(l&1)===(i?1:0),O=(c&1)===1;if(x===1)if(C){if(O)throw new H;f=!0}else{if(!O)throw new H;w=!0}else if(x===-1)if(C){if(O)throw new H;d=!0}else{if(!O)throw new H;g=!0}else if(x===0){if(C){if(!O)throw new H;l<c?(d=!0,w=!0):(f=!0,g=!0)}else if(O)throw new H}else throw new H;if(d){if(f)throw new H;Fe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Fe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new H;Fe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Fe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pt.OUTSIDE_GSUM=[0,161,961,2015,2715],Pt.INSIDE_GSUM=[0,336,1036,1516],Pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pt.INSIDE_ODD_WIDEST=[2,4,6,8],Pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class mo extends Ct{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const l=i?i.get(V.POSSIBLE_FORMATS):null,c=i&&i.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(pe.EAN_13)||l.includes(pe.UPC_A)||l.includes(pe.EAN_8)||l.includes(pe.UPC_E))&&this.readers.push(new tt(i)),l.includes(pe.CODE_39)&&this.readers.push(new kt(c)),l.includes(pe.CODE_128)&&this.readers.push(new ce),l.includes(pe.ITF)&&this.readers.push(new Ye),l.includes(pe.RSS_14)&&this.readers.push(new Pt),l.includes(pe.RSS_EXPANDED)&&this.readers.push(new ee(this.verbose))):(this.readers.push(new tt(i)),this.readers.push(new kt),this.readers.push(new tt(i)),this.readers.push(new ce),this.readers.push(new Ye),this.readers.push(new Pt),this.readers.push(new ee(this.verbose)))}decodeRow(i,s,l){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(i,s,l)}catch{}throw new H}reset(){this.readers.forEach(i=>i.reset())}}class RC extends Ne{constructor(i=500,s){super(new mo(s),i,s)}}class it{constructor(i,s,l){this.ecCodewords=i,this.ecBlocks=[s],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class rt{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(i,s,l,c,d,f){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=l,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=d,this.ecBlocks=f;let g=0;const w=f.getECCodewords(),x=f.getECBlocks();for(let C of x)g+=C.getCount()*(C.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if(i&1||s&1)throw new F;for(let l of qe.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===s)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new qe(1,10,10,8,8,new it(5,new rt(1,3))),new qe(2,12,12,10,10,new it(7,new rt(1,5))),new qe(3,14,14,12,12,new it(10,new rt(1,8))),new qe(4,16,16,14,14,new it(12,new rt(1,12))),new qe(5,18,18,16,16,new it(14,new rt(1,18))),new qe(6,20,20,18,18,new it(18,new rt(1,22))),new qe(7,22,22,20,20,new it(20,new rt(1,30))),new qe(8,24,24,22,22,new it(24,new rt(1,36))),new qe(9,26,26,24,24,new it(28,new rt(1,44))),new qe(10,32,32,14,14,new it(36,new rt(1,62))),new qe(11,36,36,16,16,new it(42,new rt(1,86))),new qe(12,40,40,18,18,new it(48,new rt(1,114))),new qe(13,44,44,20,20,new it(56,new rt(1,144))),new qe(14,48,48,22,22,new it(68,new rt(1,174))),new qe(15,52,52,24,24,new it(42,new rt(2,102))),new qe(16,64,64,14,14,new it(56,new rt(2,140))),new qe(17,72,72,16,16,new it(36,new rt(4,92))),new qe(18,80,80,18,18,new it(48,new rt(4,114))),new qe(19,88,88,20,20,new it(56,new rt(4,144))),new qe(20,96,96,22,22,new it(68,new rt(4,174))),new qe(21,104,104,24,24,new it(56,new rt(6,136))),new qe(22,120,120,18,18,new it(68,new rt(6,175))),new qe(23,132,132,20,20,new it(62,new rt(8,163))),new qe(24,144,144,22,22,new it(62,new rt(8,156),new rt(2,155))),new qe(25,8,18,6,16,new it(7,new rt(1,5))),new qe(26,8,32,6,14,new it(11,new rt(1,10))),new qe(27,12,26,10,24,new it(14,new rt(1,16))),new qe(28,12,36,10,16,new it(18,new rt(1,22))),new qe(29,16,36,14,16,new it(24,new rt(1,32))),new qe(30,16,48,14,22,new it(28,new rt(1,49)))]}}qe.VERSIONS=qe.buildVersions();class Vd{constructor(i){const s=i.getHeight();if(s<8||s>144||s&1)throw new F;this.version=Vd.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),l=i.getWidth();return qe.getVersionForDimensions(s,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,l=4,c=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,w=!1,x=!1,C=!1;do if(l===d&&c===0&&!g)i[s++]=this.readCorner1(d,f)&255,l-=2,c+=2,g=!0;else if(l===d-2&&c===0&&f&3&&!w)i[s++]=this.readCorner2(d,f)&255,l-=2,c+=2,w=!0;else if(l===d+4&&c===2&&!(f&7)&&!x)i[s++]=this.readCorner3(d,f)&255,l-=2,c+=2,x=!0;else if(l===d-2&&c===0&&(f&7)===4&&!C)i[s++]=this.readCorner4(d,f)&255,l-=2,c+=2,C=!0;else{do l<d&&c>=0&&!this.readMappingMatrix.get(c,l)&&(i[s++]=this.readUtah(l,c,d,f)&255),l-=2,c+=2;while(l>=0&&c<f);l+=1,c+=3;do l>=0&&c<f&&!this.readMappingMatrix.get(c,l)&&(i[s++]=this.readUtah(l,c,d,f)&255),l+=2,c-=2;while(l<d&&c>=0);l+=3,c+=1}while(l<d||c<f);if(s!==this.version.getTotalCodewords())throw new F;return i}readModule(i,s,l,c){return i<0&&(i+=l,s+=4-(l+4&7)),s<0&&(s+=c,i+=4-(c+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,l,c){let d=0;return this.readModule(i-2,s-2,l,c)&&(d|=1),d<<=1,this.readModule(i-2,s-1,l,c)&&(d|=1),d<<=1,this.readModule(i-1,s-2,l,c)&&(d|=1),d<<=1,this.readModule(i-1,s-1,l,c)&&(d|=1),d<<=1,this.readModule(i-1,s,l,c)&&(d|=1),d<<=1,this.readModule(i,s-2,l,c)&&(d|=1),d<<=1,this.readModule(i,s-1,l,c)&&(d|=1),d<<=1,this.readModule(i,s,l,c)&&(d|=1),d}readCorner1(i,s){let l=0;return this.readModule(i-1,0,i,s)&&(l|=1),l<<=1,this.readModule(i-1,1,i,s)&&(l|=1),l<<=1,this.readModule(i-1,2,i,s)&&(l|=1),l<<=1,this.readModule(0,s-2,i,s)&&(l|=1),l<<=1,this.readModule(0,s-1,i,s)&&(l|=1),l<<=1,this.readModule(1,s-1,i,s)&&(l|=1),l<<=1,this.readModule(2,s-1,i,s)&&(l|=1),l<<=1,this.readModule(3,s-1,i,s)&&(l|=1),l}readCorner2(i,s){let l=0;return this.readModule(i-3,0,i,s)&&(l|=1),l<<=1,this.readModule(i-2,0,i,s)&&(l|=1),l<<=1,this.readModule(i-1,0,i,s)&&(l|=1),l<<=1,this.readModule(0,s-4,i,s)&&(l|=1),l<<=1,this.readModule(0,s-3,i,s)&&(l|=1),l<<=1,this.readModule(0,s-2,i,s)&&(l|=1),l<<=1,this.readModule(0,s-1,i,s)&&(l|=1),l<<=1,this.readModule(1,s-1,i,s)&&(l|=1),l}readCorner3(i,s){let l=0;return this.readModule(i-1,0,i,s)&&(l|=1),l<<=1,this.readModule(i-1,s-1,i,s)&&(l|=1),l<<=1,this.readModule(0,s-3,i,s)&&(l|=1),l<<=1,this.readModule(0,s-2,i,s)&&(l|=1),l<<=1,this.readModule(0,s-1,i,s)&&(l|=1),l<<=1,this.readModule(1,s-3,i,s)&&(l|=1),l<<=1,this.readModule(1,s-2,i,s)&&(l|=1),l<<=1,this.readModule(1,s-1,i,s)&&(l|=1),l}readCorner4(i,s){let l=0;return this.readModule(i-3,0,i,s)&&(l|=1),l<<=1,this.readModule(i-2,0,i,s)&&(l|=1),l<<=1,this.readModule(i-1,0,i,s)&&(l|=1),l<<=1,this.readModule(0,s-2,i,s)&&(l|=1),l<<=1,this.readModule(0,s-1,i,s)&&(l|=1),l<<=1,this.readModule(1,s-1,i,s)&&(l|=1),l<<=1,this.readModule(2,s-1,i,s)&&(l|=1),l<<=1,this.readModule(3,s-1,i,s)&&(l|=1),l}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=s/c|0,g=l/d|0,w=f*c,x=g*d,C=new te(x,w);for(let O=0;O<f;++O){const D=O*c;for(let B=0;B<g;++B){const U=B*d;for(let W=0;W<c;++W){const G=O*(c+2)+1+W,q=D+W;for(let oe=0;oe<d;++oe){const ae=B*(d+2)+1+oe;if(i.get(ae,G)){const ne=U+oe;C.set(ne,q)}}}}}return C}}class Wd{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const l=s.getECBlocks();let c=0;const d=l.getECBlocks();for(let W of d)c+=W.getCount();const f=new Array(c);let g=0;for(let W of d)for(let G=0;G<W.getCount();G++){const q=W.getDataCodewords(),oe=l.getECCodewords()+q;f[g++]=new Wd(q,new Uint8Array(oe))}const x=f[0].codewords.length-l.getECCodewords(),C=x-1;let O=0;for(let W=0;W<C;W++)for(let G=0;G<g;G++)f[G].codewords[W]=i[O++];const D=s.getVersionNumber()===24,B=D?8:g;for(let W=0;W<B;W++)f[W].codewords[x-1]=i[O++];const U=f[0].codewords.length;for(let W=x;W<U;W++)for(let G=0;G<g;G++){const q=D?(G+8)%g:G,oe=D&&q>7?W-1:W;f[q].codewords[oe]=i[O++]}if(O!==i.length)throw new v;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class zd{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new v(""+i);let s=0,l=this.bitOffset,c=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,g=i<f?i:f,w=f-g,x=255>>8-g<<w;s=(d[c]&x)>>w,i-=g,l+=g,l===8&&(l=0,c++)}if(i>0){for(;i>=8;)s=s<<8|d[c]&255,c++,i-=8;if(i>0){const f=8-i,g=255>>f<<f;s=s<<i|(d[c]&g)>>f,l+=i}}return this.bitOffset=l,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var $t;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})($t||($t={}));class Si{static decode(i){const s=new zd(i),l=new fe,c=new fe,d=new Array;let f=$t.ASCII_ENCODE;do if(f===$t.ASCII_ENCODE)f=this.decodeAsciiSegment(s,l,c);else{switch(f){case $t.C40_ENCODE:this.decodeC40Segment(s,l);break;case $t.TEXT_ENCODE:this.decodeTextSegment(s,l);break;case $t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,l);break;case $t.EDIFACT_ENCODE:this.decodeEdifactSegment(s,l);break;case $t.BASE256_ENCODE:this.decodeBase256Segment(s,l,d);break;default:throw new F}f=$t.ASCII_ENCODE}while(f!==$t.PAD_ENCODE&&s.available()>0);return c.length()>0&&l.append(c.toString()),new at(i,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,s,l){let c=!1;do{let d=i.readBits(8);if(d===0)throw new F;if(d<=128)return c&&(d+=128),s.append(String.fromCharCode(d-1)),$t.ASCII_ENCODE;if(d===129)return $t.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&s.append("0"),s.append(""+f)}else switch(d){case 230:return $t.C40_ENCODE;case 231:return $t.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),l.insert(0,"");break;case 237:s.append("[)>06"),l.insert(0,"");break;case 238:return $t.ANSIX12_ENCODE;case 239:return $t.TEXT_ENCODE;case 240:return $t.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return $t.ASCII_ENCODE}static decodeC40Segment(i,s){let l=!1;const c=[];let d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(d){case 0:if(w<3)d=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[w];l?(s.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):s.append(x)}else throw new F;break;case 1:l?(s.append(String.fromCharCode(w+128)),l=!1):s.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[w];l?(s.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):s.append(x)}else switch(w){case 27:s.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:l?(s.append(String.fromCharCode(w+224)),l=!1):s.append(String.fromCharCode(w+96)),d=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,s){let l=!1,c=[],d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),c);for(let g=0;g<3;g++){const w=c[g];switch(d){case 0:if(w<3)d=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[w];l?(s.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):s.append(x)}else throw new F;break;case 1:l?(s.append(String.fromCharCode(w+128)),l=!1):s.append(String.fromCharCode(w)),d=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[w];l?(s.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):s.append(x)}else switch(w){case 27:s.append("");break;case 30:l=!0;break;default:throw new F}d=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[w];l?(s.append(String.fromCharCode(x.charCodeAt(0)+128)),l=!1):s.append(x),d=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const l=[];do{if(i.available()===8)return;const c=i.readBits(8);if(c===254)return;this.parseTwoBytes(c,i.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,s,l){let c=(i<<8)+s-1,d=Math.floor(c/1600);l[0]=d,c-=d*1600,d=Math.floor(c/40),l[1]=d,l[2]=c-d*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let c=i.readBits(6);if(c===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(i.available()>0)}static decodeBase256Segment(i,s,l){let c=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),c++);let f;if(d===0?f=i.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(i.readBits(8),c++),f<0)throw new F;const g=new Uint8Array(f);for(let w=0;w<f;w++){if(i.available()<8)throw new F;g[w]=this.unrandomize255State(i.readBits(8),c++)}l.push(g);try{s.append(ge.decode(g,Z.ISO88591))}catch(w){throw new Qt("Platform does not support required encoding: "+w.message)}}static unrandomize255State(i,s){const l=149*s%255+1,c=i-l;return c>=0?c:c+256}}Si.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Si.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Si.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Si.TEXT_SHIFT2_SET_CHARS=Si.C40_SHIFT2_SET_CHARS,Si.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class NC{constructor(){this.rsDecoder=new Nn(De.DATA_MATRIX_FIELD_256)}decode(i){const s=new Vd(i),l=s.getVersion(),c=s.readCodewords(),d=Wd.getDataBlocks(c,l);let f=0;for(let x of d)f+=x.getNumDataCodewords();const g=new Uint8Array(f),w=d.length;for(let x=0;x<w;x++){const C=d[x],O=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(O,D);for(let B=0;B<D;B++)g[B*w+x]=O[B]}return Si.decode(g)}correctErrors(i,s){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-s)}catch{throw new E}for(let c=0;c<s;c++)i[c]=l[c]}}class Ft{constructor(i){this.image=i,this.rectangleDetector=new mr(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new H;s=this.shiftToModuleCenter(s);const l=s[0],c=s[1],d=s[2],f=s[3];let g=this.transitionsBetween(l,f)+1,w=this.transitionsBetween(d,f)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let x=Ft.sampleGrid(this.image,l,c,d,f,g,w);return new vs(x,[l,c,d,f])}static shiftPoint(i,s,l){let c=(s.getX()-i.getX())/(l+1),d=(s.getY()-i.getY())/(l+1);return new we(i.getX()+c,i.getY()+d)}static moveAway(i,s,l){let c=i.getX(),d=i.getY();return c<s?c-=1:c+=1,d<l?d-=1:d+=1,new we(c,d)}detectSolid1(i){let s=i[0],l=i[1],c=i[3],d=i[2],f=this.transitionsBetween(s,l),g=this.transitionsBetween(l,c),w=this.transitionsBetween(c,d),x=this.transitionsBetween(d,s),C=f,O=[d,s,l,c];return C>g&&(C=g,O[0]=s,O[1]=l,O[2]=c,O[3]=d),C>w&&(C=w,O[0]=l,O[1]=c,O[2]=d,O[3]=s),C>x&&(O[0]=c,O[1]=d,O[2]=s,O[3]=l),O}detectSolid2(i){let s=i[0],l=i[1],c=i[2],d=i[3],f=this.transitionsBetween(s,d),g=Ft.shiftPoint(l,c,(f+1)*4),w=Ft.shiftPoint(c,l,(f+1)*4),x=this.transitionsBetween(g,s),C=this.transitionsBetween(w,d);return x<C?(i[0]=s,i[1]=l,i[2]=c,i[3]=d):(i[0]=l,i[1]=c,i[2]=d,i[3]=s),i}correctTopRight(i){let s=i[0],l=i[1],c=i[2],d=i[3],f=this.transitionsBetween(s,d),g=this.transitionsBetween(l,d),w=Ft.shiftPoint(s,l,(g+1)*4),x=Ft.shiftPoint(c,l,(f+1)*4);f=this.transitionsBetween(w,d),g=this.transitionsBetween(x,d);let C=new we(d.getX()+(c.getX()-l.getX())/(f+1),d.getY()+(c.getY()-l.getY())/(f+1)),O=new we(d.getX()+(s.getX()-l.getX())/(g+1),d.getY()+(s.getY()-l.getY())/(g+1));if(!this.isValid(C))return this.isValid(O)?O:null;if(!this.isValid(O))return C;let D=this.transitionsBetween(w,C)+this.transitionsBetween(x,C),B=this.transitionsBetween(w,O)+this.transitionsBetween(x,O);return D>B?C:O}shiftToModuleCenter(i){let s=i[0],l=i[1],c=i[2],d=i[3],f=this.transitionsBetween(s,d)+1,g=this.transitionsBetween(c,d)+1,w=Ft.shiftPoint(s,l,g*4),x=Ft.shiftPoint(c,l,f*4);f=this.transitionsBetween(w,d)+1,g=this.transitionsBetween(x,d)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let C=(s.getX()+l.getX()+c.getX()+d.getX())/4,O=(s.getY()+l.getY()+c.getY()+d.getY())/4;s=Ft.moveAway(s,C,O),l=Ft.moveAway(l,C,O),c=Ft.moveAway(c,C,O),d=Ft.moveAway(d,C,O);let D,B;return w=Ft.shiftPoint(s,l,g*4),w=Ft.shiftPoint(w,d,f*4),D=Ft.shiftPoint(l,s,g*4),D=Ft.shiftPoint(D,c,f*4),x=Ft.shiftPoint(c,d,g*4),x=Ft.shiftPoint(x,l,f*4),B=Ft.shiftPoint(d,c,g*4),B=Ft.shiftPoint(B,s,f*4),[w,D,x,B]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,l,c,d,f,g){return Ur.getInstance().sampleGrid(i,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,s.getX(),s.getY(),d.getX(),d.getY(),c.getX(),c.getY(),l.getX(),l.getY())}transitionsBetween(i,s){let l=Math.trunc(i.getX()),c=Math.trunc(i.getY()),d=Math.trunc(s.getX()),f=Math.trunc(s.getY()),g=Math.abs(f-c)>Math.abs(d-l);if(g){let W=l;l=c,c=W,W=d,d=f,f=W}let w=Math.abs(d-l),x=Math.abs(f-c),C=-w/2,O=c<f?1:-1,D=l<d?1:-1,B=0,U=this.image.get(g?c:l,g?l:c);for(let W=l,G=c;W!==d;W+=D){let q=this.image.get(g?G:W,g?W:G);if(q!==U&&(B++,U=q),C+=x,C>0){if(G===f)break;G+=O,C-=w}}return B}}class Ai{constructor(){this.decoder=new NC}decode(i,s=null){let l,c;if(s!=null&&s.has(V.PURE_BARCODE)){const x=Ai.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(x),c=Ai.NO_POINTS}else{const x=new Ft(i.getBlackMatrix()).detect();l=this.decoder.decode(x.getBits()),c=x.getPoints()}const d=l.getRawBytes(),f=new be(l.getText(),d,8*d.length,c,pe.DATA_MATRIX,S.currentTimeMillis()),g=l.getByteSegments();g!=null&&f.putMetadata(Pe.BYTE_SEGMENTS,g);const w=l.getECLevel();return w!=null&&f.putMetadata(Pe.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(s==null||l==null)throw new H;const c=this.moduleSize(s,i);let d=s[1];const f=l[1];let g=s[0];const x=(l[0]-g+1)/c,C=(f-d+1)/c;if(x<=0||C<=0)throw new H;const O=c/2;d+=O,g+=O;const D=new te(x,C);for(let B=0;B<C;B++){const U=d+B*c;for(let W=0;W<x;W++)i.get(g+W*c,U)&&D.set(W,B)}return D}static moduleSize(i,s){const l=s.getWidth();let c=i[0];const d=i[1];for(;c<l&&s.get(c,d);)c++;if(c===l)throw new H;const f=c-i[0];if(f===0)throw new H;return f}}Ai.NO_POINTS=[];class OC extends Ne{constructor(i=500){super(new Ai,i)}}var wo;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(wo||(wo={}));class dt{constructor(i,s,l){this.value=i,this.stringValue=s,this.bits=l,dt.FOR_BITS.set(l,this),dt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof dt))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=dt.FOR_BITS.size)throw new v;return dt.FOR_BITS.get(i)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(wo.L,"L",1),dt.M=new dt(wo.M,"M",0),dt.Q=new dt(wo.Q,"Q",3),dt.H=new dt(wo.H,"H",2);class gn{constructor(i){this.errorCorrectionLevel=dt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return _.bitCount(i^s)}static decodeFormatInformation(i,s){const l=gn.doDecodeFormatInformation(i,s);return l!==null?l:gn.doDecodeFormatInformation(i^gn.FORMAT_INFO_MASK_QR,s^gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let l=Number.MAX_SAFE_INTEGER,c=0;for(const d of gn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===i||f===s)return new gn(d[1]);let g=gn.numBitsDiffering(i,f);g<l&&(c=d[1],l=g),i!==s&&(g=gn.numBitsDiffering(s,f),g<l&&(c=d[1],l=g))}return l<=3?new gn(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof gn))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}gn.FORMAT_INFO_MASK_QR=21522,gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const l of s)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(i,s,...l){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=l;let c=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const g of f)c+=g.getCount()*(g.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new v;return Ce.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,l=0;for(let c=0;c<Ce.VERSION_DECODE_INFO.length;c++){const d=Ce.VERSION_DECODE_INFO[c];if(d===i)return Ce.getVersionForNumber(c+7);const f=gn.numBitsDiffering(i,d);f<s&&(l=c+7,s=f)}return s<=3?Ce.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new te(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let c=0;c<l;c++){const d=this.alignmentPatternCenters[c]-2;for(let f=0;f<l;f++)c===0&&(f===0||f===l-1)||c===l-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}Ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ce.VERSIONS=[new Ce(1,new Int32Array(0),new X(7,new L(1,19)),new X(10,new L(1,16)),new X(13,new L(1,13)),new X(17,new L(1,9))),new Ce(2,Int32Array.from([6,18]),new X(10,new L(1,34)),new X(16,new L(1,28)),new X(22,new L(1,22)),new X(28,new L(1,16))),new Ce(3,Int32Array.from([6,22]),new X(15,new L(1,55)),new X(26,new L(1,44)),new X(18,new L(2,17)),new X(22,new L(2,13))),new Ce(4,Int32Array.from([6,26]),new X(20,new L(1,80)),new X(18,new L(2,32)),new X(26,new L(2,24)),new X(16,new L(4,9))),new Ce(5,Int32Array.from([6,30]),new X(26,new L(1,108)),new X(24,new L(2,43)),new X(18,new L(2,15),new L(2,16)),new X(22,new L(2,11),new L(2,12))),new Ce(6,Int32Array.from([6,34]),new X(18,new L(2,68)),new X(16,new L(4,27)),new X(24,new L(4,19)),new X(28,new L(4,15))),new Ce(7,Int32Array.from([6,22,38]),new X(20,new L(2,78)),new X(18,new L(4,31)),new X(18,new L(2,14),new L(4,15)),new X(26,new L(4,13),new L(1,14))),new Ce(8,Int32Array.from([6,24,42]),new X(24,new L(2,97)),new X(22,new L(2,38),new L(2,39)),new X(22,new L(4,18),new L(2,19)),new X(26,new L(4,14),new L(2,15))),new Ce(9,Int32Array.from([6,26,46]),new X(30,new L(2,116)),new X(22,new L(3,36),new L(2,37)),new X(20,new L(4,16),new L(4,17)),new X(24,new L(4,12),new L(4,13))),new Ce(10,Int32Array.from([6,28,50]),new X(18,new L(2,68),new L(2,69)),new X(26,new L(4,43),new L(1,44)),new X(24,new L(6,19),new L(2,20)),new X(28,new L(6,15),new L(2,16))),new Ce(11,Int32Array.from([6,30,54]),new X(20,new L(4,81)),new X(30,new L(1,50),new L(4,51)),new X(28,new L(4,22),new L(4,23)),new X(24,new L(3,12),new L(8,13))),new Ce(12,Int32Array.from([6,32,58]),new X(24,new L(2,92),new L(2,93)),new X(22,new L(6,36),new L(2,37)),new X(26,new L(4,20),new L(6,21)),new X(28,new L(7,14),new L(4,15))),new Ce(13,Int32Array.from([6,34,62]),new X(26,new L(4,107)),new X(22,new L(8,37),new L(1,38)),new X(24,new L(8,20),new L(4,21)),new X(22,new L(12,11),new L(4,12))),new Ce(14,Int32Array.from([6,26,46,66]),new X(30,new L(3,115),new L(1,116)),new X(24,new L(4,40),new L(5,41)),new X(20,new L(11,16),new L(5,17)),new X(24,new L(11,12),new L(5,13))),new Ce(15,Int32Array.from([6,26,48,70]),new X(22,new L(5,87),new L(1,88)),new X(24,new L(5,41),new L(5,42)),new X(30,new L(5,24),new L(7,25)),new X(24,new L(11,12),new L(7,13))),new Ce(16,Int32Array.from([6,26,50,74]),new X(24,new L(5,98),new L(1,99)),new X(28,new L(7,45),new L(3,46)),new X(24,new L(15,19),new L(2,20)),new X(30,new L(3,15),new L(13,16))),new Ce(17,Int32Array.from([6,30,54,78]),new X(28,new L(1,107),new L(5,108)),new X(28,new L(10,46),new L(1,47)),new X(28,new L(1,22),new L(15,23)),new X(28,new L(2,14),new L(17,15))),new Ce(18,Int32Array.from([6,30,56,82]),new X(30,new L(5,120),new L(1,121)),new X(26,new L(9,43),new L(4,44)),new X(28,new L(17,22),new L(1,23)),new X(28,new L(2,14),new L(19,15))),new Ce(19,Int32Array.from([6,30,58,86]),new X(28,new L(3,113),new L(4,114)),new X(26,new L(3,44),new L(11,45)),new X(26,new L(17,21),new L(4,22)),new X(26,new L(9,13),new L(16,14))),new Ce(20,Int32Array.from([6,34,62,90]),new X(28,new L(3,107),new L(5,108)),new X(26,new L(3,41),new L(13,42)),new X(30,new L(15,24),new L(5,25)),new X(28,new L(15,15),new L(10,16))),new Ce(21,Int32Array.from([6,28,50,72,94]),new X(28,new L(4,116),new L(4,117)),new X(26,new L(17,42)),new X(28,new L(17,22),new L(6,23)),new X(30,new L(19,16),new L(6,17))),new Ce(22,Int32Array.from([6,26,50,74,98]),new X(28,new L(2,111),new L(7,112)),new X(28,new L(17,46)),new X(30,new L(7,24),new L(16,25)),new X(24,new L(34,13))),new Ce(23,Int32Array.from([6,30,54,78,102]),new X(30,new L(4,121),new L(5,122)),new X(28,new L(4,47),new L(14,48)),new X(30,new L(11,24),new L(14,25)),new X(30,new L(16,15),new L(14,16))),new Ce(24,Int32Array.from([6,28,54,80,106]),new X(30,new L(6,117),new L(4,118)),new X(28,new L(6,45),new L(14,46)),new X(30,new L(11,24),new L(16,25)),new X(30,new L(30,16),new L(2,17))),new Ce(25,Int32Array.from([6,32,58,84,110]),new X(26,new L(8,106),new L(4,107)),new X(28,new L(8,47),new L(13,48)),new X(30,new L(7,24),new L(22,25)),new X(30,new L(22,15),new L(13,16))),new Ce(26,Int32Array.from([6,30,58,86,114]),new X(28,new L(10,114),new L(2,115)),new X(28,new L(19,46),new L(4,47)),new X(28,new L(28,22),new L(6,23)),new X(30,new L(33,16),new L(4,17))),new Ce(27,Int32Array.from([6,34,62,90,118]),new X(30,new L(8,122),new L(4,123)),new X(28,new L(22,45),new L(3,46)),new X(30,new L(8,23),new L(26,24)),new X(30,new L(12,15),new L(28,16))),new Ce(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new L(3,117),new L(10,118)),new X(28,new L(3,45),new L(23,46)),new X(30,new L(4,24),new L(31,25)),new X(30,new L(11,15),new L(31,16))),new Ce(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new L(7,116),new L(7,117)),new X(28,new L(21,45),new L(7,46)),new X(30,new L(1,23),new L(37,24)),new X(30,new L(19,15),new L(26,16))),new Ce(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new L(5,115),new L(10,116)),new X(28,new L(19,47),new L(10,48)),new X(30,new L(15,24),new L(25,25)),new X(30,new L(23,15),new L(25,16))),new Ce(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new L(13,115),new L(3,116)),new X(28,new L(2,46),new L(29,47)),new X(30,new L(42,24),new L(1,25)),new X(30,new L(23,15),new L(28,16))),new Ce(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new L(17,115)),new X(28,new L(10,46),new L(23,47)),new X(30,new L(10,24),new L(35,25)),new X(30,new L(19,15),new L(35,16))),new Ce(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new L(17,115),new L(1,116)),new X(28,new L(14,46),new L(21,47)),new X(30,new L(29,24),new L(19,25)),new X(30,new L(11,15),new L(46,16))),new Ce(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new L(13,115),new L(6,116)),new X(28,new L(14,46),new L(23,47)),new X(30,new L(44,24),new L(7,25)),new X(30,new L(59,16),new L(1,17))),new Ce(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new L(12,121),new L(7,122)),new X(28,new L(12,47),new L(26,48)),new X(30,new L(39,24),new L(14,25)),new X(30,new L(22,15),new L(41,16))),new Ce(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new L(6,121),new L(14,122)),new X(28,new L(6,47),new L(34,48)),new X(30,new L(46,24),new L(10,25)),new X(30,new L(2,15),new L(64,16))),new Ce(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new L(17,122),new L(4,123)),new X(28,new L(29,46),new L(14,47)),new X(30,new L(49,24),new L(10,25)),new X(30,new L(24,15),new L(46,16))),new Ce(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new L(4,122),new L(18,123)),new X(28,new L(13,46),new L(32,47)),new X(30,new L(48,24),new L(14,25)),new X(30,new L(42,15),new L(32,16))),new Ce(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new L(20,117),new L(4,118)),new X(28,new L(40,47),new L(7,48)),new X(30,new L(43,24),new L(22,25)),new X(30,new L(10,15),new L(67,16))),new Ce(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new L(19,118),new L(6,119)),new X(28,new L(18,47),new L(31,48)),new X(30,new L(34,24),new L(34,25)),new X(30,new L(20,15),new L(61,16)))];var en;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(en||(en={}));class ir{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let l=0;l<s;l++)for(let c=0;c<s;c++)this.isMasked(l,c)&&i.flip(c,l)}}ir.values=new Map([[en.DATA_MASK_000,new ir(en.DATA_MASK_000,(R,i)=>(R+i&1)===0)],[en.DATA_MASK_001,new ir(en.DATA_MASK_001,(R,i)=>(R&1)===0)],[en.DATA_MASK_010,new ir(en.DATA_MASK_010,(R,i)=>i%3===0)],[en.DATA_MASK_011,new ir(en.DATA_MASK_011,(R,i)=>(R+i)%3===0)],[en.DATA_MASK_100,new ir(en.DATA_MASK_100,(R,i)=>(Math.floor(R/2)+Math.floor(i/3)&1)===0)],[en.DATA_MASK_101,new ir(en.DATA_MASK_101,(R,i)=>R*i%6===0)],[en.DATA_MASK_110,new ir(en.DATA_MASK_110,(R,i)=>R*i%6<3)],[en.DATA_MASK_111,new ir(en.DATA_MASK_111,(R,i)=>(R+i+R*i%3&1)===0)]]);class kC{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const s=this.bitMatrix.getHeight();let l=0;const c=s-7;for(let d=s-1;d>=c;d--)l=this.copyBit(8,d,l);for(let d=s-8;d<s;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=gn.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return Ce.getVersionForNumber(s);let l=0;const c=i-11;for(let f=5;f>=0;f--)for(let g=i-9;g>=c;g--)l=this.copyBit(g,f,l);let d=Ce.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let g=i-9;g>=c;g--)l=this.copyBit(f,g,l);if(d=Ce.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new F}copyBit(i,s,l){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),l=ir.values.get(i.getDataMask()),c=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,c);const d=s.buildFunctionPattern();let f=!0;const g=new Uint8Array(s.getTotalCodewords());let w=0,x=0,C=0;for(let O=c-1;O>0;O-=2){O===6&&O--;for(let D=0;D<c;D++){const B=f?c-1-D:D;for(let U=0;U<2;U++)d.get(O-U,B)||(C++,x<<=1,this.bitMatrix.get(O-U,B)&&(x|=1),C===8&&(g[w++]=x,C=0,x=0))}f=!f}if(w!==s.getTotalCodewords())throw new F;return g}remask(){if(this.parsedFormatInfo===null)return;const i=ir.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,l=i.getWidth();s<l;s++)for(let c=s+1,d=i.getHeight();c<d;c++)i.get(s,c)!==i.get(c,s)&&(i.flip(c,s),i.flip(s,c))}}class Hd{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,l){if(i.length!==s.getTotalCodewords())throw new v;const c=s.getECBlocksForLevel(l);let d=0;const f=c.getECBlocks();for(const U of f)d+=U.getCount();const g=new Array(d);let w=0;for(const U of f)for(let W=0;W<U.getCount();W++){const G=U.getDataCodewords(),q=c.getECCodewordsPerBlock()+G;g[w++]=new Hd(G,new Uint8Array(q))}const x=g[0].codewords.length;let C=g.length-1;for(;C>=0&&g[C].codewords.length!==x;)C--;C++;const O=x-c.getECCodewordsPerBlock();let D=0;for(let U=0;U<O;U++)for(let W=0;W<w;W++)g[W].codewords[U]=i[D++];for(let U=C;U<w;U++)g[U].codewords[O]=i[D++];const B=g[0].codewords.length;for(let U=O;U<B;U++)for(let W=0;W<w;W++){const G=W<C?U:U+1;g[W].codewords[G]=i[D++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var sr;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(sr||(sr={}));class _e{constructor(i,s,l,c){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=l,this.bits=c,_e.FOR_BITS.set(c,this),_e.FOR_VALUE.set(i,this)}static forBits(i){const s=_e.FOR_BITS.get(i);if(s===void 0)throw new v;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let l;return s<=9?l=0:s<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof _e))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}_e.FOR_BITS=new Map,_e.FOR_VALUE=new Map,_e.TERMINATOR=new _e(sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_e.NUMERIC=new _e(sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_e.ALPHANUMERIC=new _e(sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_e.STRUCTURED_APPEND=new _e(sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_e.BYTE=new _e(sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_e.ECI=new _e(sr.ECI,"ECI",Int32Array.from([0,0,0]),7),_e.KANJI=new _e(sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_e.FNC1_FIRST_POSITION=new _e(sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_e.FNC1_SECOND_POSITION=new _e(sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_e.HANZI=new _e(sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tt{static decode(i,s,l,c){const d=new zd(i);let f=new fe;const g=new Array;let w=-1,x=-1;try{let C=null,O=!1,D;do{if(d.available()<4)D=_e.TERMINATOR;else{const B=d.readBits(4);D=_e.forBits(B)}switch(D){case _e.TERMINATOR:break;case _e.FNC1_FIRST_POSITION:case _e.FNC1_SECOND_POSITION:O=!0;break;case _e.STRUCTURED_APPEND:if(d.available()<16)throw new F;w=d.readBits(8),x=d.readBits(8);break;case _e.ECI:const B=Tt.parseECIValue(d);if(C=z.getCharacterSetECIByValue(B),C===null)throw new F;break;case _e.HANZI:const U=d.readBits(4),W=d.readBits(D.getCharacterCountBits(s));U===Tt.GB2312_SUBSET&&Tt.decodeHanziSegment(d,f,W);break;default:const G=d.readBits(D.getCharacterCountBits(s));switch(D){case _e.NUMERIC:Tt.decodeNumericSegment(d,f,G);break;case _e.ALPHANUMERIC:Tt.decodeAlphanumericSegment(d,f,G,O);break;case _e.BYTE:Tt.decodeByteSegment(d,f,G,C,g,c);break;case _e.KANJI:Tt.decodeKanjiSegment(d,f,G);break;default:throw new F}break}}while(D!==_e.TERMINATOR)}catch{throw new F}return new at(i,f.toString(),g.length===0?null:g,l===null?null:l.toString(),w,x)}static decodeHanziSegment(i,s,l){if(l*13>i.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,c[d]=g>>8&255,c[d+1]=g&255,d+=2,l--}try{s.append(ge.decode(c,Z.GB2312))}catch(f){throw new F(f)}}static decodeKanjiSegment(i,s,l){if(l*13>i.available())throw new F;const c=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,c[d]=g>>8,c[d+1]=g,d+=2,l--}try{s.append(ge.decode(c,Z.SHIFT_JIS))}catch(f){throw new F(f)}}static decodeByteSegment(i,s,l,c,d,f){if(8*l>i.available())throw new F;const g=new Uint8Array(l);for(let x=0;x<l;x++)g[x]=i.readBits(8);let w;c===null?w=Z.guessEncoding(g,f):w=c.getName();try{s.append(ge.decode(g,w))}catch(x){throw new F(x)}d.push(g)}static toAlphaNumericChar(i){if(i>=Tt.ALPHANUMERIC_CHARS.length)throw new F;return Tt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,l,c){const d=s.length();for(;l>1;){if(i.available()<11)throw new F;const f=i.readBits(11);s.append(Tt.toAlphaNumericChar(Math.floor(f/45))),s.append(Tt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(i.available()<6)throw new F;s.append(Tt.toAlphaNumericChar(i.readBits(6)))}if(c)for(let f=d;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(i,s,l){for(;l>=3;){if(i.available()<10)throw new F;const c=i.readBits(10);if(c>=1e3)throw new F;s.append(Tt.toAlphaNumericChar(Math.floor(c/100))),s.append(Tt.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(Tt.toAlphaNumericChar(c%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const c=i.readBits(7);if(c>=100)throw new F;s.append(Tt.toAlphaNumericChar(Math.floor(c/10))),s.append(Tt.toAlphaNumericChar(c%10))}else if(l===1){if(i.available()<4)throw new F;const c=i.readBits(4);if(c>=10)throw new F;s.append(Tt.toAlphaNumericChar(c))}}static parseECIValue(i){const s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const l=i.readBits(8);return(s&63)<<8&4294967295|l}if((s&224)===192){const l=i.readBits(16);return(s&31)<<16&4294967295|l}throw new F}}Tt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tt.GB2312_SUBSET=1;class vg{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class PC{constructor(){this.rsDecoder=new Nn(De.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(te.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const l=new kC(i);let c=null;try{return this.decodeBitMatrixParser(l,s)}catch(d){c=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,s);return d.setOther(new vg(!0)),d}catch(d){throw c!==null?c:d}}decodeBitMatrixParser(i,s){const l=i.readVersion(),c=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),f=Hd.getDataBlocks(d,l,c);let g=0;for(const C of f)g+=C.getNumDataCodewords();const w=new Uint8Array(g);let x=0;for(const C of f){const O=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(O,D);for(let B=0;B<D;B++)w[x++]=O[B]}return Tt.decode(w,l,c,s)}correctErrors(i,s){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-s)}catch{throw new E}for(let c=0;c<s;c++)i[c]=l[c]}}class $d extends we{constructor(i,s,l){super(i,s),this.estimatedModuleSize=l}aboutEquals(i,s,l){if(Math.abs(s-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,l){const c=(this.getX()+s)/2,d=(this.getY()+i)/2,f=(this.estimatedModuleSize+l)/2;return new $d(c,d,f)}}class uc{constructor(i,s,l,c,d,f,g){this.image=i,this.startX=s,this.startY=l,this.width=c,this.height=d,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,l=this.width,c=i+l,d=this.startY+s/2,f=new Int32Array(3),g=this.image;for(let w=0;w<s;w++){const x=d+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=i;for(;C<c&&!g.get(C,x);)C++;let O=0;for(;C<c;){if(g.get(C,x))if(O===1)f[1]++;else if(O===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,x,C);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,O=1}else f[++O]++;else O===1&&O++,f[O]++;C++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,x,c);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,l=s/2;for(let c=0;c<3;c++)if(Math.abs(s-i[c])>=l)return!1;return!0}crossCheckVertical(i,s,l,c){const d=this.image,f=d.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=i;for(;w>=0&&d.get(s,w)&&g[1]<=l;)g[1]++,w--;if(w<0||g[1]>l)return NaN;for(;w>=0&&!d.get(s,w)&&g[0]<=l;)g[0]++,w--;if(g[0]>l)return NaN;for(w=i+1;w<f&&d.get(s,w)&&g[1]<=l;)g[1]++,w++;if(w===f||g[1]>l)return NaN;for(;w<f&&!d.get(s,w)&&g[2]<=l;)g[2]++,w++;if(g[2]>l)return NaN;const x=g[0]+g[1]+g[2];return 5*Math.abs(x-c)>=2*c?NaN:this.foundPatternCross(g)?uc.centerFromEnd(g,w):NaN}handlePossibleCenter(i,s,l){const c=i[0]+i[1]+i[2],d=uc.centerFromEnd(i,l),f=this.crossCheckVertical(s,d,2*i[1],c);if(!isNaN(f)){const g=(i[0]+i[1]+i[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(g,f,d))return x.combineEstimate(f,d,g);const w=new $d(d,f,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Gd extends we{constructor(i,s,l,c){super(i,s),this.estimatedModuleSize=l,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,l){if(Math.abs(s-this.getY())<=i&&Math.abs(l-this.getX())<=i){const c=Math.abs(i-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(i,s,l){const c=this.count+1,d=(this.count*this.getX()+s)/c,f=(this.count*this.getY()+i)/c,g=(this.count*this.estimatedModuleSize+l)/c;return new Gd(d,f,g,c)}}class DC{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(V.TRY_HARDER)!==void 0,l=i!=null&&i.get(V.PURE_BARCODE)!==void 0,c=this.image,d=c.getHeight(),f=c.getWidth();let g=Math.floor(3*d/(4*tn.MAX_MODULES));(g<tn.MIN_SKIP||s)&&(g=tn.MIN_SKIP);let w=!1;const x=new Int32Array(5);for(let O=g-1;O<d&&!w;O+=g){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let D=0;for(let B=0;B<f;B++)if(c.get(B,O))(D&1)===1&&D++,x[D]++;else if(D&1)x[D]++;else if(D===4)if(tn.foundPatternCross(x)){if(this.handlePossibleCenter(x,O,B,l)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const W=this.findRowSkip();W>x[2]&&(O+=W-x[2]-g,B=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,D=3;continue}D=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,D=3;else x[++D]++;tn.foundPatternCross(x)&&this.handlePossibleCenter(x,O,f,l)===!0&&(g=x[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return we.orderBestPatterns(C),new DC(C)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let d=0;d<5;d++){const f=i[d];if(f===0)return!1;s+=f}if(s<7)return!1;const l=s/7,c=l/2;return Math.abs(l-i[0])<c&&Math.abs(l-i[1])<c&&Math.abs(3*l-i[2])<3*c&&Math.abs(l-i[3])<c&&Math.abs(l-i[4])<c}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,l,c){const d=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;i>=f&&s>=f&&g.get(s-f,i-f);)d[2]++,f++;if(i<f||s<f)return!1;for(;i>=f&&s>=f&&!g.get(s-f,i-f)&&d[1]<=l;)d[1]++,f++;if(i<f||s<f||d[1]>l)return!1;for(;i>=f&&s>=f&&g.get(s-f,i-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const w=g.getHeight(),x=g.getWidth();for(f=1;i+f<w&&s+f<x&&g.get(s+f,i+f);)d[2]++,f++;if(i+f>=w||s+f>=x)return!1;for(;i+f<w&&s+f<x&&!g.get(s+f,i+f)&&d[3]<l;)d[3]++,f++;if(i+f>=w||s+f>=x||d[3]>=l)return!1;for(;i+f<w&&s+f<x&&g.get(s+f,i+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const C=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(C-c)<2*c&&tn.foundPatternCross(d)}crossCheckVertical(i,s,l,c){const d=this.image,f=d.getHeight(),g=this.getCrossCheckStateCount();let w=i;for(;w>=0&&d.get(s,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(s,w)&&g[1]<=l;)g[1]++,w--;if(w<0||g[1]>l)return NaN;for(;w>=0&&d.get(s,w)&&g[0]<=l;)g[0]++,w--;if(g[0]>l)return NaN;for(w=i+1;w<f&&d.get(s,w);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(s,w)&&g[3]<l;)g[3]++,w++;if(w===f||g[3]>=l)return NaN;for(;w<f&&d.get(s,w)&&g[4]<l;)g[4]++,w++;if(g[4]>=l)return NaN;const x=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(x-c)>=2*c?NaN:tn.foundPatternCross(g)?tn.centerFromEnd(g,w):NaN}crossCheckHorizontal(i,s,l,c){const d=this.image,f=d.getWidth(),g=this.getCrossCheckStateCount();let w=i;for(;w>=0&&d.get(w,s);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!d.get(w,s)&&g[1]<=l;)g[1]++,w--;if(w<0||g[1]>l)return NaN;for(;w>=0&&d.get(w,s)&&g[0]<=l;)g[0]++,w--;if(g[0]>l)return NaN;for(w=i+1;w<f&&d.get(w,s);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!d.get(w,s)&&g[3]<l;)g[3]++,w++;if(w===f||g[3]>=l)return NaN;for(;w<f&&d.get(w,s)&&g[4]<l;)g[4]++,w++;if(g[4]>=l)return NaN;const x=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(x-c)>=c?NaN:tn.foundPatternCross(g)?tn.centerFromEnd(g,w):NaN}handlePossibleCenter(i,s,l,c){const d=i[0]+i[1]+i[2]+i[3]+i[4];let f=tn.centerFromEnd(i,l),g=this.crossCheckVertical(s,Math.floor(f),i[2],d);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),i[2],d),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),i[2],d)))){const w=d/7;let x=!1;const C=this.possibleCenters;for(let O=0,D=C.length;O<D;O++){const B=C[O];if(B.aboutEquals(w,g,f)){C[O]=B.combineEstimate(g,f,w),x=!0;break}}if(!x){const O=new Gd(f,g,w);C.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const l of this.possibleCenters)if(l.getCount()>=tn.CENTER_QUORUM)if(s==null)s=l;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-l.getX())-Math.abs(s.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=tn.CENTER_QUORUM&&(i++,s+=f.getEstimatedModuleSize());if(i<3)return!1;const c=s/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-c);return d<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new H;const s=this.possibleCenters;let l;if(i>3){let c=0,d=0;for(const w of this.possibleCenters){const x=w.getEstimatedModuleSize();c+=x,d+=x*x}l=c/i;let f=Math.sqrt(d/i-l*l);s.sort((w,x)=>{const C=Math.abs(x.getEstimatedModuleSize()-l),O=Math.abs(w.getEstimatedModuleSize()-l);return C<O?-1:C>O?1:0});const g=Math.max(.2*l,f);for(let w=0;w<s.length&&s.length>3;w++){const x=s[w];Math.abs(x.getEstimatedModuleSize()-l)>g&&(s.splice(w,1),w--)}}if(s.length>3){let c=0;for(const d of s)c+=d.getEstimatedModuleSize();l=c/s.length,s.sort((d,f)=>{if(f.getCount()===d.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-l),w=Math.abs(d.getEstimatedModuleSize()-l);return g<w?1:g>w?-1:0}else return f.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class La{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(V.NEED_RESULT_POINT_CALLBACK);const l=new tn(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const s=i.getTopLeft(),l=i.getTopRight(),c=i.getBottomLeft(),d=this.calculateModuleSize(s,l,c);if(d<1)throw new H("No pattern found in proccess finder.");const f=La.computeDimension(s,l,c,d),g=Ce.getProvisionalVersionForDimension(f),w=g.getDimensionForVersion()-7;let x=null;if(g.getAlignmentPatternCenters().length>0){const B=l.getX()-s.getX()+c.getX(),U=l.getY()-s.getY()+c.getY(),W=1-3/w,G=Math.floor(s.getX()+W*(B-s.getX())),q=Math.floor(s.getY()+W*(U-s.getY()));for(let oe=4;oe<=16;oe<<=1)try{x=this.findAlignmentInRegion(d,G,q,oe);break}catch(ae){if(!(ae instanceof H))throw ae}}const C=La.createTransform(s,l,c,x,f),O=La.sampleGrid(this.image,C,f);let D;return x===null?D=[c,s,l]:D=[c,s,l,x],new vs(O,D)}static createTransform(i,s,l,c,d){const f=d-3.5;let g,w,x,C;return c!==null?(g=c.getX(),w=c.getY(),x=f-3,C=x):(g=s.getX()-i.getX()+l.getX(),w=s.getY()-i.getY()+l.getY(),x=f,C=f),bt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,C,3.5,f,i.getX(),i.getY(),s.getX(),s.getY(),g,w,l.getX(),l.getY())}static sampleGrid(i,s,l){return Ur.getInstance().sampleGridWithTransform(i,l,l,s)}static computeDimension(i,s,l,c){const d=Ue.round(we.distance(i,s)/c),f=Ue.round(we.distance(i,l)/c);let g=Math.floor((d+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new H("Dimensions could be not found.")}return g}calculateModuleSize(i,s,l){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,s){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?c/7:isNaN(c)?l/7:(l+c)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,l,c){let d=this.sizeOfBlackWhiteBlackRun(i,s,l,c),f=1,g=i-(l-i);g<0?(f=i/(i-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(g-i),g=this.image.getWidth()-1);let w=Math.floor(s-(c-s)*f);return f=1,w<0?(f=s/(s-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(w-s),w=this.image.getHeight()-1),g=Math.floor(i+(g-i)*f),d+=this.sizeOfBlackWhiteBlackRun(i,s,g,w),d-1}sizeOfBlackWhiteBlackRun(i,s,l,c){const d=Math.abs(c-s)>Math.abs(l-i);if(d){let B=i;i=s,s=B,B=l,l=c,c=B}const f=Math.abs(l-i),g=Math.abs(c-s);let w=-f/2;const x=i<l?1:-1,C=s<c?1:-1;let O=0;const D=l+x;for(let B=i,U=s;B!==D;B+=x){const W=d?U:B,G=d?B:U;if(O===1===this.image.get(W,G)){if(O===2)return Ue.distance(B,U,i,s);O++}if(w+=g,w>0){if(U===c)break;U+=C,w-=f}}return O===2?Ue.distance(l+x,c,i,s):NaN}findAlignmentInRegion(i,s,l,c){const d=Math.floor(c*i),f=Math.max(0,s-d),g=Math.min(this.image.getWidth()-1,s+d);if(g-f<i*3)throw new H("Alignment top exceeds estimated module size.");const w=Math.max(0,l-d),x=Math.min(this.image.getHeight()-1,l+d);if(x-w<i*3)throw new H("Alignment bottom exceeds estimated module size.");return new uc(this.image,f,w,g-f,x-w,i,this.resultPointCallback).find()}}class _i{constructor(){this.decoder=new PC}getDecoder(){return this.decoder}decode(i,s){let l,c;if(s!=null&&s.get(V.PURE_BARCODE)!==void 0){const w=_i.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,s),c=_i.NO_POINTS}else{const w=new La(i.getBlackMatrix()).detect(s);l=this.decoder.decodeBitMatrix(w.getBits(),s),c=w.getPoints()}l.getOther()instanceof vg&&l.getOther().applyMirroredCorrection(c);const d=new be(l.getText(),l.getRawBytes(),void 0,c,pe.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(Pe.BYTE_SEGMENTS,f);const g=l.getECLevel();return g!==null&&d.putMetadata(Pe.ERROR_CORRECTION_LEVEL,g),l.hasStructuredAppend()&&(d.putMetadata(Pe.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(Pe.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(s===null||l===null)throw new H;const c=this.moduleSize(s,i);let d=s[1],f=l[1],g=s[0],w=l[0];if(g>=w||d>=f)throw new H;if(f-d!==w-g&&(w=g+(f-d),w>=i.getWidth()))throw new H;const x=Math.round((w-g+1)/c),C=Math.round((f-d+1)/c);if(x<=0||C<=0)throw new H;if(C!==x)throw new H;const O=Math.floor(c/2);d+=O,g+=O;const D=g+Math.floor((x-1)*c)-w;if(D>0){if(D>O)throw new H;g-=D}const B=d+Math.floor((C-1)*c)-f;if(B>0){if(B>O)throw new H;d-=B}const U=new te(x,C);for(let W=0;W<C;W++){const G=d+Math.floor(W*c);for(let q=0;q<x;q++)i.get(g+Math.floor(q*c),G)&&U.set(q,W)}return U}static moduleSize(i,s){const l=s.getHeight(),c=s.getWidth();let d=i[0],f=i[1],g=!0,w=0;for(;d<c&&f<l;){if(g!==s.get(d,f)){if(++w===5)break;g=!g}d++,f++}if(d===c||f===l)throw new H;return(d-i[0])/7}}_i.NO_POINTS=new Array;class ke{PDF417Common(){}static getBitCountSum(i){return Ue.sum(i)}static toIntArray(i){if(i==null||!i.length)return ke.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let l=0;for(const c of i)s[l++]=c;return s}static getCodeword(i){const s=A.binarySearch(ke.SYMBOL_TABLE,i&262143);return s<0?-1:(ke.CODEWORD_TABLE[s]-1)%ke.NUMBER_OF_CODEWORDS}}ke.NUMBER_OF_CODEWORDS=929,ke.MAX_CODEWORDS_IN_BARCODE=ke.NUMBER_OF_CODEWORDS-1,ke.MIN_ROWS_IN_BARCODE=3,ke.MAX_ROWS_IN_BARCODE=90,ke.MODULES_IN_CODEWORD=17,ke.MODULES_IN_STOP_PATTERN=18,ke.BARS_IN_MODULE=8,ke.EMPTY_INT_ARRAY=new Int32Array([]),ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class MC{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(i,s,l){let c=i.getBlackMatrix(),d=Ve.detect(l,c);return d.length||(c=c.clone(),c.rotate180(),d=Ve.detect(l,c)),new MC(c,d)}static detect(i,s){const l=new Array;let c=0,d=0,f=!1;for(;c<s.getHeight();){const g=Ve.findVertices(s,c,d);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,d=0;for(const w of l)w[1]!=null&&(c=Math.trunc(Math.max(c,w[1].getY()))),w[3]!=null&&(c=Math.max(c,Math.trunc(w[3].getY())));c+=Ve.ROW_STEP;continue}if(f=!0,l.push(g),!i)break;g[2]!=null?(d=Math.trunc(g[2].getX()),c=Math.trunc(g[2].getY())):(d=Math.trunc(g[4].getX()),c=Math.trunc(g[4].getY()))}return l}static findVertices(i,s,l){const c=i.getHeight(),d=i.getWidth(),f=new Array(8);return Ve.copyToResult(f,Ve.findRowsWithPattern(i,c,d,s,l,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ve.copyToResult(f,Ve.findRowsWithPattern(i,c,d,s,l,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),f}static copyToResult(i,s,l){for(let c=0;c<l.length;c++)i[l[c]]=s[c]}static findRowsWithPattern(i,s,l,c,d,f){const g=new Array(4);let w=!1;const x=new Int32Array(f.length);for(;c<s;c+=Ve.ROW_STEP){let O=Ve.findGuardPattern(i,d,c,l,!1,f,x);if(O!=null){for(;c>0;){const D=Ve.findGuardPattern(i,d,--c,l,!1,f,x);if(D!=null)O=D;else{c++;break}}g[0]=new we(O[0],c),g[1]=new we(O[1],c),w=!0;break}}let C=c+1;if(w){let O=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;C<s;C++){const B=Ve.findGuardPattern(i,D[0],C,l,!1,f,x);if(B!=null&&Math.abs(D[0]-B[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(D[1]-B[1])<Ve.MAX_PATTERN_DRIFT)D=B,O=0;else{if(O>Ve.SKIPPED_ROW_COUNT_MAX)break;O++}}C-=O+1,g[2]=new we(D[0],C),g[3]=new we(D[1],C)}return C-c<Ve.BARCODE_MIN_HEIGHT&&A.fill(g,null),g}static findGuardPattern(i,s,l,c,d,f,g){A.fillWithin(g,0,g.length,0);let w=s,x=0;for(;i.get(w,l)&&w>0&&x++<Ve.MAX_PIXEL_DRIFT;)w--;let C=w,O=0,D=f.length;for(let B=d;C<c;C++)if(i.get(C,l)!==B)g[O]++;else{if(O===D-1){if(Ve.patternMatchVariance(g,f,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([w,C]);w+=g[0]+g[1],S.arraycopy(g,2,g,0,O-1),g[O-1]=0,g[O]=0,O--}else O++;g[O]=1,B=!B}return O===D-1&&Ve.patternMatchVariance(g,f,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([w,C-1]):null}static patternMatchVariance(i,s,l){let c=i.length,d=0,f=0;for(let x=0;x<c;x++)d+=i[x],f+=s[x];if(d<f)return 1/0;let g=d/f;l*=g;let w=0;for(let x=0;x<c;x++){let C=i[x],O=s[x]*g,D=C>O?C-O:O-C;if(D>l)return 1/0;w+=D}return w/d}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class on{constructor(i,s){if(s.length===0)throw new v;this.field=i;let l=s.length;if(l>1&&s[0]===0){let c=1;for(;c<l&&s[c]===0;)c++;c===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-c),S.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let c=0;for(let d of this.coefficients)c=this.field.add(c,d);return c}let s=this.coefficients[0],l=this.coefficients.length;for(let c=1;c<l;c++)s=this.field.add(this.field.multiply(i,s),this.coefficients[c]);return s}add(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,l=i.coefficients;if(s.length>l.length){let f=s;s=l,l=f}let c=new Int32Array(l.length),d=l.length-s.length;S.arraycopy(l,0,c,0,d);for(let f=d;f<l.length;f++)c[f]=this.field.add(s[f-d],l[f]);return new on(this.field,c)}subtract(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof on?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new on(this.field,new Int32Array([0]));let s=this.coefficients,l=s.length,c=i.coefficients,d=c.length,f=new Int32Array(l+d-1);for(let g=0;g<l;g++){let w=s[g];for(let x=0;x<d;x++)f[g+x]=this.field.add(f[g+x],this.field.multiply(w,c[x]))}return new on(this.field,f)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=this.field.subtract(0,this.coefficients[l]);return new on(this.field,s)}multiplyScalar(i){if(i===0)return new on(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,l=new Int32Array(s);for(let c=0;c<s;c++)l[c]=this.field.multiply(this.coefficients[c],i);return new on(this.field,l)}multiplyByMonomial(i,s){if(i<0)throw new v;if(s===0)return new on(this.field,new Int32Array([0]));let l=this.coefficients.length,c=new Int32Array(l+i);for(let d=0;d<l;d++)c[d]=this.field.multiply(this.coefficients[d],s);return new on(this.field,c)}toString(){let i=new fe;for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(s===0||l!==1)&&i.append(l),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class LC{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new v;return this.logTable[i]}inverse(i){if(i===0)throw new Ge;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Xd extends LC{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let c=0;c<i;c++)this.expTable[c]=l,l=l*s%i;for(let c=0;c<i-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new on(this,new Int32Array([0])),this.one=new on(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new v;if(s===0)return this.zero;let l=new Int32Array(i+1);return l[0]=s,new on(this,l)}}Xd.PDF417_GF=new Xd(ke.NUMBER_OF_CODEWORDS,3);class Eg{constructor(){this.field=Xd.PDF417_GF}decode(i,s,l){let c=new on(this.field,i),d=new Int32Array(s),f=!1;for(let U=s;U>0;U--){let W=c.evaluateAt(this.field.exp(U));d[s-U]=W,W!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(l!=null)for(const U of l){let W=this.field.exp(i.length-1-U),G=new on(this.field,new Int32Array([this.field.subtract(0,W),1]));g=g.multiply(G)}let w=new on(this.field,d),x=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),w,s),C=x[0],O=x[1],D=this.findErrorLocations(C),B=this.findErrorMagnitudes(O,C,D);for(let U=0;U<D.length;U++){let W=i.length-1-this.field.log(D[U]);if(W<0)throw E.getChecksumInstance();i[W]=this.field.subtract(i[W],B[U])}return D.length}runEuclideanAlgorithm(i,s,l){if(i.getDegree()<s.getDegree()){let D=i;i=s,s=D}let c=i,d=s,f=this.field.getZero(),g=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=c,B=f;if(c=d,f=g,c.isZero())throw E.getChecksumInstance();d=D;let U=this.field.getZero(),W=c.getCoefficient(c.getDegree()),G=this.field.inverse(W);for(;d.getDegree()>=c.getDegree()&&!d.isZero();){let q=d.getDegree()-c.getDegree(),oe=this.field.multiply(d.getCoefficient(d.getDegree()),G);U=U.add(this.field.buildMonomial(q,oe)),d=d.subtract(c.multiplyByMonomial(q,oe))}g=U.multiply(f).subtract(B).negative()}let w=g.getCoefficient(0);if(w===0)throw E.getChecksumInstance();let x=this.field.inverse(w),C=g.multiply(x),O=d.multiply(x);return[C,O]}findErrorLocations(i){let s=i.getDegree(),l=new Int32Array(s),c=0;for(let d=1;d<this.field.getSize()&&c<s;d++)i.evaluateAt(d)===0&&(l[c]=this.field.inverse(d),c++);if(c!==s)throw E.getChecksumInstance();return l}findErrorMagnitudes(i,s,l){let c=s.getDegree(),d=new Int32Array(c);for(let x=1;x<=c;x++)d[c-x]=this.field.multiply(x,s.getCoefficient(x));let f=new on(this.field,d),g=l.length,w=new Int32Array(g);for(let x=0;x<g;x++){let C=this.field.inverse(l[x]),O=this.field.subtract(0,i.evaluateAt(C)),D=this.field.inverse(f.evaluateAt(C));w[x]=this.field.multiply(O,D)}return w}}class Ss{constructor(i,s,l,c,d){i instanceof Ss?this.constructor_2(i):this.constructor_1(i,s,l,c,d)}constructor_1(i,s,l,c,d){const f=s==null||l==null,g=c==null||d==null;if(f&&g)throw new H;f?(s=new we(0,c.getY()),l=new we(0,d.getY())):g&&(c=new we(i.getWidth()-1,s.getY()),d=new we(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=s,this.bottomLeft=l,this.topRight=c,this.bottomRight=d,this.minX=Math.trunc(Math.min(s.getX(),l.getX())),this.maxX=Math.trunc(Math.max(c.getX(),d.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new Ss(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,l){let c=this.topLeft,d=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(i>0){let w=l?this.topLeft:this.topRight,x=Math.trunc(w.getY()-i);x<0&&(x=0);let C=new we(w.getX(),x);l?c=C:f=C}if(s>0){let w=l?this.bottomLeft:this.bottomRight,x=Math.trunc(w.getY()+s);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let C=new we(w.getX(),x);l?d=C:g=C}return new Ss(this.image,c,d,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class BC{constructor(i,s,l,c){this.columnCount=i,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=l,this.rowCount=s+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ba{constructor(){this.buffer=""}static form(i,s){let l=-1;function c(f,g,w,x,C,O){if(f==="%%")return"%";if(s[++l]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,B;switch(O){case"s":B=s[l];break;case"c":B=s[l][0];break;case"f":B=parseFloat(s[l]).toFixed(f);break;case"p":B=parseFloat(s[l]).toPrecision(f);break;case"e":B=parseFloat(s[l]).toExponential(f);break;case"x":B=parseInt(s[l]).toString(D||16);break;case"d":B=parseFloat(parseInt(s[l],D||10).toPrecision(f)).toFixed(0);break}B=typeof B=="object"?JSON.stringify(B):(+B).toString(D);let U=parseInt(w),W=w&&w[0]+""=="0"?"0":" ";for(;B.length<U;)B=g!==void 0?B+W:W+B;return B}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,c)}format(i,...s){this.buffer+=Ba.form(i,s)}toString(){return this.buffer}}class Fa{constructor(i){this.boundingBox=new Ss(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let l=1;l<Fa.MAX_NEARBY_DISTANCE;l++){let c=this.imageRowToCodewordIndex(i)-l;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(i)+l,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Ba;let s=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,l.getRowNumber(),l.getValue())}return i.toString()}}Fa.MAX_NEARBY_DISTANCE=5;class ja{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[l,c]of this.values.entries()){const d={getKey:()=>l,getValue:()=>c};d.getValue()>i?(i=d.getValue(),s=[],s.push(d.getKey())):d.getValue()===i&&s.push(d.getKey())}return ke.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class bg extends Fa{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=-1,x=1,C=0;for(let O=f;O<g;O++){if(s[O]==null)continue;let D=s[O],B=D.getRowNumber()-w;if(B===0)C++;else if(B===1)x=Math.max(x,C),C=1,w=D.getRowNumber();else if(B<0||D.getRowNumber()>=i.getRowCount()||B>O)s[O]=null;else{let U;x>2?U=(x-2)*B:U=B;let W=U>=O;for(let G=1;G<=U&&!W;G++)W=s[O-G]!=null;W?s[O]=null:(w=D.getRowNumber(),C=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.getCodewords(),w=-1;for(let x=d;x<f;x++){if(g[x]==null)continue;let C=g[x];C.setRowNumberAsRowIndicatorColumn();let O=C.getRowNumber()-w;O===0||(O===1?w=C.getRowNumber():C.getRowNumber()>=i.getRowCount()?g[x]=null:w=C.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new ja,l=new ja,c=new ja,d=new ja;for(let g of i){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,x=g.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:l.setValue(w*3+1);break;case 1:d.setValue(w/3),c.setValue(w%3);break;case 2:s.setValue(w+1);break}}if(s.getValue().length===0||l.getValue().length===0||c.getValue().length===0||d.getValue().length===0||s.getValue()[0]<1||l.getValue()[0]+c.getValue()[0]<ke.MIN_ROWS_IN_BARCODE||l.getValue()[0]+c.getValue()[0]>ke.MAX_ROWS_IN_BARCODE)return null;let f=new BC(s.getValue()[0],l.getValue()[0],c.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,s){for(let l=0;l<i.length;l++){let c=i[l];if(i[l]==null)continue;let d=c.getValue()%30,f=c.getRowNumber();if(f>s.getRowCount()){i[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==s.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(d/3)!==s.getErrorCorrectionLevel()||d%3!==s.getRowCountLowerPart())&&(i[l]=null);break;case 2:d+1!==s.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ua{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=ke.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let l=this.detectionResultColumns[s].getCodewords();for(let c=0;c<l.length;c++)l[c]!=null&&(l[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&s[l]!=null&&i[l].getRowNumber()===s[l].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let d=this.detectionResultColumns[c].getCodewords()[l];d!=null&&(d.setRowNumber(i[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let c=s[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=Ua.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let c=s[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[l];g!=null&&(d=Ua.adjustRowNumberIfValid(c,d,g),g.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,l){if(!this.detectionResultColumns[i-1])return;let c=l[s],d=this.detectionResultColumns[i-1].getCodewords(),f=d;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let g=new Array(14);g[2]=d[s],g[3]=f[s],s>0&&(g[0]=l[s-1],g[4]=d[s-1],g[5]=f[s-1]),s>1&&(g[8]=l[s-2],g[10]=d[s-2],g[11]=f[s-2]),s<l.length-1&&(g[1]=l[s+1],g[6]=d[s+1],g[7]=f[s+1]),s<l.length-2&&(g[9]=l[s+2],g[12]=d[s+2],g[13]=f[s+2]);for(let w of g)if(Ua.adjustRowNumber(c,w))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ba;for(let l=0;l<i.getCodewords().length;l++){s.format("CW %3d:",l);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let d=this.detectionResultColumns[c].getCodewords()[l];if(d==null){s.format("    |   ");continue}s.format(" %3d|%3d",d.getRowNumber(),d.getValue())}s.format("%n")}return s.toString()}}class Va{constructor(i,s,l,c){this.rowNumber=Va.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(l),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Va.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Va.BARCODE_ROW_UNKNOWN=-1;class Pn{static initialize(){for(let i=0;i<ke.SYMBOL_TABLE.length;i++){let s=ke.SYMBOL_TABLE[i],l=s&1;for(let c=0;c<ke.BARS_IN_MODULE;c++){let d=0;for(;(s&1)===l;)d+=1,s>>=1;l=s&1,Pn.RATIOS_TABLE[i]||(Pn.RATIOS_TABLE[i]=new Array(ke.BARS_IN_MODULE)),Pn.RATIOS_TABLE[i][ke.BARS_IN_MODULE-c-1]=Math.fround(d/ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=Pn.getDecodedCodewordValue(Pn.sampleBitCounts(i));return s!==-1?s:Pn.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=Ue.sum(i),l=new Int32Array(ke.BARS_IN_MODULE),c=0,d=0;for(let f=0;f<ke.MODULES_IN_CODEWORD;f++){let g=s/(2*ke.MODULES_IN_CODEWORD)+f*s/ke.MODULES_IN_CODEWORD;d+i[c]<=g&&(d+=i[c],c++),l[c]++}return l}static getDecodedCodewordValue(i){let s=Pn.getBitValue(i);return ke.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let l=0;l<i.length;l++)for(let c=0;c<i[l];c++)s=s<<1|(l%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=Ue.sum(i),l=new Array(ke.BARS_IN_MODULE);if(s>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(i[f]/s);let c=ys.MAX_VALUE,d=-1;this.bSymbolTableReady||Pn.initialize();for(let f=0;f<Pn.RATIOS_TABLE.length;f++){let g=0,w=Pn.RATIOS_TABLE[f];for(let x=0;x<ke.BARS_IN_MODULE;x++){let C=Math.fround(w[x]-l[x]);if(g+=Math.fround(C*C),g>=c)break}g<c&&(c=g,d=ke.SYMBOL_TABLE[f])}return d}}Pn.bSymbolTableReady=!1,Pn.RATIOS_TABLE=new Array(ke.SYMBOL_TABLE.length).map(R=>new Array(ke.BARS_IN_MODULE));class Cg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Sg{static parseLong(i,s=void 0){return parseInt(i,s)}}class Ag extends p{}Ag.kind="NullPointerException";class FC{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,l){if(i==null)throw new Ag;if(s<0||s>i.length||l<0||s+l>i.length||s+l<0)throw new k;if(l===0)return;for(let c=0;c<l;c++)this.write(i[s+c])}flush(){}close(){}}class jC extends p{}class UC extends FC{constructor(i=32){if(super(),this.count=0,i<0)throw new v("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new jC;l=_.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,l){if(s<0||s>i.length||l<0||s+l-i.length>0)throw new k;this.ensureCapacity(this.count+l),S.arraycopy(i,s,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var lt;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function _g(){if(typeof window<"u")return window.BigInt||null;if(typeof Ha<"u")return Ha.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let dc;function Ti(R){if(typeof dc>"u"&&(dc=_g()),dc===null)throw new Error("BigInt is not supported!");return dc(R)}function VC(){let R=[];R[0]=Ti(1);let i=Ti(900);R[1]=i;for(let s=2;s<16;s++)R[s]=R[s-1]*i;return R}class K{static decode(i,s){let l=new fe(""),c=z.ISO8859_1;l.enableDecoding(c);let d=1,f=i[d++],g=new Cg;for(;d<i[0];){switch(f){case K.TEXT_COMPACTION_MODE_LATCH:d=K.textCompaction(i,d,l);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:d=K.byteCompaction(f,i,c,d,l);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:d=K.numericCompaction(i,d,l);break;case K.ECI_CHARSET:z.getCharacterSetECIByValue(i[d++]);break;case K.ECI_GENERAL_PURPOSE:d+=2;break;case K.ECI_USER_DEFINED:d++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=K.decodeMacroBlock(i,d,g);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new F;default:d--,d=K.textCompaction(i,d,l);break}if(d<i.length)f=i[d++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let w=new at(null,l.toString(),null,s);return w.setOther(g),w}static decodeMacroBlock(i,s,l){if(s+K.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let c=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<K.NUMBER_OF_SEQUENCE_CODEWORDS;g++,s++)c[g]=i[s];l.setSegmentIndex(_.parseInt(K.decodeBase900toBase10(c,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new fe;s=K.textCompaction(i,s,d),l.setFileId(d.toString());let f=-1;for(i[s]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<i[0];)switch(i[s]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new fe;s=K.textCompaction(i,s+1,g),l.setFileName(g.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new fe;s=K.textCompaction(i,s+1,w),l.setSender(w.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new fe;s=K.textCompaction(i,s+1,x),l.setAddressee(x.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new fe;s=K.numericCompaction(i,s+1,C),l.setSegmentCount(_.parseInt(C.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new fe;s=K.numericCompaction(i,s+1,O),l.setTimestamp(Sg.parseLong(O.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new fe;s=K.numericCompaction(i,s+1,D),l.setChecksum(_.parseInt(D.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let B=new fe;s=K.numericCompaction(i,s+1,B),l.setFileSize(Sg.parseLong(B.toString()));break;default:throw F.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:s++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(f!==-1){let g=s-f;l.isLastSegment()&&g--,l.setOptionalData(A.copyOfRange(i,f,f+g))}return s}static textCompaction(i,s,l){let c=new Int32Array((i[0]-s)*2),d=new Int32Array((i[0]-s)*2),f=0,g=!1;for(;s<i[0]&&!g;){let w=i[s++];if(w<K.TEXT_COMPACTION_MODE_LATCH)c[f]=w/30,c[f+1]=w%30,f+=2;else switch(w){case K.TEXT_COMPACTION_MODE_LATCH:c[f++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,g=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=i[s++],d[f]=w,f++;break}}return K.decodeTextCompaction(c,d,f,l),s}static decodeTextCompaction(i,s,l,c){let d=lt.ALPHA,f=lt.ALPHA,g=0;for(;g<l;){let w=i[g],x="";switch(d){case lt.ALPHA:if(w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case K.LL:d=lt.LOWER;break;case K.ML:d=lt.MIXED;break;case K.PS:f=d,d=lt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break;case lt.LOWER:if(w<26)x=String.fromCharCode(97+w);else switch(w){case 26:x=" ";break;case K.AS:f=d,d=lt.ALPHA_SHIFT;break;case K.ML:d=lt.MIXED;break;case K.PS:f=d,d=lt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break;case lt.MIXED:if(w<K.PL)x=K.MIXED_CHARS[w];else switch(w){case K.PL:d=lt.PUNCT;break;case 26:x=" ";break;case K.LL:d=lt.LOWER;break;case K.AL:d=lt.ALPHA;break;case K.PS:f=d,d=lt.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break;case lt.PUNCT:if(w<K.PAL)x=K.PUNCT_CHARS[w];else switch(w){case K.PAL:d=lt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(d=f,w<26)x=String.fromCharCode(65+w);else switch(w){case 26:x=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(d=f,w<K.PAL)x=K.PUNCT_CHARS[w];else switch(w){case K.PAL:d=lt.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g]);break;case K.TEXT_COMPACTION_MODE_LATCH:d=lt.ALPHA;break}break}x!==""&&c.append(x),g++}}static byteCompaction(i,s,l,c,d){let f=new UC,g=0,w=0,x=!1;switch(i){case K.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),O=s[c++];for(;c<s[0]&&!x;)switch(C[g++]=O,w=900*w+O,O=s[c++],O){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,x=!0;break;default:if(g%5===0&&g>0){for(let D=0;D<6;++D)f.write(Number(Ti(w)>>Ti(8*(5-D))));w=0,g=0}break}c===s[0]&&O<K.TEXT_COMPACTION_MODE_LATCH&&(C[g++]=O);for(let D=0;D<g;D++)f.write(C[D]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!x;){let D=s[c++];if(D<K.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+D;else switch(D){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:c--,x=!0;break}if(g%5===0&&g>0){for(let B=0;B<6;++B)f.write(Number(Ti(w)>>Ti(8*(5-B))));w=0,g=0}}break}return d.append(ge.decode(f.toByteArray(),l)),c}static numericCompaction(i,s,l){let c=0,d=!1,f=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!d;){let g=i[s++];if(s===i[0]&&(d=!0),g<K.TEXT_COMPACTION_MODE_LATCH)f[c]=g,c++;else switch(g){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,d=!0;break}(c%K.MAX_NUMERIC_CODEWORDS===0||g===K.NUMERIC_COMPACTION_MODE_LATCH||d)&&c>0&&(l.append(K.decodeBase900toBase10(f,c)),c=0)}return s}static decodeBase900toBase10(i,s){let l=Ti(0);for(let d=0;d<s;d++)l+=K.EXP900[s-d-1]*Ti(i[d]);let c=l.toString();if(c.charAt(0)!=="1")throw new F;return c.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=_g()?VC():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class He{constructor(){}static decode(i,s,l,c,d,f,g){let w=new Ss(i,s,l,c,d),x=null,C=null,O;for(let U=!0;;U=!1){if(s!=null&&(x=He.getRowIndicatorColumn(i,w,s,!0,f,g)),c!=null&&(C=He.getRowIndicatorColumn(i,w,c,!1,f,g)),O=He.merge(x,C),O==null)throw H.getNotFoundInstance();let W=O.getBoundingBox();if(U&&W!=null&&(W.getMinY()<w.getMinY()||W.getMaxY()>w.getMaxY()))w=W;else break}O.setBoundingBox(w);let D=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,x),O.setDetectionResultColumn(D,C);let B=x!=null;for(let U=1;U<=D;U++){let W=B?U:D-U;if(O.getDetectionResultColumn(W)!==void 0)continue;let G;W===0||W===D?G=new bg(w,W===0):G=new Fa(w),O.setDetectionResultColumn(W,G);let q=-1,oe=q;for(let ae=w.getMinY();ae<=w.getMaxY();ae++){if(q=He.getStartColumn(O,W,ae,B),q<0||q>w.getMaxX()){if(oe===-1)continue;q=oe}let ne=He.detectCodeword(i,w.getMinX(),w.getMaxX(),B,q,ae,f,g);ne!=null&&(G.setCodeword(ae,ne),oe=q,f=Math.min(f,ne.getWidth()),g=Math.max(g,ne.getWidth()))}}return He.createDecoderResult(O)}static merge(i,s){if(i==null&&s==null)return null;let l=He.getBarcodeMetadata(i,s);if(l==null)return null;let c=Ss.merge(He.adjustBoundingBox(i),He.adjustBoundingBox(s));return new Ua(l,c)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let l=He.getMax(s),c=0;for(let g of s)if(c+=l-g,g>0)break;let d=i.getCodewords();for(let g=0;c>0&&d[g]==null;g++)c--;let f=0;for(let g=s.length-1;g>=0&&(f+=l-s[g],!(s[g]>0));g--);for(let g=d.length-1;f>0&&d[g]==null;g--)f--;return i.getBoundingBox().addMissingRows(c,f,i.isLeft())}static getMax(i){let s=-1;for(let l of i)s=Math.max(s,l);return s}static getBarcodeMetadata(i,s){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?l:l.getColumnCount()!==c.getColumnCount()&&l.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&l.getRowCount()!==c.getRowCount()?null:l}static getRowIndicatorColumn(i,s,l,c,d,f){let g=new bg(s,c);for(let w=0;w<2;w++){let x=w===0?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let O=Math.trunc(Math.trunc(l.getY()));O<=s.getMaxY()&&O>=s.getMinY();O+=x){let D=He.detectCodeword(i,0,i.getWidth(),c,C,O,d,f);D!=null&&(g.setCodeword(O,D),c?C=D.getStartX():C=D.getEndX())}}return g}static adjustCodewordCount(i,s){let l=s[0][1],c=l.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-He.getNumberOfECCodeWords(i.getBarcodeECLevel());if(c.length===0){if(d<1||d>ke.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();l.setValue(d)}else c[0]!==d&&l.setValue(d)}static createDecoderResult(i){let s=He.createBarcodeMatrix(i);He.adjustCodewordCount(i,s);let l=new Array,c=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],f=new Array;for(let w=0;w<i.getBarcodeRowCount();w++)for(let x=0;x<i.getBarcodeColumnCount();x++){let C=s[w][x+1].getValue(),O=w*i.getBarcodeColumnCount()+x;C.length===0?l.push(O):C.length===1?c[O]=C[0]:(f.push(O),d.push(C))}let g=new Array(d.length);for(let w=0;w<g.length;w++)g[w]=d[w];return He.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),c,ke.toIntArray(l),ke.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(i,s,l,c,d){let f=new Int32Array(c.length),g=100;for(;g-- >0;){for(let w=0;w<f.length;w++)s[c[w]]=d[w][f[w]];try{return He.decodeCodewords(s,i,l)}catch(w){if(!(w instanceof E))throw w}if(f.length===0)throw E.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<d[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let d=0;d<s[c].length;d++)s[c][d]=new ja;let l=0;for(let c of i.getDetectionResultColumns()){if(c!=null){for(let d of c.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][l].setValue(d.getValue())}}}l++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,l,c){let d=c?1:-1,f=null;if(He.isValidBarcodeColumn(i,s-d)&&(f=i.getDetectionResultColumn(s-d).getCodeword(l)),f!=null)return c?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(s).getCodewordNearby(l),f!=null)return c?f.getStartX():f.getEndX();if(He.isValidBarcodeColumn(i,s-d)&&(f=i.getDetectionResultColumn(s-d).getCodewordNearby(l)),f!=null)return c?f.getEndX():f.getStartX();let g=0;for(;He.isValidBarcodeColumn(i,s-d);){s-=d;for(let w of i.getDetectionResultColumn(s).getCodewords())if(w!=null)return(c?w.getEndX():w.getStartX())+d*g*(w.getEndX()-w.getStartX());g++}return c?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,l,c,d,f,g,w){d=He.adjustCodewordStartColumn(i,s,l,c,d,f);let x=He.getModuleBitCount(i,s,l,c,d,f);if(x==null)return null;let C,O=Ue.sum(x);if(c)C=d+O;else{for(let U=0;U<x.length/2;U++){let W=x[U];x[U]=x[x.length-1-U],x[x.length-1-U]=W}C=d,d=C-O}if(!He.checkCodewordSkew(O,g,w))return null;let D=Pn.getDecodedValue(x),B=ke.getCodeword(D);return B===-1?null:new Va(d,C,He.getCodewordBucketNumber(D),B)}static getModuleBitCount(i,s,l,c,d,f){let g=d,w=new Int32Array(8),x=0,C=c?1:-1,O=c;for(;(c?g<l:g>=s)&&x<w.length;)i.get(g,f)===O?(w[x]++,g+=C):(x++,O=!O);return x===w.length||g===(c?l:s)&&x===w.length-1?w:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,l,c,d,f){let g=d,w=c?-1:1;for(let x=0;x<2;x++){for(;(c?g>=s:g<l)&&c===i.get(g,f);){if(Math.abs(d-g)>He.CODEWORD_SKEW_SIZE)return d;g+=w}w=-w,c=!c}return g}static checkCodewordSkew(i,s,l){return s-He.CODEWORD_SKEW_SIZE<=i&&i<=l+He.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,l){if(i.length===0)throw F.getFormatInstance();let c=1<<s+1,d=He.correctErrors(i,l,c);He.verifyCodewordCount(i,c);let f=K.decode(i,""+s);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(i,s,l){if(s!=null&&s.length>l/2+He.MAX_ERRORS||l<0||l>He.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return He.errorCorrection.decode(i,l,s)}static verifyCodewordCount(i,s){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(s<i.length)i[0]=i.length-s;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),l=0,c=s.length-1;for(;!((i&1)!==l&&(l=i&1,c--,c<0));)s[c]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return He.getCodewordBucketNumber(He.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new Ba;for(let l=0;l<i.length;l++){s.format("Row %2d: ",l);for(let c=0;c<i[l].length;c++){let d=i[l][c];d.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}s.format("%n")}return s.toString()}}He.CODEWORD_SKEW_SIZE=2,He.MAX_ERRORS=3,He.MAX_EC_CODEWORDS=512,He.errorCorrection=new Eg;class an{decode(i,s=null){let l=an.decode(i,s,!1);if(l==null||l.length===0||l[0]==null)throw H.getNotFoundInstance();return l[0]}decodeMultiple(i,s=null){try{return an.decode(i,s,!0)}catch(l){throw l instanceof F||l instanceof E?H.getNotFoundInstance():l}}static decode(i,s,l){const c=new Array,d=Ve.detectMultiple(i,s,l);for(const f of d.getPoints()){const g=He.decode(d.getBits(),f[4],f[5],f[6],f[7],an.getMinCodewordWidth(f),an.getMaxCodewordWidth(f)),w=new be(g.getText(),g.getRawBytes(),void 0,f,pe.PDF_417);w.putMetadata(Pe.ERROR_CORRECTION_LEVEL,g.getECLevel());const x=g.getOther();x!=null&&w.putMetadata(Pe.PDF417_EXTRA_METADATA,x),c.push(w)}return c.map(f=>f)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?_.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(an.getMaxWidth(i[0],i[4]),an.getMaxWidth(i[6],i[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.max(an.getMaxWidth(i[1],i[5]),an.getMaxWidth(i[7],i[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(an.getMinWidth(i[0],i[4]),an.getMinWidth(i[6],i[2])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN),Math.min(an.getMinWidth(i[1],i[5]),an.getMinWidth(i[7],i[3])*ke.MODULES_IN_CODEWORD/ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class fc extends p{}fc.kind="ReaderException";class Tg{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=!r(i)&&i.get(V.TRY_HARDER)===!0,l=r(i)?null:i.get(V.POSSIBLE_FORMATS),c=new Array;if(!r(l)){const d=l.some(f=>f===pe.UPC_A||f===pe.UPC_E||f===pe.EAN_13||f===pe.EAN_8||f===pe.CODABAR||f===pe.CODE_39||f===pe.CODE_93||f===pe.CODE_128||f===pe.ITF||f===pe.RSS_14||f===pe.RSS_EXPANDED);d&&!s&&c.push(new mo(i,this.verbose)),l.includes(pe.QR_CODE)&&c.push(new _i),l.includes(pe.DATA_MATRIX)&&c.push(new Ai),l.includes(pe.AZTEC)&&c.push(new fo),l.includes(pe.PDF_417)&&c.push(new an),d&&s&&c.push(new mo(i,this.verbose))}c.length===0&&(s||c.push(new mo(i,this.verbose)),c.push(new _i),c.push(new Ai),c.push(new fo),c.push(new an),s&&c.push(new mo(i,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new fc("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(l){if(l instanceof fc)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class WC extends Ne{constructor(i=null,s=500){const l=new Tg;l.setHints(i),super(l,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class zC extends Ne{constructor(i=500){super(new an,i)}}class HC extends Ne{constructor(i=500){super(new _i,i)}}var Kd;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Kd||(Kd={}));var Gt=Kd;class qd{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Oe(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let l=s[s.length-1];const c=this.field;for(let d=s.length;d<=i;d++){const f=l.multiply(new Oe(c,Int32Array.from([1,c.exp(d-1+c.getGeneratorBase())])));s.push(f),l=f}}return s[i]}encode(i,s){if(s===0)throw new v("No error correction bytes");const l=i.length-s;if(l<=0)throw new v("No data bytes provided");const c=this.buildGenerator(s),d=new Int32Array(l);S.arraycopy(i,0,d,0,l);let f=new Oe(this.field,d);f=f.multiplyByMonomial(s,1);const w=f.divide(c)[1].getCoefficients(),x=s-w.length;for(let C=0;C<x;C++)i[l+C]=0;S.arraycopy(w,0,i,l+x,w.length)}}class Dt{constructor(){}static applyMaskPenaltyRule1(i){return Dt.applyMaskPenaltyRule1Internal(i,!0)+Dt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const l=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let f=0;f<d-1;f++){const g=l[f];for(let w=0;w<c-1;w++){const x=g[w];x===g[w+1]&&x===l[f+1][w]&&x===l[f+1][w+1]&&s++}}return Dt.N2*s}static applyMaskPenaltyRule3(i){let s=0;const l=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let f=0;f<d;f++)for(let g=0;g<c;g++){const w=l[f];g+6<c&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Dt.isWhiteHorizontal(w,g-4,g)||Dt.isWhiteHorizontal(w,g+7,g+11))&&s++,f+6<d&&l[f][g]===1&&l[f+1][g]===0&&l[f+2][g]===1&&l[f+3][g]===1&&l[f+4][g]===1&&l[f+5][g]===0&&l[f+6][g]===1&&(Dt.isWhiteVertical(l,g,f-4,f)||Dt.isWhiteVertical(l,g,f+7,f+11))&&s++}return s*Dt.N3}static isWhiteHorizontal(i,s,l){s=Math.max(s,0),l=Math.min(l,i.length);for(let c=s;c<l;c++)if(i[c]===1)return!1;return!0}static isWhiteVertical(i,s,l,c){l=Math.max(l,0),c=Math.min(c,i.length);for(let d=l;d<c;d++)if(i[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const l=i.getArray(),c=i.getWidth(),d=i.getHeight();for(let w=0;w<d;w++){const x=l[w];for(let C=0;C<c;C++)x[C]===1&&s++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*Dt.N4}static getDataMaskBit(i,s,l){let c,d;switch(i){case 0:c=l+s&1;break;case 1:c=l&1;break;case 2:c=s%3;break;case 3:c=(l+s)%3;break;case 4:c=Math.floor(l/2)+Math.floor(s/3)&1;break;case 5:d=l*s,c=(d&1)+d%3;break;case 6:d=l*s,c=(d&1)+d%3&1;break;case 7:d=l*s,c=d%3+(l+s&1)&1;break;default:throw new v("Invalid mask pattern: "+i)}return c===0}static applyMaskPenaltyRule1Internal(i,s){let l=0;const c=s?i.getHeight():i.getWidth(),d=s?i.getWidth():i.getHeight(),f=i.getArray();for(let g=0;g<c;g++){let w=0,x=-1;for(let C=0;C<d;C++){const O=s?f[g][C]:f[C][g];O===x?w++:(w>=5&&(l+=Dt.N1+(w-5)),w=1,x=O)}w>=5&&(l+=Dt.N1+(w-5))}return l}}Dt.N1=3,Dt.N2=3,Dt.N3=40,Dt.N4=10;class hc{constructor(i,s){this.width=i,this.height=s;const l=new Array(s);for(let c=0;c!==s;c++)l[c]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,l){this.bytes[s][i]=l}setBoolean(i,s,l){this.bytes[s][i]=l?1:0}clear(i){for(const s of this.bytes)A.fill(s,i)}equals(i){if(!(i instanceof hc))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let l=0,c=this.height;l<c;++l){const d=this.bytes[l],f=s.bytes[l];for(let g=0,w=this.width;g<w;++g)if(d[g]!==f[g])return!1}return!0}toString(){const i=new fe;for(let s=0,l=this.height;s<l;++s){const c=this.bytes[s];for(let d=0,f=this.width;d<f;++d)switch(c[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class As{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new fe;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<As.NUM_MASK_PATTERNS}}As.NUM_MASK_PATTERNS=8;class ct extends p{}ct.kind="WriterException";class Te{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,l,c,d){Te.clearMatrix(d),Te.embedBasicPatterns(l,d),Te.embedTypeInfo(s,c,d),Te.maybeEmbedVersionInfo(l,d),Te.embedDataBits(i,c,d)}static embedBasicPatterns(i,s){Te.embedPositionDetectionPatternsAndSeparators(s),Te.embedDarkDotAtLeftBottomCorner(s),Te.maybeEmbedPositionAdjustmentPatterns(i,s),Te.embedTimingPatterns(s)}static embedTypeInfo(i,s,l){const c=new M;Te.makeTypeInfoBits(i,s,c);for(let d=0,f=c.getSize();d<f;++d){const g=c.get(c.getSize()-1-d),w=Te.TYPE_INFO_COORDINATES[d],x=w[0],C=w[1];if(l.setBoolean(x,C,g),d<8){const O=l.getWidth()-d-1;l.setBoolean(O,8,g)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,g)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const l=new M;Te.makeVersionInfoBits(i,l);let c=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const g=l.get(c);c--,s.setBoolean(d,s.getHeight()-11+f,g),s.setBoolean(s.getHeight()-11+f,d,g)}}static embedDataBits(i,s,l){let c=0,d=-1,f=l.getWidth()-1,g=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<l.getHeight();){for(let w=0;w<2;++w){const x=f-w;if(!Te.isEmpty(l.get(x,g)))continue;let C;c<i.getSize()?(C=i.get(c),++c):C=!1,s!==255&&Dt.getDataMaskBit(s,x,g)&&(C=!C),l.setBoolean(x,g,C)}g+=d}d=-d,g+=d,f-=2}if(c!==i.getSize())throw new ct("Not all bits consumed: "+c+"/"+i.getSize())}static findMSBSet(i){return 32-_.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new v("0 polynomial");const l=Te.findMSBSet(s);for(i<<=l-1;Te.findMSBSet(i)>=l;)i^=s<<Te.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,s,l){if(!As.isValidMaskPattern(s))throw new ct("Invalid mask pattern");const c=i.getBits()<<3|s;l.appendBits(c,5);const d=Te.calculateBCHCode(c,Te.TYPE_INFO_POLY);l.appendBits(d,10);const f=new M;if(f.appendBits(Te.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new ct("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const l=Te.calculateBCHCode(i.getVersionNumber(),Te.VERSION_INFO_POLY);if(s.appendBits(l,12),s.getSize()!==18)throw new ct("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const l=(s+1)%2;Te.isEmpty(i.get(s,6))&&i.setNumber(s,6,l),Te.isEmpty(i.get(6,s))&&i.setNumber(6,s,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new ct;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,l){for(let c=0;c<8;++c){if(!Te.isEmpty(l.get(i+c,s)))throw new ct;l.setNumber(i+c,s,0)}}static embedVerticalSeparationPattern(i,s,l){for(let c=0;c<7;++c){if(!Te.isEmpty(l.get(i,s+c)))throw new ct;l.setNumber(i,s+c,0)}}static embedPositionAdjustmentPattern(i,s,l){for(let c=0;c<5;++c){const d=Te.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)l.setNumber(i+f,s+c,d[f])}}static embedPositionDetectionPattern(i,s,l){for(let c=0;c<7;++c){const d=Te.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)l.setNumber(i+f,s+c,d[f])}}static embedPositionDetectionPatternsAndSeparators(i){const s=Te.POSITION_DETECTION_PATTERN[0].length;Te.embedPositionDetectionPattern(0,0,i),Te.embedPositionDetectionPattern(i.getWidth()-s,0,i),Te.embedPositionDetectionPattern(0,i.getWidth()-s,i);const l=8;Te.embedHorizontalSeparationPattern(0,l-1,i),Te.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),Te.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const c=7;Te.embedVerticalSeparationPattern(c,0,i),Te.embedVerticalSeparationPattern(i.getHeight()-c-1,0,i),Te.embedVerticalSeparationPattern(c,i.getHeight()-c,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,c=Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=c.length;d!==f;d++){const g=c[d];if(g>=0)for(let w=0;w!==f;w++){const x=c[w];x>=0&&Te.isEmpty(s.get(x,g))&&Te.embedPositionAdjustmentPattern(x-2,g-2,s)}}}}Te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Te.VERSION_INFO_POLY=7973,Te.TYPE_INFO_POLY=1335,Te.TYPE_INFO_MASK_PATTERN=21522;class $C{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class mt{constructor(){}static calculateMaskPenalty(i){return Dt.applyMaskPenaltyRule1(i)+Dt.applyMaskPenaltyRule2(i)+Dt.applyMaskPenaltyRule3(i)+Dt.applyMaskPenaltyRule4(i)}static encode(i,s,l=null){let c=mt.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Gt.CHARACTER_SET)!==void 0;d&&(c=l.get(Gt.CHARACTER_SET).toString());const f=this.chooseMode(i,c),g=new M;if(f===_e.BYTE&&(d||mt.DEFAULT_BYTE_MODE_ENCODING!==c)){const ae=z.getCharacterSetECIByName(c);ae!==void 0&&this.appendECI(ae,g)}this.appendModeInfo(f,g);const w=new M;this.appendBytes(i,f,w,c);let x;if(l!==null&&l.get(Gt.QR_VERSION)!==void 0){const ae=Number.parseInt(l.get(Gt.QR_VERSION).toString(),10);x=Ce.getVersionForNumber(ae);const ne=this.calculateBitsNeeded(f,g,w,x);if(!this.willFit(ne,x,s))throw new ct("Data too big for requested version")}else x=this.recommendVersion(s,f,g,w);const C=new M;C.appendBitArray(g);const O=f===_e.BYTE?w.getSizeInBytes():i.length;this.appendLengthInfo(O,x,f,C),C.appendBitArray(w);const D=x.getECBlocksForLevel(s),B=x.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(B,C);const U=this.interleaveWithECBytes(C,x.getTotalCodewords(),B,D.getNumBlocks()),W=new As;W.setECLevel(s),W.setMode(f),W.setVersion(x);const G=x.getDimensionForVersion(),q=new hc(G,G),oe=this.chooseMaskPattern(U,s,x,q);return W.setMaskPattern(oe),Te.buildMatrix(U,s,x,oe,q),W.setMatrix(q),W}static recommendVersion(i,s,l,c){const d=this.calculateBitsNeeded(s,l,c,Ce.getVersionForNumber(1)),f=this.chooseVersion(d,i),g=this.calculateBitsNeeded(s,l,c,f);return this.chooseVersion(g,i)}static calculateBitsNeeded(i,s,l,c){return s.getSize()+i.getCharacterCountBits(c)+l.getSize()}static getAlphanumericCode(i){return i<mt.ALPHANUMERIC_TABLE.length?mt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if(z.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return _e.KANJI;let l=!1,c=!1;for(let d=0,f=i.length;d<f;++d){const g=i.charAt(d);if(mt.isDigit(g))l=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)c=!0;else return _e.BYTE}return c?_e.ALPHANUMERIC:l?_e.NUMERIC:_e.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=ge.encode(i,z.SJIS)}catch{return!1}const l=s.length;if(l%2!==0)return!1;for(let c=0;c<l;c+=2){const d=s[c]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,s,l,c){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<As.NUM_MASK_PATTERNS;g++){Te.buildMatrix(i,s,l,g,c);let w=this.calculateMaskPenalty(c);w<d&&(d=w,f=g)}return f}static chooseVersion(i,s){for(let l=1;l<=40;l++){const c=Ce.getVersionForNumber(l);if(mt.willFit(i,c,s))return c}throw new ct("Data too big")}static willFit(i,s,l){const c=s.getTotalCodewords(),f=s.getECBlocksForLevel(l).getTotalECCodewords(),g=c-f,w=(i+7)/8;return g>=w}static terminateBits(i,s){const l=i*8;if(s.getSize()>l)throw new ct("data bits cannot fit in the QR Code"+s.getSize()+" > "+l);for(let f=0;f<4&&s.getSize()<l;++f)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let f=c;f<8;f++)s.appendBit(!1);const d=i-s.getSizeInBytes();for(let f=0;f<d;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==l)throw new ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,l,c,d,f){if(c>=l)throw new ct("Block ID too large");const g=i%l,w=l-g,x=Math.floor(i/l),C=x+1,O=Math.floor(s/l),D=O+1,B=x-O,U=C-D;if(B!==U)throw new ct("EC bytes mismatch");if(l!==w+g)throw new ct("RS blocks mismatch");if(i!==(O+B)*w+(D+U)*g)throw new ct("Total bytes mismatch");c<w?(d[0]=O,f[0]=B):(d[0]=D,f[0]=U)}static interleaveWithECBytes(i,s,l,c){if(i.getSizeInBytes()!==l)throw new ct("Number of bits and data bytes does not match");let d=0,f=0,g=0;const w=new Array;for(let C=0;C<c;++C){const O=new Int32Array(1),D=new Int32Array(1);mt.getNumDataBytesAndNumECBytesForBlockID(s,l,c,C,O,D);const B=O[0],U=new Uint8Array(B);i.toBytes(8*d,U,0,B);const W=mt.generateECBytes(U,D[0]);w.push(new $C(U,W)),f=Math.max(f,B),g=Math.max(g,W.length),d+=O[0]}if(l!==d)throw new ct("Data bytes does not match offset");const x=new M;for(let C=0;C<f;++C)for(const O of w){const D=O.getDataBytes();C<D.length&&x.appendBits(D[C],8)}for(let C=0;C<g;++C)for(const O of w){const D=O.getErrorCorrectionBytes();C<D.length&&x.appendBits(D[C],8)}if(s!==x.getSizeInBytes())throw new ct("Interleaving error: "+s+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(i,s){const l=i.length,c=new Int32Array(l+s);for(let f=0;f<l;f++)c[f]=i[f]&255;new qd(De.QR_CODE_FIELD_256).encode(c,s);const d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=c[l+f];return d}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,l,c){const d=l.getCharacterCountBits(s);if(i>=1<<d)throw new ct(i+" is bigger than "+((1<<d)-1));c.appendBits(i,d)}static appendBytes(i,s,l,c){switch(s){case _e.NUMERIC:mt.appendNumericBytes(i,l);break;case _e.ALPHANUMERIC:mt.appendAlphanumericBytes(i,l);break;case _e.BYTE:mt.append8BitBytes(i,l,c);break;case _e.KANJI:mt.appendKanjiBytes(i,l);break;default:throw new ct("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=mt.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const l=i.length;let c=0;for(;c<l;){const d=mt.getDigit(i.charAt(c));if(c+2<l){const f=mt.getDigit(i.charAt(c+1)),g=mt.getDigit(i.charAt(c+2));s.appendBits(d*100+f*10+g,10),c+=3}else if(c+1<l){const f=mt.getDigit(i.charAt(c+1));s.appendBits(d*10+f,7),c+=2}else s.appendBits(d,4),c++}}static appendAlphanumericBytes(i,s){const l=i.length;let c=0;for(;c<l;){const d=mt.getAlphanumericCode(i.charCodeAt(c));if(d===-1)throw new ct;if(c+1<l){const f=mt.getAlphanumericCode(i.charCodeAt(c+1));if(f===-1)throw new ct;s.appendBits(d*45+f,11),c+=2}else s.appendBits(d,6),c++}}static append8BitBytes(i,s,l){let c;try{c=ge.encode(i,l)}catch(d){throw new ct(d)}for(let d=0,f=c.length;d!==f;d++){const g=c[d];s.appendBits(g,8)}}static appendKanjiBytes(i,s){let l;try{l=ge.encode(i,z.SJIS)}catch(d){throw new ct(d)}const c=l.length;for(let d=0;d<c;d+=2){const f=l[d]&255,g=l[d+1]&255,w=f<<8&4294967295|g;let x=-1;if(w>=33088&&w<=40956?x=w-33088:w>=57408&&w<=60351&&(x=w-49472),x===-1)throw new ct("Invalid byte sequence");const C=(x>>8)*192+(x&255);s.appendBits(C,13)}}static appendECI(i,s){s.appendBits(_e.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}mt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),mt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class _s{write(i,s,l,c=null){if(i.length===0)throw new v("Found empty contents");if(s<0||l<0)throw new v("Requested dimensions are too small: "+s+"x"+l);let d=dt.L,f=_s.QUIET_ZONE_SIZE;c!==null&&(c.get(Gt.ERROR_CORRECTION)!==void 0&&(d=dt.fromString(c.get(Gt.ERROR_CORRECTION).toString())),c.get(Gt.MARGIN)!==void 0&&(f=Number.parseInt(c.get(Gt.MARGIN).toString(),10)));const g=mt.encode(i,d,c);return this.renderResult(g,s,l,f)}writeToDom(i,s,l,c,d=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(s,l,c,d);i&&i.appendChild(f)}renderResult(i,s,l,c){const d=i.getMatrix();if(d===null)throw new Qt;const f=d.getWidth(),g=d.getHeight(),w=f+c*2,x=g+c*2,C=Math.max(s,w),O=Math.max(l,x),D=Math.min(Math.floor(C/w),Math.floor(O/x)),B=Math.floor((C-f*D)/2),U=Math.floor((O-g*D)/2),W=this.createSVGElement(C,O);for(let G=0,q=U;G<g;G++,q+=D)for(let oe=0,ae=B;oe<f;oe++,ae+=D)if(d.get(oe,G)===1){const ne=this.createSvgRectElement(ae,q,D,D);W.appendChild(ne)}return W}createSVGElement(i,s){const l=document.createElementNS(_s.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",s.toString()),l}createSvgRectElement(i,s,l,c){const d=document.createElementNS(_s.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",c.toString()),d.setAttributeNS(null,"fill","#000000"),d}}_s.QUIET_ZONE_SIZE=4,_s.SVG_NS="http://www.w3.org/2000/svg";class xo{encode(i,s,l,c,d){if(i.length===0)throw new v("Found empty contents");if(s!==pe.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(l<0||c<0)throw new v(`Requested dimensions are too small: ${l}x${c}`);let f=dt.L,g=xo.QUIET_ZONE_SIZE;d!==null&&(d.get(Gt.ERROR_CORRECTION)!==void 0&&(f=dt.fromString(d.get(Gt.ERROR_CORRECTION).toString())),d.get(Gt.MARGIN)!==void 0&&(g=Number.parseInt(d.get(Gt.MARGIN).toString(),10)));const w=mt.encode(i,f,d);return xo.renderResult(w,l,c,g)}static renderResult(i,s,l,c){const d=i.getMatrix();if(d===null)throw new Qt;const f=d.getWidth(),g=d.getHeight(),w=f+c*2,x=g+c*2,C=Math.max(s,w),O=Math.max(l,x),D=Math.min(Math.floor(C/w),Math.floor(O/x)),B=Math.floor((C-f*D)/2),U=Math.floor((O-g*D)/2),W=new te(C,O);for(let G=0,q=U;G<g;G++,q+=D)for(let oe=0,ae=B;oe<f;oe++,ae+=D)d.get(oe,G)===1&&W.setRegion(ae,q,D,D);return W}}xo.QUIET_ZONE_SIZE=4;class GC{encode(i,s,l,c,d){let f;switch(s){case pe.QR_CODE:f=new xo;break;default:throw new v("No encoder available for format "+s)}return f.encode(i,s,l,c,d)}}class zr extends Y{constructor(i,s,l,c,d,f,g,w){if(super(f,g),this.yuvData=i,this.dataWidth=s,this.dataHeight=l,this.left=c,this.top=d,c+f>s||d+g>l)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,g)}getRow(i,s){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,c,s,0,l),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const l=i*s,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return S.arraycopy(this.yuvData,d,c,0,l),c;for(let f=0;f<s;f++){const g=f*i;S.arraycopy(this.yuvData,d,c,g,i),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,l,c){return new zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,l,c,!1)}renderThumbnail(){const i=this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*s),c=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const g=f*i;for(let w=0;w<i;w++){const x=c[d+w*zr.THUMBNAIL_SCALE_FACTOR]&255;l[g+w]=4278190080|x*65793}d+=this.dataWidth*zr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const l=this.yuvData;for(let c=0,d=this.top*this.dataWidth+this.left;c<s;c++,d+=this.dataWidth){const f=d+i/2;for(let g=d,w=d+i-1;g<f;g++,w--){const x=l[g];l[g]=l[w],l[w]=x}}}invert(){return new Q(this)}}zr.THUMBNAIL_SCALE_FACTOR=2;class Yd extends Y{constructor(i,s,l,c,d,f,g){if(super(s,l),this.dataWidth=c,this.dataHeight=d,this.left=f,this.top=g,i.BYTES_PER_ELEMENT===4){const w=s*l,x=new Uint8ClampedArray(w);for(let C=0;C<w;C++){const O=i[C],D=O>>16&255,B=O>>7&510,U=O&255;x[C]=(D+B+U)/4&255}this.luminances=x}else this.luminances=i;if(c===void 0&&(this.dataWidth=s),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new v("Requested row is outside the image: "+i);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const c=(i+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,c,s,0,l),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const l=i*s,c=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return S.arraycopy(this.luminances,d,c,0,l),c;for(let f=0;f<s;f++){const g=f*i;S.arraycopy(this.luminances,d,c,g,i),d+=this.dataWidth}return c}isCropSupported(){return!0}crop(i,s,l,c){return new Yd(this.luminances,l,c,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new Q(this)}}class Ig extends z{static forName(i){return this.getCharacterSetECIByName(i)}}class Zd{}Zd.ISO_8859_1=z.ISO8859_1;class Rg{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Ng{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class XC{constructor(i){this.previous=i}getPrevious(){return this.previous}}class yo extends XC{constructor(i,s,l){super(i),this.value=s,this.bitCount=l}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new yo(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new yo(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+_.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Qd extends yo{constructor(i,s,l){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=l}appendTo(i,s){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+l],8)}addBinaryShift(i,s){return new Qd(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function KC(R,i,s){return new Qd(R,i,s)}function Wa(R,i,s){return new yo(R,i,s)}const qC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ii=0,gc=1,or=2,Og=3,Hr=4,YC=new yo(null,0,0),Jd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ZC(R){for(let i of R)A.fill(i,-1);return R[Ii][Hr]=0,R[gc][Hr]=0,R[gc][Ii]=28,R[Og][Hr]=0,R[or][Hr]=0,R[or][Ii]=15,R}const kg=ZC(A.createInt32Array(6,6));class $r{constructor(i,s,l,c){this.token=i,this.mode=s,this.binaryShiftByteCount=l,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let l=this.bitCount,c=this.token;if(i!==this.mode){let f=Jd[this.mode][i];c=Wa(c,f&65535,f>>16),l+=f>>16}let d=i===or?4:5;return c=Wa(c,s,d),new $r(c,i,0,l+d)}shiftAndAppend(i,s){let l=this.token,c=this.mode===or?4:5;return l=Wa(l,kg[this.mode][i],c),l=Wa(l,s,5),new $r(l,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(i){let s=this.token,l=this.mode,c=this.bitCount;if(this.mode===Hr||this.mode===or){let g=Jd[l][Ii];s=Wa(s,g&65535,g>>16),c+=g>>16,l=Ii}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new $r(s,l,this.binaryShiftByteCount+1,c+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=KC(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new $r(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Jd[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=$r.calculateBinaryShiftCost(i)-$r.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let c=this.endBinaryShift(i.length).token;c!==null;c=c.getPrevious())s.unshift(c);let l=new M;for(const c of s)c.appendTo(l,i);return l}toString(){return Z.format("%s bits=%d bytes=%d",qC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}$r.INITIAL_STATE=new $r(YC,Ii,0,0);function QC(R){const i=Z.getCharCode(" "),s=Z.getCharCode("."),l=Z.getCharCode(",");R[Ii][i]=1;const c=Z.getCharCode("Z"),d=Z.getCharCode("A");for(let D=d;D<=c;D++)R[Ii][D]=D-d+2;R[gc][i]=1;const f=Z.getCharCode("z"),g=Z.getCharCode("a");for(let D=g;D<=f;D++)R[gc][D]=D-g+2;R[or][i]=1;const w=Z.getCharCode("9"),x=Z.getCharCode("0");for(let D=x;D<=w;D++)R[or][D]=D-x+2;R[or][l]=12,R[or][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<C.length;D++)R[Og][Z.getCharCode(C[D])]=D;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<O.length;D++)Z.getCharCode(O[D])>0&&(R[Hr][Z.getCharCode(O[D])]=D);return R}const ef=QC(A.createInt32Array(5,256));class za{constructor(i){this.text=i}encode(){const i=Z.getCharCode(" "),s=Z.getCharCode(`
`);let l=Ng.singletonList($r.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,g=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Z.getCharCode("\r"):f=g===s?2:0;break;case Z.getCharCode("."):f=g===i?3:0;break;case Z.getCharCode(","):f=g===i?4:0;break;case Z.getCharCode(":"):f=g===i?5:0;break;default:f=0}f>0?(l=za.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return Ng.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const l=[];for(let c of i)this.updateStateForChar(c,s,l);return za.simplifyStates(l)}updateStateForChar(i,s,l){let c=this.text[s]&255,d=ef[i.getMode()][c]>0,f=null;for(let g=0;g<=Hr;g++){let w=ef[g][c];if(w>0){if(f==null&&(f=i.endBinaryShift(s)),!d||g===i.getMode()||g===or){const x=f.latchAndAppend(g,w);l.push(x)}if(!d&&kg[i.getMode()][g]>=0){const x=f.shiftAndAppend(g,w);l.push(x)}}}if(i.getBinaryShiftByteCount()>0||ef[i.getMode()][c]===0){let g=i.addBinaryShiftChar(s);l.push(g)}}static updateStateListForPair(i,s,l){const c=[];for(let d of i)this.updateStateForPair(d,s,l,c);return this.simplifyStates(c)}static updateStateForPair(i,s,l,c){let d=i.endBinaryShift(s);if(c.push(d.latchAndAppend(Hr,l)),i.getMode()!==Hr&&c.push(d.shiftAndAppend(Hr,l)),l===3||l===4){let f=d.latchAndAppend(or,16-l).latchAndAppend(or,1);c.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(f)}}static simplifyStates(i){let s=[];for(const l of i){let c=!0;for(const d of s){if(d.isBetterThanOrEqualTo(l)){c=!1;break}l.isBetterThanOrEqualTo(d)&&(s=s.filter(f=>f!==d))}c&&s.push(l)}return s}}class Qe{constructor(){}static encodeBytes(i){return Qe.encode(i,Qe.DEFAULT_EC_PERCENT,Qe.DEFAULT_AZTEC_LAYERS)}static encode(i,s,l){let c=new za(i).encode(),d=_.truncDivision(c.getSize()*s,100)+11,f=c.getSize()+d,g,w,x,C,O;if(l!==Qe.DEFAULT_AZTEC_LAYERS){if(g=l<0,w=Math.abs(l),w>(g?Qe.MAX_NB_BITS_COMPACT:Qe.MAX_NB_BITS))throw new v(Z.format("Illegal value %s for layers",l));x=Qe.totalBitsInLayer(w,g),C=Qe.WORD_SIZE[w];let ne=x-x%C;if(O=Qe.stuffBits(c,C),O.getSize()+d>ne)throw new v("Data to large for user specified layer");if(g&&O.getSize()>C*64)throw new v("Data to large for user specified layer")}else{C=0,O=null;for(let ne=0;;ne++){if(ne>Qe.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(g=ne<=3,w=g?ne+1:ne,x=Qe.totalBitsInLayer(w,g),f>x)continue;(O==null||C!==Qe.WORD_SIZE[w])&&(C=Qe.WORD_SIZE[w],O=Qe.stuffBits(c,C));let Ke=x-x%C;if(!(g&&O.getSize()>C*64)&&O.getSize()+d<=Ke)break}}let D=Qe.generateCheckWords(O,x,C),B=O.getSize()/C,U=Qe.generateModeMessage(g,w,B),W=(g?11:14)+w*4,G=new Int32Array(W),q;if(g){q=W;for(let ne=0;ne<G.length;ne++)G[ne]=ne}else{q=W+1+2*_.truncDivision(_.truncDivision(W,2)-1,15);let ne=_.truncDivision(W,2),Ke=_.truncDivision(q,2);for(let Be=0;Be<ne;Be++){let Dn=Be+_.truncDivision(Be,15);G[ne-Be-1]=Ke-Dn-1,G[ne+Be]=Ke+Dn+1}}let oe=new te(q);for(let ne=0,Ke=0;ne<w;ne++){let Be=(w-ne)*4+(g?9:12);for(let Dn=0;Dn<Be;Dn++){let yr=Dn*2;for(let Mn=0;Mn<2;Mn++)D.get(Ke+yr+Mn)&&oe.set(G[ne*2+Mn],G[ne*2+Dn]),D.get(Ke+Be*2+yr+Mn)&&oe.set(G[ne*2+Dn],G[W-1-ne*2-Mn]),D.get(Ke+Be*4+yr+Mn)&&oe.set(G[W-1-ne*2-Mn],G[W-1-ne*2-Dn]),D.get(Ke+Be*6+yr+Mn)&&oe.set(G[W-1-ne*2-Dn],G[ne*2+Mn])}Ke+=Be*8}if(Qe.drawModeMessage(oe,g,q,U),g)Qe.drawBullsEye(oe,_.truncDivision(q,2),5);else{Qe.drawBullsEye(oe,_.truncDivision(q,2),7);for(let ne=0,Ke=0;ne<_.truncDivision(W,2)-1;ne+=15,Ke+=16)for(let Be=_.truncDivision(q,2)&1;Be<q;Be+=2)oe.set(_.truncDivision(q,2)-Ke,Be),oe.set(_.truncDivision(q,2)+Ke,Be),oe.set(Be,_.truncDivision(q,2)-Ke),oe.set(Be,_.truncDivision(q,2)+Ke)}let ae=new Rg;return ae.setCompact(g),ae.setSize(q),ae.setLayers(w),ae.setCodeWords(B),ae.setMatrix(oe),ae}static drawBullsEye(i,s,l){for(let c=0;c<l;c+=2)for(let d=s-c;d<=s+c;d++)i.set(d,s-c),i.set(d,s+c),i.set(s-c,d),i.set(s+c,d);i.set(s-l,s-l),i.set(s-l+1,s-l),i.set(s-l,s-l+1),i.set(s+l,s-l),i.set(s+l,s-l+1),i.set(s+l,s+l-1)}static generateModeMessage(i,s,l){let c=new M;return i?(c.appendBits(s-1,2),c.appendBits(l-1,6),c=Qe.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(l-1,11),c=Qe.generateCheckWords(c,40,4)),c}static drawModeMessage(i,s,l,c){let d=_.truncDivision(l,2);if(s)for(let f=0;f<7;f++){let g=d-3+f;c.get(f)&&i.set(g,d-5),c.get(f+7)&&i.set(d+5,g),c.get(20-f)&&i.set(g,d+5),c.get(27-f)&&i.set(d-5,g)}else for(let f=0;f<10;f++){let g=d-5+f+_.truncDivision(f,5);c.get(f)&&i.set(g,d-7),c.get(f+10)&&i.set(d+7,g),c.get(29-f)&&i.set(g,d+7),c.get(39-f)&&i.set(d-7,g)}}static generateCheckWords(i,s,l){let c=i.getSize()/l,d=new qd(Qe.getGF(l)),f=_.truncDivision(s,l),g=Qe.bitsToWords(i,l,f);d.encode(g,f-c);let w=s%l,x=new M;x.appendBits(0,w);for(const C of Array.from(g))x.appendBits(C,l);return x}static bitsToWords(i,s,l){let c=new Int32Array(l),d,f;for(d=0,f=i.getSize()/s;d<f;d++){let g=0;for(let w=0;w<s;w++)g|=i.get(d*s+w)?1<<s-w-1:0;c[d]=g}return c}static getGF(i){switch(i){case 4:return De.AZTEC_PARAM;case 6:return De.AZTEC_DATA_6;case 8:return De.AZTEC_DATA_8;case 10:return De.AZTEC_DATA_10;case 12:return De.AZTEC_DATA_12;default:throw new v("Unsupported word size "+i)}}static stuffBits(i,s){let l=new M,c=i.getSize(),d=(1<<s)-2;for(let f=0;f<c;f+=s){let g=0;for(let w=0;w<s;w++)(f+w>=c||i.get(f+w))&&(g|=1<<s-1-w);(g&d)===d?(l.appendBits(g&d,s),f--):g&d?l.appendBits(g,s):(l.appendBits(g|1,s),f--)}return l}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}Qe.DEFAULT_EC_PERCENT=33,Qe.DEFAULT_AZTEC_LAYERS=0,Qe.MAX_NB_BITS=32,Qe.MAX_NB_BITS_COMPACT=4,Qe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class pc{encode(i,s,l,c){return this.encodeWithHints(i,s,l,c,null)}encodeWithHints(i,s,l,c,d){let f=Zd.ISO_8859_1,g=Qe.DEFAULT_EC_PERCENT,w=Qe.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Gt.CHARACTER_SET)&&(f=Ig.forName(d.get(Gt.CHARACTER_SET).toString())),d.has(Gt.ERROR_CORRECTION)&&(g=_.parseInt(d.get(Gt.ERROR_CORRECTION).toString())),d.has(Gt.AZTEC_LAYERS)&&(w=_.parseInt(d.get(Gt.AZTEC_LAYERS).toString()))),pc.encodeLayers(i,s,l,c,f,g,w)}static encodeLayers(i,s,l,c,d,f,g){if(s!==pe.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let w=Qe.encode(Z.getBytes(i,d),f,g);return pc.renderResult(w,l,c)}static renderResult(i,s,l){let c=i.getMatrix();if(c==null)throw new Qt;let d=c.getWidth(),f=c.getHeight(),g=Math.max(s,d),w=Math.max(l,f),x=Math.min(g/d,w/f),C=(g-d*x)/2,O=(w-f*x)/2,D=new te(g,w);for(let B=0,U=O;B<f;B++,U+=x)for(let W=0,G=C;W<d;W++,G+=x)c.get(W,B)&&D.setRegion(G,U,x,x);return D}}n.AbstractExpandedDecoder=jd,n.ArgumentException=y,n.ArithmeticException=Ge,n.AztecCode=Rg,n.AztecCodeReader=fo,n.AztecCodeWriter=pc,n.AztecDecoder=et,n.AztecDetector=Es,n.AztecDetectorResult=jr,n.AztecEncoder=Qe,n.AztecHighLevelEncoder=za,n.AztecPoint=sn,n.BarcodeFormat=pe,n.Binarizer=P,n.BinaryBitmap=b,n.BitArray=M,n.BitMatrix=te,n.BitSource=zd,n.BrowserAztecCodeReader=oc,n.BrowserBarcodeReader=RC,n.BrowserCodeReader=Ne,n.BrowserDatamatrixCodeReader=OC,n.BrowserMultiFormatReader=WC,n.BrowserPDF417Reader=zC,n.BrowserQRCodeReader=HC,n.BrowserQRCodeSvgWriter=_s,n.CharacterSetECI=z,n.ChecksumException=E,n.Code128Reader=ce,n.Code39Reader=kt,n.DataMatrixDecodedBitStreamParser=Si,n.DataMatrixReader=Ai,n.DecodeHintType=V,n.DecoderResult=at,n.DefaultGridSampler=ii,n.DetectorResult=vs,n.EAN13Reader=wr,n.EncodeHintType=Gt,n.Exception=p,n.FormatException=F,n.GenericGF=De,n.GenericGFPoly=Oe,n.GlobalHistogramBinarizer=le,n.GridSampler=Da,n.GridSamplerInstance=Ur,n.HTMLCanvasElementLuminanceSource=de,n.HybridBinarizer=ie,n.ITFReader=Ye,n.IllegalArgumentException=v,n.IllegalStateException=Qt,n.InvertedLuminanceSource=Q,n.LuminanceSource=Y,n.MathUtils=Ue,n.MultiFormatOneDReader=mo,n.MultiFormatReader=Tg,n.MultiFormatWriter=GC,n.NotFoundException=H,n.OneDReader=Ct,n.PDF417DecodedBitStreamParser=K,n.PDF417DecoderErrorCorrection=Eg,n.PDF417Reader=an,n.PDF417ResultMetadata=Cg,n.PerspectiveTransform=bt,n.PlanarYUVLuminanceSource=zr,n.QRCodeByteMatrix=hc,n.QRCodeDataMask=ir,n.QRCodeDecodedBitStreamParser=Tt,n.QRCodeDecoderErrorCorrectionLevel=dt,n.QRCodeDecoderFormatInformation=gn,n.QRCodeEncoder=mt,n.QRCodeEncoderQRCode=As,n.QRCodeMaskUtil=Dt,n.QRCodeMatrixUtil=Te,n.QRCodeMode=_e,n.QRCodeReader=_i,n.QRCodeVersion=Ce,n.QRCodeWriter=xo,n.RGBLuminanceSource=Yd,n.RSS14Reader=Pt,n.RSSExpandedReader=ee,n.ReaderException=fc,n.ReedSolomonDecoder=Nn,n.ReedSolomonEncoder=qd,n.ReedSolomonException=Wt,n.Result=be,n.ResultMetadataType=Pe,n.ResultPoint=we,n.StringUtils=Z,n.UnsupportedOperationException=re,n.VideoInputDevice=Ie,n.WhiteRectangleDetector=mr,n.WriterException=ct,n.ZXingArrays=A,n.ZXingCharset=Ig,n.ZXingInteger=_,n.ZXingStandardCharsets=Zd,n.ZXingStringBuilder=fe,n.ZXingStringEncoding=ge,n.ZXingSystem=S,n.createAbstractExpandedDecoder=yg,Object.defineProperty(n,"__esModule",{value:!0})})})(a0,a0.exports);var yt=a0.exports;const rR=O0(yt),iR=N0({__proto__:null,default:rR},[yt]);var Nm=function(){function e(t,n,r){if(this.formatMap=new Map([[ye.QR_CODE,yt.BarcodeFormat.QR_CODE],[ye.AZTEC,yt.BarcodeFormat.AZTEC],[ye.CODABAR,yt.BarcodeFormat.CODABAR],[ye.CODE_39,yt.BarcodeFormat.CODE_39],[ye.CODE_93,yt.BarcodeFormat.CODE_93],[ye.CODE_128,yt.BarcodeFormat.CODE_128],[ye.DATA_MATRIX,yt.BarcodeFormat.DATA_MATRIX],[ye.MAXICODE,yt.BarcodeFormat.MAXICODE],[ye.ITF,yt.BarcodeFormat.ITF],[ye.EAN_13,yt.BarcodeFormat.EAN_13],[ye.EAN_8,yt.BarcodeFormat.EAN_8],[ye.PDF_417,yt.BarcodeFormat.PDF_417],[ye.RSS_14,yt.BarcodeFormat.RSS_14],[ye.RSS_EXPANDED,yt.BarcodeFormat.RSS_EXPANDED],[ye.UPC_A,yt.BarcodeFormat.UPC_A],[ye.UPC_E,yt.BarcodeFormat.UPC_E],[ye.UPC_EAN_EXTENSION,yt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!iR)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),a=new Map;a.set(yt.DecodeHintType.POSSIBLE_FORMATS,o),a.set(yt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(a){o(a)}})},e.prototype.decode=function(t){var n=new yt.MultiFormatReader(this.verbose,this.hints),r=new yt.HTMLCanvasElementLuminanceSource(t),o=new yt.BinaryBitmap(new yt.HybridBinarizer(r)),a=n.decode(o);return{text:a.text,format:N2.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),sR=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},oR=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Om=function(){function e(t,n,r){if(this.formatMap=new Map([[ye.QR_CODE,"qr_code"],[ye.AZTEC,"aztec"],[ye.CODABAR,"codabar"],[ye.CODE_39,"code_39"],[ye.CODE_93,"code_93"],[ye.CODE_128,"code_128"],[ye.DATA_MATRIX,"data_matrix"],[ye.ITF,"itf"],[ye.EAN_13,"ean_13"],[ye.EAN_8,"ean_8"],[ye.PDF_417,"pdf417"],[ye.UPC_A,"upc_a"],[ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return sR(this,void 0,void 0,function(){var n,r;return oR(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:N2.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,a=t;o<a.length;o++){var u=a[o],h=u.boundingBox.width*u.boundingBox.height;h>r&&(r=h,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),km=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},Pm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},aR=function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Om.isSupported()?(this.primaryDecoder=new Om(t,r,o),this.secondaryDecoder=new Nm(t,r,o)):this.primaryDecoder=new Nm(t,r,o)}return e.prototype.decodeAsync=function(t){return km(this,void 0,void 0,function(){var n;return Pm(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return km(this,void 0,void 0,function(){var n,r;return Pm(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),K1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},Ku=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},k2=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),lR=function(e){K1(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(k2),cR=function(e){K1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(lR),uR=function(e){K1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(k2),dR=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new cR(this.track)},e.prototype.torchFeature=function(){return new uR(this.track)},e}(),fR=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return Xu(this,void 0,void 0,function(){var a,u;return Ku(this,function(h){switch(h.label){case 0:return a=new e(t,n,o),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Xu(this,void 0,void 0,function(){return Ku(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),a=o.length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new dR(this.getFirstTrackOrFail())},e}(),hR=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Xu(this,void 0,void 0,function(){return Ku(this,function(o){return[2,fR.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Xu(this,void 0,void 0,function(){var n,r;return Ku(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e}(),Dm=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},Mm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gR=function(){function e(){}return e.failIfNotSupported=function(){return Dm(this,void 0,void 0,function(){return Mm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Dm(this,void 0,void 0,function(){return Mm(this,function(n){return[2,hR.create(t)]})})},e}(),pR=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})},mR=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wR=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=$o.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=$o.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return pR(this,void 0,void 0,function(){var t,n,r,o,a,u,h;return mR(this,function(m){switch(m.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),v=0,b=y;v<b.length;v++){var E=b[v];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),o=[],a=0,u=r;a<u.length;a++)h=u[a],h.kind==="videoinput"&&o.push({id:h.deviceId,label:h.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var u=[],h=0,m=a;h<m.length;h++){var p=m[h];p.kind==="video"&&u.push({id:p.id,label:p.label})}t(u)},o=MediaStreamTrack;o.getSources(r)})},e}(),Lt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Lt||(Lt={}));var xR=function(){function e(){this.state=Lt.NOT_STARTED,this.onGoingTransactionNewState=Lt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Lt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Lt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Lt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Lt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Lt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Lt.UNKNOWN:throw"Transition from unknown is not allowed";case Lt.NOT_STARTED:this.failIfNewStateIs(t,[Lt.PAUSED]);break;case Lt.SCANNING:break;case Lt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),yR=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Lt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Lt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Lt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Lt.PAUSED},e}(),vR=function(){function e(){}return e.create=function(){return new yR(new xR)},e}(),ER=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$n=function(e){ER(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(eR),bR=function(){function e(t,n){this.logger=n,this.fps=$n.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=$n.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?O2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!li(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),CR=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new nR(this.verbose),this.qrcode=new aR(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=vR.create()}return e.prototype.start=function(t,n,r,o){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;o?u=o:u=this.verbose?this.logger.log:function(){};var h=bR.create(n,this.logger);this.clearElement();var m=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:$n.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,b=this.stateManagerProxy.startTransition(Lt.SCANNING);return new Promise(function(E,P){var S=p?h.videoConstraints:v.createVideoConstraints(t);if(!S){b.cancel(),P("videoConstraints should be defined");return}var k={};(!p||h.aspectRatio)&&(k.aspectRatio=h.aspectRatio);var N={onRenderSurfaceReady:function(A,_){v.setupUi(A,_,h),v.isScanning=!0,v.foreverScan(h,r,u)}};gR.failIfNotSupported().then(function(A){A.create(S).then(function(_){return _.render(a.element,k,N).then(function(M){v.renderedCamera=M,b.execute(),E(null)}).catch(function(M){b.cancel(),P(M)})}).catch(function(_){b.cancel(),P($o.errorGettingUserMedia(_))})}).catch(function(A){b.cancel(),P($o.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Lt.PAUSED),this.showPausedState(),(li(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Lt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Lt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById($n.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(li(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,m=u.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:$n.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:m,$n.FILE_SCAN_MIN_HEIGHT),b=r.computeCanvasDrawConfig(h,m,y,v);if(n){var E=r.createCanvasElement(y,v,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var P=E.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=y,P.canvas.height=v,P.drawImage(u,0,0,h,m,b.x,b.y,b.width,b.height)}var S=$n.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(u.width,b.width),N=Math.max(u.height,b.height),A=k+2*S,_=N+2*S,M=r.createCanvasElement(A,_);p.appendChild(M);var j=M.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=A,j.canvas.height=_,j.drawImage(u,0,0,h,m,S,S,k,N);try{r.qrcode.decodeRobustlyAsync(M).then(function(V){o(Rm.createFromQrcodeResult(V))}).catch(a)}catch(V){a("QR code parse error, error = ".concat(V))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return wR.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!O2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ye.QR_CODE,ye.AZTEC,ye.CODABAR,ye.CODE_39,ye.CODE_93,ye.CODE_128,ye.DATA_MATRIX,ye.MAXICODE,ye.ITF,ye.EAN_13,ye.EAN_8,ye.PDF_417,ye.RSS_14,ye.RSS_EXPANDED,ye.UPC_A,ye.UPC_E,ye.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,a=t.formatsToSupport;o<a.length;o++){var u=a[o];J4(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(li(t))return!0;if(!li(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(li(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return li(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a),h=function(p){if(p<$n.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($n.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};h(u.width),h(u.height),u.width=m(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=li(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var a=this.toQrdimensions(t,n,o);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},m=u?this.getShadedRegionBounds(t,n,a):h,p=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},v=p.getContext("2d",y);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=$o.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Rm.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var a=$o.codeParseError(o);return n(a,tR.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*u,p=this.qrRegion.height*h,y=this.qrRegion.x*u,v=this.qrRegion.y*h;this.context.drawImage(a,y,v,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(E){!E&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){b()})):b()}).catch(function(E){o.logger.logError("Error happend while scanning context",E),b()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},a="exact",u=function(P){if(P in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=t.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(u(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var b=typeof v;throw"Invalid type of 'deviceId' = ".concat(b)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var a=(r-t)/2,u=(o-n)/2;return{x:a,y:u,width:t,height:n}}else{var h=t,m=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?$n.BORDER_SHADER_MATCH_COLOR:$n.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(o,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=li(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-o.width)/2,h=(r-o.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat($n.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(a,p,m,-m,null,0,!0),this.insertShaderBorders(a,p,m,-m,null,0,!1),this.insertShaderBorders(a,p,m,null,-m,0,!0),this.insertShaderBorders(a,p,m,null,-m,0,!1),this.insertShaderBorders(a,m,p+m,-m,null,-m,!0),this.insertShaderBorders(a,m,p+m,null,-m,-m,!0),this.insertShaderBorders(a,m,p+m,-m,null,-m,!1),this.insertShaderBorders(a,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,o,a,u,h){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=$n.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),o!==null&&(m.style.top="".concat(o,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),h?m.style.left="".concat(u,"px"):m.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Lm;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Lm||(Lm={}));const SR=()=>{const e=rc(),t=T.useRef(null),[n,r]=T.useState(!1);return T.useEffect(()=>{const o=new CR("qr-reader");return t.current=o,(async()=>{try{await o.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},u=>{Et.success("QR Code detected!"),o.stop(),e(`/planogram/${u}`)},()=>{}),r(!0)}catch(u){console.error("Scanner error:",u),Et.error("Failed to start camera. Please check permissions.")}})(),()=>{o.isScanning&&o.stop().catch(console.error)}},[e]),I.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[I.jsx("header",{className:"p-4 border-b border-border",children:I.jsxs(Zt,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"gap-2",children:[I.jsx(vv,{className:"h-4 w-4"}),"Back"]})}),I.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6",children:I.jsxs("div",{className:"w-full max-w-md space-y-6",children:[I.jsxs("div",{className:"text-center space-y-2",children:[I.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:I.jsx(_3,{className:"h-8 w-8 text-primary"})}),I.jsx("h1",{className:"text-2xl font-bold",children:"Scan QR Code"}),I.jsx("p",{className:"text-muted-foreground",children:"Point your camera at the CDE's QR code"})]}),I.jsx("div",{id:"qr-reader",className:"rounded-lg overflow-hidden border-4 border-primary shadow-lg",style:{width:"100%"}}),n&&I.jsx("div",{className:"text-center",children:I.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-secondary/20 text-secondary text-sm font-medium",children:[I.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full animate-pulse"}),"Scanning..."]})})]})})]})};var l0=function(e,t){return l0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},l0(e,t)};function P2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l0(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ur=function(){return ur=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ur.apply(this,arguments)};function ps(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function D2(e,t,n,r){var o=arguments.length,a=o<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var h=e.length-1;h>=0;h--)(u=e[h])&&(a=(o<3?u(a):o>3?u(t,n,a):u(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function M2(e,t){return function(n,r){t(n,r,e)}}function L2(e,t,n,r,o,a){function u(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var h=r.kind,m=h==="getter"?"get":h==="setter"?"set":"value",p=!t&&e?r.static?e:e.prototype:null,y=t||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),v,b=!1,E=n.length-1;E>=0;E--){var P={};for(var S in r)P[S]=S==="access"?{}:r[S];for(var S in r.access)P.access[S]=r.access[S];P.addInitializer=function(N){if(b)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(N||null))};var k=(0,n[E])(h==="accessor"?{get:y.get,set:y.set}:y[m],P);if(h==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(v=u(k.get))&&(y.get=v),(v=u(k.set))&&(y.set=v),(v=u(k.init))&&o.unshift(v)}else(v=u(k))&&(h==="field"?o.unshift(v):y[m]=v)}p&&Object.defineProperty(p,r.name,y),b=!0}function B2(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function F2(e){return typeof e=="symbol"?e:"".concat(e)}function j2(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function U2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ee(e,t,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(y){try{p(r.next(y))}catch(v){u(v)}}function m(y){try{p(r.throw(y))}catch(v){u(v)}}function p(y){y.done?a(y.value):o(y.value).then(h,m)}p((r=r.apply(e,t||[])).next())})}function V2(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=h(0),u.throw=h(1),u.return=h(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Od=Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function W2(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Od(t,e,n)}function qu(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function q1(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function z2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q1(arguments[t]));return e}function H2(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],u=0,h=a.length;u<h;u++,o++)r[o]=a[u];return r}function Y1(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Ea(e){return this instanceof Ea?(this.v=e,this):new Ea(e)}function $2(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(E){return function(P){return Promise.resolve(P).then(E,v)}}function h(E,P){r[E]&&(o[E]=function(S){return new Promise(function(k,N){a.push([E,S,k,N])>1||m(E,S)})},P&&(o[E]=P(o[E])))}function m(E,P){try{p(r[E](P))}catch(S){b(a[0][3],S)}}function p(E){E.value instanceof Ea?Promise.resolve(E.value.v).then(y,v):b(a[0][2],E)}function y(E){m("next",E)}function v(E){m("throw",E)}function b(E,P){E(P),a.shift(),a.length&&m(a[0][0],a[0][1])}}function G2(e){var t,n;return t={},r("next"),r("throw",function(o){throw o}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(o,a){t[o]=e[o]?function(u){return(n=!n)?{value:Ea(e[o](u)),done:!1}:a?a(u):u}:a}}function X2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof qu=="function"?qu(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(u){return new Promise(function(h,m){u=e[a](u),o(h,m,u.done,u.value)})}}function o(a,u,h,m){Promise.resolve(m).then(function(p){a({value:p,done:h})},u)}}function K2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var AR=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},c0=function(e){return c0=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},c0(e)};function q2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=c0(e),r=0;r<n.length;r++)n[r]!=="default"&&Od(t,e,n[r]);return AR(t,e),t}function Y2(e){return e&&e.__esModule?e:{default:e}}function Z2(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Q2(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n}function J2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function eE(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var _R=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function tE(e){function t(a){e.error=e.hasError?new _R(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function o(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(u){return t(u),o()})}else r|=1}catch(u){t(u)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function nE(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,a,u){return r?t?".jsx":".js":o&&(!a||!u)?n:o+a+"."+u.toLowerCase()+"js"}):e}const TR={__extends:P2,__assign:ur,__rest:ps,__decorate:D2,__param:M2,__esDecorate:L2,__runInitializers:B2,__propKey:F2,__setFunctionName:j2,__metadata:U2,__awaiter:Ee,__generator:V2,__createBinding:Od,__exportStar:W2,__values:qu,__read:q1,__spread:z2,__spreadArrays:H2,__spreadArray:Y1,__await:Ea,__asyncGenerator:$2,__asyncDelegator:G2,__asyncValues:X2,__makeTemplateObject:K2,__importStar:q2,__importDefault:Y2,__classPrivateFieldGet:Z2,__classPrivateFieldSet:Q2,__classPrivateFieldIn:J2,__addDisposableResource:eE,__disposeResources:tE,__rewriteRelativeImportExtension:nE},IR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eE,get __assign(){return ur},__asyncDelegator:G2,__asyncGenerator:$2,__asyncValues:X2,__await:Ea,__awaiter:Ee,__classPrivateFieldGet:Z2,__classPrivateFieldIn:J2,__classPrivateFieldSet:Q2,__createBinding:Od,__decorate:D2,__disposeResources:tE,__esDecorate:L2,__exportStar:W2,__extends:P2,__generator:V2,__importDefault:Y2,__importStar:q2,__makeTemplateObject:K2,__metadata:U2,__param:M2,__propKey:F2,__read:q1,__rest:ps,__rewriteRelativeImportExtension:nE,__runInitializers:B2,__setFunctionName:j2,__spread:z2,__spreadArray:Y1,__spreadArrays:H2,__values:qu,default:TR},Symbol.toStringTag,{value:"Module"})),RR="modulepreload",NR=function(e){return"/planogram-snap/"+e},Bm={},Na=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(m=>{if(m=NR(m),m in Bm)return;Bm[m]=!0;const p=m.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":RR,p||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((b,E)=>{v.addEventListener("load",b),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return t().catch(a)})},OR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>uo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Z1 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fm extends Z1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jm extends Z1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Um extends Z1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var u0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(u0||(u0={}));class kR{constructor(t,{headers:n={},customFetch:r,region:o=u0.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=OR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ee(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:a,method:u,body:h,signal:m}=r;let p={},{region:y}=r;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(p["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let b;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(p["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(p["Content-Type"]="application/json",b=JSON.stringify(h)):b=h;const E=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:b,signal:m}).catch(N=>{throw N.name==="AbortError"?N:new Fm(N)}),P=E.headers.get("x-relay-error");if(P&&P==="true")throw new jm(E);if(!E.ok)throw new Um(E);let S=((o=E.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),k;return S==="application/json"?k=yield E.json():S==="application/octet-stream"||S==="application/pdf"?k=yield E.blob():S==="text/event-stream"?k=E:S==="multipart/form-data"?k=yield E.formData():k=yield E.text(),{data:k,error:null,response:E}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new Fm(a)}:{data:null,error:a,response:a instanceof Um||a instanceof jm?a.context:void 0}}})}}var _n={};const Oa=Nw(IR);var jc={},Uc={},Vc={},Wc={},zc={},PR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ba=PR();const DR=ba.fetch,rE=ba.fetch.bind(ba),iE=ba.Headers,MR=ba.Request,LR=ba.Response,uo=Object.freeze(Object.defineProperty({__proto__:null,Headers:iE,Request:MR,Response:LR,default:rE,fetch:DR},Symbol.toStringTag,{value:"Module"})),BR=Nw(uo);var Hc={},Vm;function sE(){if(Vm)return Hc;Vm=1,Object.defineProperty(Hc,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Hc.default=e,Hc}var Wm;function oE(){if(Wm)return zc;Wm=1,Object.defineProperty(zc,"__esModule",{value:!0});const e=Oa,t=e.__importDefault(BR),n=e.__importDefault(sE());class r{constructor(a){var u,h;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(u=a.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=a.signal,this.isMaybeSingle=(h=a.isMaybeSingle)!==null&&h!==void 0?h:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,u){return this.headers=new Headers(this.headers),this.headers.set(a,u),this}then(a,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,v,b,E;let P=null,S=null,k=null,N=p.status,A=p.statusText;if(p.ok){if(this.method!=="HEAD"){const V=await p.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?S=V:S=JSON.parse(V))}const M=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),j=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");M&&j&&j.length>1&&(k=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(P={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,N=406,A="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const M=await p.text();try{P=JSON.parse(M),Array.isArray(P)&&p.status===404&&(S=[],P=null,N=200,A="OK")}catch{p.status===404&&M===""?(N=204,A="No Content"):P={message:M}}if(P&&this.isMaybeSingle&&(!((E=P==null?void 0:P.details)===null||E===void 0)&&E.includes("0 rows"))&&(P=null,N=200,A="OK"),P&&this.shouldThrowOnError)throw new n.default(P)}return{error:P,data:S,count:k,status:N,statusText:A}});return this.shouldThrowOnError||(m=m.catch(p=>{var y,v,b;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),m.then(a,u)}returns(){return this}overrideTypes(){return this}}return zc.default=r,zc}var zm;function aE(){if(zm)return Wc;zm=1,Object.defineProperty(Wc,"__esModule",{value:!0});const t=Oa.__importDefault(oE());class n extends t.default{select(o){let a=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var y;const v=[o?"analyze":null,a?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Wc.default=n,Wc}var Hm;function Q1(){if(Hm)return Vc;Hm=1,Object.defineProperty(Vc,"__esModule",{value:!0});const t=Oa.__importDefault(aE()),n=new RegExp("[,()]");class r extends t.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(a,`in.(${h})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(a,`${p}fts${y}.${u}`),this}match(a){return Object.entries(a).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(a,u,h){return this.url.searchParams.append(a,`not.${u}.${h}`),this}or(a,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${a})`),this}filter(a,u,h){return this.url.searchParams.append(a,`${u}.${h}`),this}}return Vc.default=r,Vc}var $m;function lE(){if($m)return Uc;$m=1,Object.defineProperty(Uc,"__esModule",{value:!0});const t=Oa.__importDefault(Q1());class n{constructor(o,{headers:a={},schema:u,fetch:h}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=h}select(o,a){const{head:u=!1,count:h}=a??{},m=u?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var h;const m="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),h&&this.headers.append("Prefer",`count=${h}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const v=o.reduce((b,E)=>b.concat(Object.keys(E)),[]);if(v.length>0){const b=[...new Set(v)].map(E=>`"${E}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const h="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Uc.default=n,Uc}var Gm;function FR(){if(Gm)return jc;Gm=1,Object.defineProperty(jc,"__esModule",{value:!0});const e=Oa,t=e.__importDefault(lE()),n=e.__importDefault(Q1());class r{constructor(a,{headers:u={},schema:h,fetch:m}={}){this.url=a,this.headers=new Headers(u),this.schemaName=h,this.fetch=m}from(a){const u=new URL(`${this.url}/${a}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:h=!1,get:m=!1,count:p}={}){var y;let v;const b=new URL(`${this.url}/rpc/${a}`);let E;h||m?(v=h?"HEAD":"GET",Object.entries(u).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{b.searchParams.append(S,k)})):(v="POST",E=u);const P=new Headers(this.headers);return p&&P.set("Prefer",`count=${p}`),new n.default({method:v,url:b,headers:P,schema:this.schemaName,body:E,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return jc.default=r,jc}Object.defineProperty(_n,"__esModule",{value:!0});var cE=_n.PostgrestError=yE=_n.PostgrestBuilder=wE=_n.PostgrestTransformBuilder=pE=_n.PostgrestFilterBuilder=hE=_n.PostgrestQueryBuilder=dE=_n.PostgrestClient=void 0;const ka=Oa,uE=ka.__importDefault(FR());var dE=_n.PostgrestClient=uE.default;const fE=ka.__importDefault(lE());var hE=_n.PostgrestQueryBuilder=fE.default;const gE=ka.__importDefault(Q1());var pE=_n.PostgrestFilterBuilder=gE.default;const mE=ka.__importDefault(aE());var wE=_n.PostgrestTransformBuilder=mE.default;const xE=ka.__importDefault(oE());var yE=_n.PostgrestBuilder=xE.default;const vE=ka.__importDefault(sE());cE=_n.PostgrestError=vE.default;var EE=_n.default={PostgrestClient:uE.default,PostgrestQueryBuilder:fE.default,PostgrestFilterBuilder:gE.default,PostgrestTransformBuilder:mE.default,PostgrestBuilder:xE.default,PostgrestError:vE.default};const jR=N0({__proto__:null,get PostgrestBuilder(){return yE},get PostgrestClient(){return dE},get PostgrestError(){return cE},get PostgrestFilterBuilder(){return pE},get PostgrestQueryBuilder(){return hE},get PostgrestTransformBuilder(){return wE},default:EE},[_n]),{PostgrestClient:UR,PostgrestQueryBuilder:bP,PostgrestFilterBuilder:CP,PostgrestTransformBuilder:SP,PostgrestBuilder:AP,PostgrestError:_P}=EE||jR;class VR{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const WR="2.78.0",zR=`realtime-js/${WR}`,HR="1.0.0",d0=1e4,$R=1e3,GR=100;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var Xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xt||(Xt={}));var Or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Or||(Or={}));var f0;(function(e){e.websocket="websocket"})(f0||(f0={}));var Ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ps||(Ps={}));class XR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(t.slice(u,u+o));u=u+o;const m=r.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class bE{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const Xm=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,u)=>(a[u]=KR(u,e,t,o),a),{}):{}},KR=(e,t,n,r)=>{const o=t.find(h=>h.name===e),a=o==null?void 0:o.type,u=n[e];return a&&!r.includes(a)?CE(a,u):h0(u)},CE=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return QR(t,n)}switch(e){case ft.bool:return qR(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return YR(t);case ft.json:case ft.jsonb:return ZR(t);case ft.timestamp:return JR(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return h0(t);default:return h0(t)}},h0=e=>e,qR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},YR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ZR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},QR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const u=e.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>CE(t,h))}return e},JR=e=>typeof e=="string"?e.replace(" ","T"):e,SE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Bf{constructor(t,n,r={},o=d0){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Km;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Km||(Km={}));class xl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xl.syncState(this.state,o,a,u),this.pendingDiffs.forEach(m=>{this.state=xl.syncDiff(this.state,m,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=xl.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const a=this.cloneDeep(t),u=this.transformState(n),h={},m={};return this.map(a,(p,y)=>{u[p]||(m[p]=y)}),this.map(u,(p,y)=>{const v=a[p];if(v){const b=y.map(k=>k.presence_ref),E=v.map(k=>k.presence_ref),P=y.filter(k=>E.indexOf(k.presence_ref)<0),S=v.filter(k=>b.indexOf(k.presence_ref)<0);P.length>0&&(h[p]=P),S.length>0&&(m[p]=S)}else h[p]=y}),this.syncDiff(a,{joins:h,leaves:m},r,o)}static syncDiff(t,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,m)=>{var p;const y=(p=t[h])!==null&&p!==void 0?p:[];if(t[h]=this.cloneDeep(m),y.length>0){const v=t[h].map(E=>E.presence_ref),b=y.filter(E=>v.indexOf(E.presence_ref)<0);t[h].unshift(...b)}r(h,y,m)}),this.map(u,(h,m)=>{let p=t[h];if(!p)return;const y=m.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=p,o(h,p,m),p.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qm||(qm={}));var yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yl||(yl={}));var ui;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ui||(ui={}));class J1{constructor(t,n={config:{}},r){var o,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bf(this,Or.join,this.params,this.timeout),this.rejoinTimer=new bE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Or.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new xl(this),this.broadcastEndpointURL=SE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Xt.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[yl.PRESENCE]&&this.bindings[yl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},b={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(E=>t==null?void 0:t(ui.CHANNEL_ERROR,E)),this._onClose(()=>t==null?void 0:t(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:b},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var P;if(this.socket.setAuth(),E===void 0){t==null||t(ui.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,k=(P=S==null?void 0:S.length)!==null&&P!==void 0?P:0,N=[];for(let A=0;A<k;A++){const _=S[A],{filter:{event:M,schema:j,table:V,filter:F}}=_,$=E&&E[A];if($&&$.event===M&&$.schema===j&&$.table===V&&$.filter===F)N.push(Object.assign(Object.assign({},_),{id:$.id}));else{this.unsubscribe(),this.state=Xt.errored,t==null||t(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(ui.SUBSCRIBED);return}}).receive("error",E=>{this.state=Xt.errored,t==null||t(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Xt.joined&&t===yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,m;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Bf(this,Or.leave,{},t),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Bf(this,t,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>GR){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,a;const u=t.toLocaleLowerCase(),{close:h,error:m,leave:p,join:y}=Or;if(r&&[h,m,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,n,r);if(n&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var P,S,k;return((P=E.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(S=E.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(E=>E.callback(b,r)):(a=this.bindings[u])===null||a===void 0||a.filter(E=>{var P,S,k,N,A,_;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const M=E.id,j=(P=E.filter)===null||P===void 0?void 0:P.event;return M&&((S=n.ids)===null||S===void 0?void 0:S.includes(M))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const M=(A=(N=E==null?void 0:E.filter)===null||N===void 0?void 0:N.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof b=="object"&&"ids"in b){const P=b.data,{schema:S,table:k,commit_timestamp:N,type:A,errors:_}=P;b=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:N,eventType:A,new:{},old:{},errors:_}),this._getPayloadRecords(P))}E.callback(b,r)})}_isClosed(){return this.state===Xt.closed}_isJoined(){return this.state===Xt.joined}_isJoining(){return this.state===Xt.joining}_isLeaving(){return this.state===Xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&J1.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Or.close,{},t)}_onError(t){this._on(Or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Xm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Xm(t.columns,t.old_record)),n}}const Ff=()=>{},$c={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eN=[1e3,2e3,5e3,1e4],tN=1e4,nN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d0,this.transport=null,this.heartbeatIntervalMs=$c.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ff,this.ref=0,this.reconnectTimer=null,this.logger=Ff,this.conn=null,this.sendBuffer=[],this.serializer=new XR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>Na(async()=>{const{default:h}=await Promise.resolve().then(()=>uo);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${f0.websocket}`,this.httpEndpoint=SE(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=VR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HR}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return Ps.Connecting;case wl.open:return Ps.Open;case wl.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new J1(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:o,ref:a}=t,u=()=>{this.encode(t,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($R,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},$c.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",m=a.status||"";this.log("receive",`${m} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:zR};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$c.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,o,a,u,h,m,p,y;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:d0,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:$c.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:Ff,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:v=>eN[v-1]||tN,this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:(v,b)=>b(JSON.stringify(v)),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function It(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class iN extends eg{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class g0 extends eg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const tg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>uo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sN=()=>Ee(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Na(()=>Promise.resolve().then(()=>uo),void 0)).Response:Response}),p0=e=>{if(Array.isArray(e))return e.map(n=>p0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=p0(r)}),t},oN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aN=(e,t,n)=>Ee(void 0,void 0,void 0,function*(){const r=yield sN();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{const a=e.status||500,u=(o==null?void 0:o.statusCode)||a+"";t(new iN(jf(o),a,u))}).catch(o=>{t(new g0(jf(o),o))}):t(new g0(jf(e),e))}),lN=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?o:(oN(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function ic(e,t,n,r,o,a){return Ee(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,lN(t,r,o,a)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>aN(m,h,r))})})}function zl(e,t,n,r){return Ee(this,void 0,void 0,function*(){return ic(e,"GET",t,n,r)})}function Tr(e,t,n,r,o){return Ee(this,void 0,void 0,function*(){return ic(e,"POST",t,r,o,n)})}function m0(e,t,n,r,o){return Ee(this,void 0,void 0,function*(){return ic(e,"PUT",t,r,o,n)})}function cN(e,t,n,r){return Ee(this,void 0,void 0,function*(){return ic(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ng(e,t,n,r,o){return Ee(this,void 0,void 0,function*(){return ic(e,"DELETE",t,r,o,n)})}class uN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return Ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}var AE;class dN{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[AE]="BlobDownloadBuilder",this.promise=null}asStream(){return new uN(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}AE=Symbol.toStringTag;const fN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hN{constructor(t,n={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=tg(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,o){return Ee(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Ym),o);let h=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),m&&a.append("metadata",this.encodeMetadata(m)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),m&&a.append("metadata",this.encodeMetadata(m))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),v=yield(t=="PUT"?m0:Tr)(this.fetch,`${this.url}/object/${y}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Ee(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:Ym.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield m0(this.fetch,h.toString(),m,{headers:y});return{data:{path:a,fullPath:v.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(It(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new eg("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Ee(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield Tr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Ee(this,void 0,void 0,function*(){try{const o=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}download(t,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"",h=this._getFinalPath(t),m=()=>zl(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new dN(m,this.shouldThrowOnError)}info(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield zl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:p0(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}exists(t){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield cN(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r)&&r instanceof g0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ee(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},fN),n),{prefix:t||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}listV2(t,n){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _E="2.78.0",TE={"X-Client-Info":`storage-js/${_E}`};class gN{constructor(t,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TE),n),this.fetch=tg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ee(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield zl(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}getBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}createBucket(t){return Ee(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}})}updateBucket(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class pN{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TE),n),this.fetch=tg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}listBuckets(t){return Ee(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield zl(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}})}}const rg={"X-Client-Info":`storage-js/${_E}`,"Content-Type":"application/json"};class IE extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Kn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Uf extends IE{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mN extends IE{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Zm;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Zm||(Zm={}));const ig=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>uo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xN=(e,t,n)=>Ee(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const o=e.status||500,a=e;if(typeof a.json=="function")a.json().then(u=>{const h=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new Uf(Qm(u),o,h))}).catch(()=>{const u=o+"",h=a.statusText||`HTTP ${o} error`;t(new Uf(h,o,u))});else{const u=o+"",h=a.statusText||`HTTP ${o} error`;t(new Uf(h,o,u))}}else t(new mN(Qm(e),e))}),yN=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(wN(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function vN(e,t,n,r,o,a){return Ee(this,void 0,void 0,function*(){return new Promise((u,h)=>{e(n,yN(t,r,o,a)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>xN(m,h,r))})})}function qn(e,t,n,r,o){return Ee(this,void 0,void 0,function*(){return vN(e,"POST",t,r,o,n)})}class EN{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),n),this.fetch=ig(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}listIndexes(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return Ee(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Kn(r))return{data:null,error:r};throw r}})}}class bN{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),n),this.fetch=ig(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getVectors(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}listVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}queryVectors(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return Ee(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}}class CN{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rg),n),this.fetch=ig(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}getBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}listBuckets(){return Ee(this,arguments,void 0,function*(t={}){try{return{data:yield qn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ee(this,void 0,void 0,function*(){try{return{data:(yield qn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Kn(n))return{data:null,error:n};throw n}})}}class SN extends CN{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new AN(this.url,this.headers,t,this.fetch)}}class AN extends EN{constructor(t,n,r,o){super(t,n,o),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ee(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ee(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ee(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ee(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _N(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _N extends bN{constructor(t,n,r,o,a){super(t,n,a),this.vectorBucketName=r,this.indexName=o}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ee(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ee(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ee(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ee(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ee(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class TN extends gN{constructor(t,n={},r,o){super(t,n,r,o)}from(t){return new hN(this.url,this.headers,t,this.fetch)}get vectors(){return new SN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pN(this.url+"/iceberg",this.headers,this.fetch)}}const IN="2.78.0";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const RN={"X-Client-Info":`supabase-js-${sl}/${IN}`},NN={headers:RN},ON={schema:"public"},kN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PN={},DN=e=>{let t;return e?t=e:typeof fetch>"u"?t=rE:t=fetch,(...n)=>t(...n)},MN=()=>typeof Headers>"u"?iE:Headers,LN=(e,t,n)=>{const r=DN(n),o=MN();return async(a,u)=>{var h;const m=(h=await t())!==null&&h!==void 0?h:e;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(a,Object.assign(Object.assign({},u),{headers:p}))}};function BN(e){return e.endsWith("/")?e:e+"/"}function FN(e,t){var n,r;const{db:o,auth:a,realtime:u,global:h}=e,{db:m,auth:p,realtime:y,global:v}=t,b={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function jN(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(BN(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const RE="2.78.0",Oo=30*1e3,w0=3,Vf=w0*Oo,UN="http://localhost:9999",VN="supabase.auth.token",WN={"X-Client-Info":`gotrue-js/${RE}`},x0="X-Supabase-Api-Version",NE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HN=10*60*1e3;class Hl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $N extends Hl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function GN(e){return Se(e)&&e.name==="AuthApiError"}class Ds extends Hl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ms extends Hl{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class br extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XN(e){return Se(e)&&e.name==="AuthSessionMissingError"}class Co extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gc extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xc extends ms{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KN(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jm extends ms{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class y0 extends ms{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wf(e){return Se(e)&&e.name==="AuthRetryableFetchError"}class ew extends ms{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class v0 extends ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tw=` 	
\r=`.split(""),qN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tw.length;t+=1)e[tw[t].charCodeAt(0)]=-2;for(let t=0;t<Yu.length;t+=1)e[Yu[t].charCodeAt(0)]=t;return e})();function nw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yu[r]),t.queuedBits-=6}}function OE(e,t,n){const r=qN[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rw(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{QN(u,r,n)};for(let u=0;u<e.length;u+=1)OE(e.charCodeAt(u),o,a);return t.join("")}function YN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ZN(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}YN(r,t)}}function QN(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ea(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)OE(e.charCodeAt(o),n,r);return new Uint8Array(t)}function JN(e){const t=[];return ZN(e,n=>t.push(n)),new Uint8Array(t)}function Fs(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>nw(o,n,r)),nw(null,n,r),t.join("")}function eO(e){return Math.round(Date.now()/1e3)+e}function tO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},kE=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function nO(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{t[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const PE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Na(async()=>{const{default:r}=await Promise.resolve().then(()=>uo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ko=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Is=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ki=async(e,t)=>{await e.removeItem(t)};class kd{constructor(){this.promise=new kd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}kd.promiseConstructor=Promise;function zf(e){const t=e.split(".");if(t.length!==3)throw new v0("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!zN.test(t[r]))throw new v0("JWT not in base64url format");return{header:JSON.parse(rw(t[0])),payload:JSON.parse(rw(t[1])),signature:ea(t[2]),raw:{header:t[0],payload:t[1]}}}async function iO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sO(e,t){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await e(a);if(!t(a,null,u)){r(u);return}}catch(u){if(!t(a,u)){o(u);return}}})()})}function oO(e){return("0"+e.toString(16)).substr(-2)}function aO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,oO).join("")}async function lO(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function cO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lO(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(e,t,n=!1){const r=aO();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await ko(e,`${t}-code-verifier`,o);const a=await cO(r);return[a,r===a?"plain":"s256"]}const uO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dO(e){const t=e.headers.get(x0);if(!t||!t.match(uO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(e){if(!gO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pO(e,t){return new Proxy(e,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,o)}})}function iw(e){return JSON.parse(JSON.stringify(e))}const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mO=[502,503,504];async function sw(e){var t;if(!rO(e))throw new y0(ks(e),0);if(mO.includes(e.status))throw new y0(ks(e),e.status);let n;try{n=await e.json()}catch(a){throw new Ds(ks(a),a)}let r;const o=dO(e);if(o&&o.getTime()>=NE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ew(ks(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new br}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new ew(ks(n),e.status,n.weak_password.reasons);throw new $N(ks(n),e.status||500,r)}const wO=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function Me(e,t,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[x0]||(a[x0]=NE["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await xO(e,t,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function xO(e,t,n,r,o,a){const u=wO(t,r,o,a);let h;try{h=await e(n,Object.assign({},u))}catch(m){throw console.error(m),new y0(ks(m),0)}if(h.ok||await sw(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await sw(m)}}function Cr(e){var t;let n=null;EO(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=eO(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ow(e){const t=Cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ji(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yO(e){return{data:e,error:null}}function vO(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=e,u=ps(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function aw(e){return e}function EO(e){return e.access_token&&e.refresh_token&&e.expires_in}const $f=["global","local","others"];class bO{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=PE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=$f[0]){if($f.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$f.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ji})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ps(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:vO,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ji})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,a,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:aw});if(y.error)throw y.error;const v=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(P=>{const S=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Se(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Ao(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ji})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ao(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ji})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ao(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ji})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ao(t.userId);try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ao(t.userId),Ao(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,o,a,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},y=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:aw});if(y.error)throw y.error;const v=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(P=>{const S=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function lw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const _o={debug:!!(globalThis&&kE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class CO extends DE{}async function SO(e,t,n){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_o.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function AO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ME(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _O(e){return parseInt(e,16)}function TO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function IO(e){var t;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:h,requestId:m,resources:p,scheme:y,uri:v,version:b}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const E=ME(e.address),P=y?`${y}://${r}`:r,S=e.statement?`${e.statement}
`:"",k=`${P} wants you to sign in with your Ethereum account:
${E}

${S}`;let N=`URI: ${v}
Version: ${b}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(N+=`
Expiration Time: ${o.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),m&&(N+=`
Request ID: ${m}`),p){let A=`
Resources:`;for(const _ of p){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);A+=`
- ${_}`}N+=A}return`${k}
${N}`}class Ut extends Error{constructor({message:t,code:n,cause:r,name:o}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Zu extends Ut{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function RO({error:e,options:t}){var n,r,o;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(LE(u)){if(a.rp.id!==u)return new Ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function NO({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(LE(r)){if(n.rpId!==r)return new Ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class OO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kO=new OO;function PO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,o=ps(e,["challenge","user","excludeCredentials"]),a=ea(t).buffer,u=Object.assign(Object.assign({},n),{id:ea(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:a,user:u});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:ea(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function DO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=ps(e,["challenge","allowCredentials"]),o=ea(t).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ea(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function MO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fs(new Uint8Array(o.authenticatorData)),clientDataJSON:Fs(new Uint8Array(o.clientDataJSON)),signature:Fs(new Uint8Array(o.signature)),userHandle:o.userHandle?Fs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function cw(){var e,t;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function BO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zu("Browser returned unexpected credential type",t)}:{data:null,error:new Zu("Empty credential response",t)}}catch(t){return{data:null,error:RO({error:t,options:e})}}}async function FO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zu("Browser returned unexpected credential type",t)}:{data:null,error:new Zu("Empty credential response",t)}}catch(t){return{data:null,error:NO({error:t,options:e})}}}const jO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},UO={userVerification:"preferred",hints:["security-key"]};function Qu(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of e)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))r[a]=u;else if(n(u))r[a]=u;else if(t(u)){const h=r[a];t(h)?r[a]=Qu(h,u):r[a]=Qu(u)}else r[a]=u}return r}function VO(e,t){return Qu(jO,e,t||{})}function WO(e,t){return Qu(UO,e,t||{})}class zO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:o},a){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:h};const m=o??kO.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=VO(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:y,error:v}=await BO({publicKey:p,signal:m});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=WO(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:y,error:v}=await FO(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Ds("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},a){if(!n)return{data:null,error:new Hl("rpId is required for WebAuthn authentication")};try{if(!cw())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!u)return{data:null,error:h};const{webauthn:m}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:r,credential_response:m.credential_response}})}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Ds("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},a){if(!n)return{data:null,error:new Hl("rpId is required for WebAuthn registration")};try{if(!cw())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Se(u)?{data:null,error:u}:{data:null,error:new Ds("Unexpected error in register",u)}}}}AO();const HO={url:UN,storageKey:VN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uw(e,t,n){return await n()}const To={};class $l{get jwks(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=To[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$l.nextInstanceID,$l.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},HO),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new bO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=PE(o.fetch),this.lock=o.lock||uw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:bn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=SO:this.lock=uw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:kE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=lw(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${RE}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=nO(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),bn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),KN(a)){const m=(t=a.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new Ds("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Cr}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,o;try{let a;if("email"in t){const{email:y,password:v,options:b}=t;let E=null,P=null;this.flowType==="pkce"&&([E,P]=await So(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:y,password:v,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:E,code_challenge_method:P},xform:Cr})}else if("phone"in t){const{phone:y,password:v,options:b}=t;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Cr})}else throw new Gc("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(a){if(Se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:u,options:h}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ow})}else if("phone"in t){const{phone:a,password:u,options:h}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ow})}else throw new Gc("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Co}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,o,a,u,h,m,p,y,v,b;let E,P;if("message"in t)E=t.message,P=t.signature;else{const{chain:S,wallet:k,statement:N,options:A}=t;let _;if(bn())if(typeof k=="object")_=k;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")_=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}const M=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=ME(j[0]);let F=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const z=await _.request({method:"eth_chainId"});F=_O(z)}const $={domain:M.host,address:V,statement:N,uri:M.href,version:"1",chainId:F,nonce:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=A==null?void 0:A.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=IO($),P=await _.request({method:"personal_sign",params:[TO(E),V]})}try{const{data:S,error:k}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:P},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Cr});if(k)throw k;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Co}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:k})}catch(S){if(Se(S))return{data:{user:null,session:null},error:S};throw S}}async signInWithSolana(t){var n,r,o,a,u,h,m,p,y,v,b,E;let P,S;if("message"in t)P=t.message,S=t.signature;else{const{chain:k,wallet:N,statement:A,options:_}=t;let M;if(bn())if(typeof N=="object")M=N;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))M=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=N}const j=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const V=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),A?{statement:A}:null));let F;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")F=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)F=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)P=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),S=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${j.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(o=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((h=_==null?void 0:_.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((m=_==null?void 0:_.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((p=_==null?void 0:_.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((v=(y=_==null?void 0:_.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",..._.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const V=await M.signMessage(new TextEncoder().encode(P),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=V}}try{const{data:k,error:N}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Fs(S)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Cr});if(N)throw N;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Co}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:N})}catch(k){if(Se(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Is(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Cr});if(await ki(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(Se(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=t,h=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Cr}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Co}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,a,u;try{if("email"in t){const{email:h,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await So(this.storage,this.storageKey));const{error:v}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:h,options:m}=t,{data:p,error:y}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Gc("You must provide either an email or phone number.")}catch(h){if(Se(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(t){var n,r;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Cr});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await So(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:yO})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new br;const{error:o}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:a}=t,{error:u}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:o,options:a}=t,{data:u,error:h}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Gc("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await Is(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=Hf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=pO(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ji}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:ji})})}catch(n){if(Se(n))return XN(n)&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new br;const u=o.session;let h=null,m=null;this.flowType==="pkce"&&t.email!=null&&([h,m]=await So(this.storage,this.storageKey));const{data:p,error:y}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:ji});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new br;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=zf(t.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:h,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:m}=await this._getUser(t.access_token);if(m)throw m;a={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new br;const{data:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!bn())throw new Xc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jm("No code detected.");const{data:A,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=t;if(!a||!h||!u||!p)throw new Xc("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let b=y+v;m&&(b=parseInt(m));const E=b-y;E*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${v}s`);const P=b-v;y-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,b,y):y-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,b,y);const{data:S,error:k}=await this._getUser(a);if(k)throw k;const N={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:b,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:N,redirectType:t.type},error:null}}catch(r){if(Se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(GN(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return t!=="others"&&(await this._removeSession(),await ki(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=tO(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await So(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Se(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,m,p,y;const{data:v,error:b}=a;if(b)throw b;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return bn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:h,token:m,access_token:p,nonce:y}=t,v=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:m,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Cr}),{data:b,error:E}=v;return E?{data:{user:null,session:null},error:E}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new Co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:E})}catch(o){if(Se(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await sO(async o=>(o>0&&await iO(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cr})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Wf(a)&&Date.now()+u-r<Oo})}catch(r){if(this._debug(n,"error",r),Se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),bn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Is(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ko(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:Hf()}else if(o&&!o.user&&!o.user){const u=await Is(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await ki(this.storage,this.storageKey+"-user"),await ko(this.storage,this.storageKey,o)):o.user=Hf()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vf;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Vf}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Wf(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new kd;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new br;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={data:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Se(a)){const u={data:null,error:a};return Wf(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(m){a.push(m)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ko(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=iw(o);await ko(this.storage,this.storageKey,a)}else{const o=iw(n);await ko(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ki(this.storage,this.storageKey),await ki(this.storage,this.storageKey+"-code-verifier"),await ki(this.storage,this.storageKey+"-user"),this.userStorage&&await ki(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Oo}ms, refresh threshold is ${w0} ticks`),o<=w0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await So(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&m.type==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MO(t.webauthn.credential_response):LO(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:m}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const u=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:PO(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:DO(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=zf(r.access_token);let u=null;a.aal&&(u=a.aal);let h=u;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?{data:null,error:o}:r?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):{data:null,error:new br}})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return{data:null,error:a};if(!o)return{data:null,error:new br};const u=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&bn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return{data:null,error:a};if(!o)return{data:null,error:new br};const u=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&bn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(h=>h.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===t),r&&this.jwks_cached_at+HN>o)return r;const{data:a,error:u}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:E,error:P}=await this.getSession();if(P||!E.session)return{data:null,error:P};r=E.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:m}}=zf(r);n!=null&&n.allowExpired||fO(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:a,header:o,signature:u},error:null}}const y=hO(o.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,JN(`${h}.${m}`)))throw new v0("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}}$l.nextInstanceID=0;const $O=$l;class GO extends $O{constructor(t){super(t)}}class XO{constructor(t,n,r){var o,a,u;this.supabaseUrl=t,this.supabaseKey=n;const h=jN(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:ON,realtime:PN,auth:Object.assign(Object.assign({},kN),{storageKey:m}),global:NN},y=FN(r??{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=y.global.headers)!==null&&a!==void 0?a:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=LN(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new UR(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new TN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new kR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:u,flowType:h,lock:m,debug:p},y,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GO({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:h,lock:m,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new rN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KO=(e,t,n)=>new XO(e,t,n);function qO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}qO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const YO="https://srdcrqqesbjszmmauqdi.supabase.co",ZO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNyZGNycXFlc2Jqc3ptbWF1cWRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMTQ0NDgsImV4cCI6MjA3NzU5MDQ0OH0.y_BfRUOIpYdU1zT_W4p2KdZcCHPLVx56qsGFTxJFZ34",Wn=KO(YO,ZO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),QO=()=>{const{serialNumber:e}=k4(),t=rc(),[n,r]=T.useState(!0),[o,a]=T.useState(null),[u,h]=T.useState("");return T.useEffect(()=>{(async()=>{if(!e){Et.error("No serial number provided"),t("/");return}try{const{data:p,error:y}=await Wn.from("refrigerators").select(`
            *,
            categories (
              name,
              planogram_url
            )
          `).eq("serial_number",e).single();if(y)throw y;if(!p){Et.error("Refrigerator not found"),t("/");return}a(p),h(p.categories.planogram_url)}catch(p){console.error("Error fetching planogram:",p),Et.error("Failed to load planogram"),t("/")}finally{r(!1)}})()},[e,t]),n?I.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:I.jsxs("div",{className:"flex flex-col items-center gap-4",children:[I.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"}),I.jsx("p",{className:"text-muted-foreground",children:"Loading planogram..."})]})}):I.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[I.jsx("header",{className:"p-4 border-b border-border bg-card",children:I.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[I.jsxs(Zt,{variant:"ghost",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[I.jsx(vv,{className:"h-4 w-4"}),"Back"]}),I.jsxs(Zt,{variant:"outline",size:"sm",onClick:()=>t("/scanner"),className:"gap-2",children:[I.jsx(fu,{className:"h-4 w-4"}),"Scan Again"]})]})}),I.jsx("main",{className:"flex-1 overflow-auto",children:I.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o&&I.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 space-y-2",children:[I.jsx("h1",{className:"text-2xl font-bold",children:o.store_name}),I.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Serial:"})," ",o.serial_number]}),I.jsxs("div",{children:[I.jsx("span",{className:"font-medium",children:"Category:"})," ",o.categories.name]})]})]}),I.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:I.jsx("img",{src:u,alt:"Planogram",className:"w-full h-auto rounded-lg",onError:()=>{Et.error("Failed to load planogram image")}})})]})})]})},eo=T.forwardRef(({className:e,type:t,...n},r)=>I.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));eo.displayName="Input";var JO="Label",BE=T.forwardRef((e,t)=>I.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BE.displayName=JO;var FE=BE;const e6=O1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ss=T.forwardRef(({className:e,...t},n)=>I.jsx(FE,{ref:n,className:We(e6(),e),...t}));ss.displayName=FE.displayName;const os=T.forwardRef(({className:e,...t},n)=>I.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));os.displayName="Card";const jE=T.forwardRef(({className:e,...t},n)=>I.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));jE.displayName="CardHeader";const UE=T.forwardRef(({className:e,...t},n)=>I.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));UE.displayName="CardTitle";const VE=T.forwardRef(({className:e,...t},n)=>I.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));VE.displayName="CardDescription";const WE=T.forwardRef(({className:e,...t},n)=>I.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));WE.displayName="CardContent";const t6=T.forwardRef(({className:e,...t},n)=>I.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));t6.displayName="CardFooter";const n6=()=>{const e=rc(),[t,n]=T.useState(!1),[r,o]=T.useState(""),[a,u]=T.useState(""),[h,m]=T.useState(!1),p=async y=>{y.preventDefault(),n(!0);try{if(h){const{error:v}=await Wn.auth.signUp({email:r,password:a});if(v)throw v;Et.success("Account created! You can now sign in."),m(!1)}else{const{error:v}=await Wn.auth.signInWithPassword({email:r,password:a});if(v)throw v;Et.success("Signed in successfully!"),e("/admin/dashboard")}}catch(v){Et.error(v.message||"Authentication failed")}finally{n(!1)}};return I.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 via-background to-secondary/10 flex items-center justify-center p-4",children:I.jsxs(os,{className:"w-full max-w-md",children:[I.jsxs(jE,{className:"space-y-4",children:[I.jsx("div",{className:"flex justify-center",children:I.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary text-primary-foreground",children:I.jsx(N3,{className:"h-8 w-8"})})}),I.jsx(UE,{className:"text-2xl text-center",children:h?"Create Admin Account":"Admin Login"}),I.jsx(VE,{className:"text-center",children:h?"Sign up to manage refrigerators and planograms":"Sign in to access the admin dashboard"})]}),I.jsx(WE,{children:I.jsxs("form",{onSubmit:p,className:"space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"email",children:"Email"}),I.jsx(eo,{id:"email",type:"email",placeholder:"admin@example.com",value:r,onChange:y=>o(y.target.value),required:!0,disabled:t})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"password",children:"Password"}),I.jsx(eo,{id:"password",type:"password",placeholder:"",value:a,onChange:y=>u(y.target.value),required:!0,disabled:t})]}),I.jsx(Zt,{type:"submit",className:"w-full",disabled:t,children:t?I.jsxs(I.Fragment,{children:[I.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):h?"Sign Up":"Sign In"}),I.jsx("div",{className:"text-center",children:I.jsx(Zt,{type:"button",variant:"link",onClick:()=>m(!h),disabled:t,children:h?"Already have an account? Sign in":"Don't have an account? Sign up"})}),I.jsx("div",{className:"text-center",children:I.jsx(Zt,{type:"button",variant:"ghost",size:"sm",onClick:()=>e("/"),disabled:t,children:"Back to Home"})})]})})]})})};var r6=T.createContext(void 0);function sg(e){const t=T.useContext(r6);return e||t||"ltr"}var Gf="rovingFocusGroup.onEntryFocus",i6={bubbles:!1,cancelable:!0},sc="RovingFocusGroup",[E0,zE,s6]=T1(sc),[o6,HE]=gs(sc,[s6]),[a6,l6]=o6(sc),$E=T.forwardRef((e,t)=>I.jsx(E0.Provider,{scope:e.__scopeRovingFocusGroup,children:I.jsx(E0.Slot,{scope:e.__scopeRovingFocusGroup,children:I.jsx(c6,{...e,ref:t})})}));$E.displayName=sc;var c6=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...v}=e,b=T.useRef(null),E=gt(t,b),P=sg(a),[S,k]=xa({prop:u,defaultProp:h??null,onChange:m,caller:sc}),[N,A]=T.useState(!1),_=pr(p),M=zE(n),j=T.useRef(!1),[V,F]=T.useState(0);return T.useEffect(()=>{const $=b.current;if($)return $.addEventListener(Gf,_),()=>$.removeEventListener(Gf,_)},[_]),I.jsx(a6,{scope:n,orientation:r,dir:P,loop:o,currentTabStopId:S,onItemFocus:T.useCallback($=>k($),[k]),onItemShiftTab:T.useCallback(()=>A(!0),[]),onFocusableItemAdd:T.useCallback(()=>F($=>$+1),[]),onFocusableItemRemove:T.useCallback(()=>F($=>$-1),[]),children:I.jsx(ze.div,{tabIndex:N||V===0?-1:0,"data-orientation":r,...v,ref:E,style:{outline:"none",...e.style},onMouseDown:Re(e.onMouseDown,()=>{j.current=!0}),onFocus:Re(e.onFocus,$=>{const z=!j.current;if($.target===$.currentTarget&&z&&!N){const re=new CustomEvent(Gf,i6);if($.currentTarget.dispatchEvent(re),!re.defaultPrevented){const ge=M().filter(le=>le.focusable),Z=ge.find(le=>le.active),fe=ge.find(le=>le.id===S),H=[Z,fe,...ge].filter(Boolean).map(le=>le.ref.current);KE(H,y)}}j.current=!1}),onBlur:Re(e.onBlur,()=>A(!1))})})}),GE="RovingFocusGroupItem",XE=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:u,...h}=e,m=is(),p=a||m,y=l6(GE,n),v=y.currentTabStopId===p,b=zE(n),{onFocusableItemAdd:E,onFocusableItemRemove:P,currentTabStopId:S}=y;return T.useEffect(()=>{if(r)return E(),()=>P()},[r,E,P]),I.jsx(E0.ItemSlot,{scope:n,id:p,focusable:r,active:o,children:I.jsx(ze.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...h,ref:t,onMouseDown:Re(e.onMouseDown,k=>{r?y.onItemFocus(p):k.preventDefault()}),onFocus:Re(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:Re(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){y.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const N=f6(k,y.orientation,y.dir);if(N!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let _=b().filter(M=>M.focusable).map(M=>M.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const M=_.indexOf(k.currentTarget);_=y.loop?h6(_,M+1):_.slice(M+1)}setTimeout(()=>KE(_))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:S!=null}):u})})});XE.displayName=GE;var u6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function f6(e,t,n){const r=d6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return u6[r]}function KE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function h6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var g6=$E,p6=XE,Pd="Tabs",[m6,TP]=gs(Pd,[HE]),qE=HE(),[w6,og]=m6(Pd),YE=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=e,y=sg(h),[v,b]=xa({prop:r,onChange:o,defaultProp:a??"",caller:Pd});return I.jsx(w6,{scope:n,baseId:is(),value:v,onValueChange:b,orientation:u,dir:y,activationMode:m,children:I.jsx(ze.div,{dir:y,"data-orientation":u,...p,ref:t})})});YE.displayName=Pd;var ZE="TabsList",QE=T.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=og(ZE,n),u=qE(n);return I.jsx(g6,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:I.jsx(ze.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});QE.displayName=ZE;var JE="TabsTrigger",eb=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,u=og(JE,n),h=qE(n),m=rb(u.baseId,r),p=ib(u.baseId,r),y=r===u.value;return I.jsx(p6,{asChild:!0,...h,focusable:!o,active:y,children:I.jsx(ze.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...a,ref:t,onMouseDown:Re(e.onMouseDown,v=>{!o&&v.button===0&&v.ctrlKey===!1?u.onValueChange(r):v.preventDefault()}),onKeyDown:Re(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(r)}),onFocus:Re(e.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!o&&v&&u.onValueChange(r)})})})});eb.displayName=JE;var tb="TabsContent",nb=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...u}=e,h=og(tb,n),m=rb(h.baseId,r),p=ib(h.baseId,r),y=r===h.value,v=T.useRef(y);return T.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),I.jsx(ao,{present:o||y,children:({present:b})=>I.jsx(ze.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!b,id:p,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:b&&a})})});nb.displayName=tb;function rb(e,t){return`${e}-trigger-${t}`}function ib(e,t){return`${e}-content-${t}`}var x6=YE,sb=QE,ob=eb,ab=nb;const y6=x6,lb=T.forwardRef(({className:e,...t},n)=>I.jsx(sb,{ref:n,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));lb.displayName=sb.displayName;const b0=T.forwardRef(({className:e,...t},n)=>I.jsx(ob,{ref:n,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));b0.displayName=ob.displayName;const C0=T.forwardRef(({className:e,...t},n)=>I.jsx(ab,{ref:n,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));C0.displayName=ab.displayName;var Xf="focusScope.autoFocusOnMount",Kf="focusScope.autoFocusOnUnmount",dw={bubbles:!1,cancelable:!0},v6="FocusScope",ag=T.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=e,[h,m]=T.useState(null),p=pr(o),y=pr(a),v=T.useRef(null),b=gt(t,S=>m(S)),E=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let S=function(_){if(E.paused||!h)return;const M=_.target;h.contains(M)?v.current=M:Di(v.current,{select:!0})},k=function(_){if(E.paused||!h)return;const M=_.relatedTarget;M!==null&&(h.contains(M)||Di(v.current,{select:!0}))},N=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&Di(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",k);const A=new MutationObserver(N);return h&&A.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",k),A.disconnect()}}},[r,h,E.paused]),T.useEffect(()=>{if(h){hw.add(E);const S=document.activeElement;if(!h.contains(S)){const N=new CustomEvent(Xf,dw);h.addEventListener(Xf,p),h.dispatchEvent(N),N.defaultPrevented||(E6(_6(cb(h)),{select:!0}),document.activeElement===S&&Di(h))}return()=>{h.removeEventListener(Xf,p),setTimeout(()=>{const N=new CustomEvent(Kf,dw);h.addEventListener(Kf,y),h.dispatchEvent(N),N.defaultPrevented||Di(S??document.body,{select:!0}),h.removeEventListener(Kf,y),hw.remove(E)},0)}}},[h,p,y,E]);const P=T.useCallback(S=>{if(!n&&!r||E.paused)return;const k=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(k&&N){const A=S.currentTarget,[_,M]=b6(A);_&&M?!S.shiftKey&&N===M?(S.preventDefault(),n&&Di(_,{select:!0})):S.shiftKey&&N===_&&(S.preventDefault(),n&&Di(M,{select:!0})):N===A&&S.preventDefault()}},[n,r,E.paused]);return I.jsx(ze.div,{tabIndex:-1,...u,ref:b,onKeyDown:P})});ag.displayName=v6;function E6(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Di(r,{select:t}),document.activeElement!==n)return}function b6(e){const t=cb(e),n=fw(t,e),r=fw(t.reverse(),e);return[n,r]}function cb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fw(e,t){for(const n of e)if(!C6(n,{upTo:t}))return n}function C6(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S6(e){return e instanceof HTMLInputElement&&"select"in e}function Di(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&S6(e)&&t&&e.select()}}var hw=A6();function A6(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=gw(e,t),e.unshift(t)},remove(t){var n;e=gw(e,t),(n=e[0])==null||n.resume()}}}function gw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _6(e){return e.filter(t=>t.tagName!=="A")}var qf=0;function ub(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pw()),document.body.insertAdjacentElement("beforeend",e[1]??pw()),qf++,()=>{qf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qf--}},[])}function pw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gu="right-scroll-bar-position",pu="width-before-scroll-bar",T6="with-scroll-bars-hidden",I6="--removed-body-scroll-bar-size";function Yf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R6(e,t){var n=T.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var N6=typeof window<"u"?T.useLayoutEffect:T.useEffect,mw=new WeakMap;function O6(e,t){var n=R6(null,function(r){return e.forEach(function(o){return Yf(o,r)})});return N6(function(){var r=mw.get(n);if(r){var o=new Set(r),a=new Set(e),u=n.current;o.forEach(function(h){a.has(h)||Yf(h,null)}),a.forEach(function(h){o.has(h)||Yf(h,u)})}mw.set(n,e)},[e]),n}function k6(e){return e}function P6(e,t){t===void 0&&(t=k6);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(h){return a(h)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var h=n;n=[],h.forEach(a),u=n}var m=function(){var y=u;u=[],y.forEach(a)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),n}}}};return o}function D6(e){e===void 0&&(e={});var t=P6(null);return t.options=ur({async:!0,ssr:!1},e),t}var db=function(e){var t=e.sideCar,n=ps(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ur({},n))};db.isSideCarExport=!0;function M6(e,t){return e.useMedium(t),db}var fb=D6(),Zf=function(){},Dd=T.forwardRef(function(e,t){var n=T.useRef(null),r=T.useState({onScrollCapture:Zf,onWheelCapture:Zf,onTouchMoveCapture:Zf}),o=r[0],a=r[1],u=e.forwardProps,h=e.children,m=e.className,p=e.removeScrollBar,y=e.enabled,v=e.shards,b=e.sideCar,E=e.noRelative,P=e.noIsolation,S=e.inert,k=e.allowPinchZoom,N=e.as,A=N===void 0?"div":N,_=e.gapMode,M=ps(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=b,V=O6([n,t]),F=ur(ur({},M),o);return T.createElement(T.Fragment,null,y&&T.createElement(j,{sideCar:fb,removeScrollBar:p,shards:v,noRelative:E,noIsolation:P,inert:S,setCallbacks:a,allowPinchZoom:!!k,lockRef:n,gapMode:_}),u?T.cloneElement(T.Children.only(h),ur(ur({},F),{ref:V})):T.createElement(A,ur({},F,{className:m,ref:V}),h))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:pu,zeroRight:gu};var L6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function B6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L6();return t&&e.setAttribute("nonce",t),e}function F6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function j6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var U6=function(){var e=0,t=null;return{add:function(n){e==0&&(t=B6())&&(F6(t,n),j6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V6=function(){var e=U6();return function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hb=function(){var e=V6(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},W6={left:0,top:0,right:0,gap:0},Qf=function(e){return parseInt(e||"",10)||0},z6=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Qf(n),Qf(r),Qf(o)]},H6=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return W6;var t=z6(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$6=hb(),ta="data-scroll-locked",G6=function(e,t,n,r){var o=e.left,a=e.top,u=e.right,h=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(T6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gu,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(pu,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(gu," .").concat(gu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pu," .").concat(pu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(I6,": ").concat(h,`px;
  }
`)},ww=function(){var e=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(e)?e:0},X6=function(){T.useEffect(function(){return document.body.setAttribute(ta,(ww()+1).toString()),function(){var e=ww()-1;e<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,e.toString())}},[])},K6=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;X6();var a=T.useMemo(function(){return H6(o)},[o]);return T.createElement($6,{styles:G6(a,!t,o,n?"":"!important")})},S0=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return S0=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{S0=!1}var Io=S0?{passive:!1}:!1,q6=function(e){return e.tagName==="TEXTAREA"},gb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!q6(e)&&n[t]==="visible")},Y6=function(e){return gb(e,"overflowY")},Z6=function(e){return gb(e,"overflowX")},xw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=pb(e,r);if(o){var a=mb(e,r),u=a[1],h=a[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q6=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},J6=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pb=function(e,t){return e==="v"?Y6(t):Z6(t)},mb=function(e,t){return e==="v"?Q6(t):J6(t)},ek=function(e,t){return e==="h"&&t==="rtl"?-1:1},tk=function(e,t,n,r,o){var a=ek(e,window.getComputedStyle(t).direction),u=a*r,h=n.target,m=t.contains(h),p=!1,y=u>0,v=0,b=0;do{if(!h)break;var E=mb(e,h),P=E[0],S=E[1],k=E[2],N=S-k-a*P;(P||N)&&pb(e,h)&&(v+=N,b+=P);var A=h.parentNode;h=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!m&&h!==document.body||m&&(t.contains(h)||t===h));return(y&&(Math.abs(v)<1||!o)||!y&&(Math.abs(b)<1||!o))&&(p=!0),p},qc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yw=function(e){return[e.deltaX,e.deltaY]},vw=function(e){return e&&"current"in e?e.current:e},nk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},rk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ik=0,Ro=[];function sk(e){var t=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),o=T.useState(ik++)[0],a=T.useState(hb)[0],u=T.useRef(e);T.useEffect(function(){u.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=Y1([e.lockRef.current],(e.shards||[]).map(vw),!0).filter(Boolean);return S.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var h=T.useCallback(function(S,k){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!u.current.allowPinchZoom;var N=qc(S),A=n.current,_="deltaX"in S?S.deltaX:A[0]-N[0],M="deltaY"in S?S.deltaY:A[1]-N[1],j,V=S.target,F=Math.abs(_)>Math.abs(M)?"h":"v";if("touches"in S&&F==="h"&&V.type==="range")return!1;var $=xw(F,V);if(!$)return!0;if($?j=F:(j=F==="v"?"h":"v",$=xw(F,V)),!$)return!1;if(!r.current&&"changedTouches"in S&&(_||M)&&(r.current=j),!j)return!0;var z=r.current||j;return tk(z,k,S,z==="h"?_:M,!0)},[]),m=T.useCallback(function(S){var k=S;if(!(!Ro.length||Ro[Ro.length-1]!==a)){var N="deltaY"in k?yw(k):qc(k),A=t.current.filter(function(j){return j.name===k.type&&(j.target===k.target||k.target===j.shadowParent)&&nk(j.delta,N)})[0];if(A&&A.should){k.cancelable&&k.preventDefault();return}if(!A){var _=(u.current.shards||[]).map(vw).filter(Boolean).filter(function(j){return j.contains(k.target)}),M=_.length>0?h(k,_[0]):!u.current.noIsolation;M&&k.cancelable&&k.preventDefault()}}},[]),p=T.useCallback(function(S,k,N,A){var _={name:S,delta:k,target:N,should:A,shadowParent:ok(N)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(M){return M!==_})},1)},[]),y=T.useCallback(function(S){n.current=qc(S),r.current=void 0},[]),v=T.useCallback(function(S){p(S.type,yw(S),S.target,h(S,e.lockRef.current))},[]),b=T.useCallback(function(S){p(S.type,qc(S),S.target,h(S,e.lockRef.current))},[]);T.useEffect(function(){return Ro.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",m,Io),document.addEventListener("touchmove",m,Io),document.addEventListener("touchstart",y,Io),function(){Ro=Ro.filter(function(S){return S!==a}),document.removeEventListener("wheel",m,Io),document.removeEventListener("touchmove",m,Io),document.removeEventListener("touchstart",y,Io)}},[]);var E=e.removeScrollBar,P=e.inert;return T.createElement(T.Fragment,null,P?T.createElement(a,{styles:rk(o)}):null,E?T.createElement(K6,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ok(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ak=M6(fb,sk);var lg=T.forwardRef(function(e,t){return T.createElement(Dd,ur({},e,{ref:t,sideCar:ak}))});lg.classNames=Dd.classNames;var lk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},No=new WeakMap,Yc=new WeakMap,Zc={},Jf=0,wb=function(e){return e&&(e.host||wb(e.parentNode))},ck=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uk=function(e,t,n,r){var o=ck(t,Array.isArray(e)?e:[e]);Zc[n]||(Zc[n]=new WeakMap);var a=Zc[n],u=[],h=new Set,m=new Set(o),p=function(v){!v||h.has(v)||(h.add(v),p(v.parentNode))};o.forEach(p);var y=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(b){if(h.has(b))y(b);else try{var E=b.getAttribute(r),P=E!==null&&E!=="false",S=(No.get(b)||0)+1,k=(a.get(b)||0)+1;No.set(b,S),a.set(b,k),u.push(b),S===1&&P&&Yc.set(b,!0),k===1&&b.setAttribute(n,"true"),P||b.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return y(t),h.clear(),Jf++,function(){u.forEach(function(v){var b=No.get(v)-1,E=a.get(v)-1;No.set(v,b),a.set(v,E),b||(Yc.has(v)||v.removeAttribute(r),Yc.delete(v)),E||v.removeAttribute(n)}),Jf--,Jf||(No=new WeakMap,No=new WeakMap,Yc=new WeakMap,Zc={})}},xb=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=lk(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),uk(r,o,n,"aria-hidden")):function(){return null}},Md="Dialog",[yb,IP]=gs(Md),[dk,Fr]=yb(Md),vb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:u=!0}=e,h=T.useRef(null),m=T.useRef(null),[p,y]=xa({prop:r,defaultProp:o??!1,onChange:a,caller:Md});return I.jsx(dk,{scope:t,triggerRef:h,contentRef:m,contentId:is(),titleId:is(),descriptionId:is(),open:p,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(v=>!v),[y]),modal:u,children:n})};vb.displayName=Md;var Eb="DialogTrigger",fk=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Eb,n),a=gt(t,o.triggerRef);return I.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":dg(o.open),...r,ref:a,onClick:Re(e.onClick,o.onOpenToggle)})});fk.displayName=Eb;var cg="DialogPortal",[hk,bb]=yb(cg,{forceMount:void 0}),Cb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Fr(cg,t);return I.jsx(hk,{scope:t,forceMount:n,children:T.Children.map(r,u=>I.jsx(ao,{present:n||a.open,children:I.jsx(wd,{asChild:!0,container:o,children:u})}))})};Cb.displayName=cg;var Ju="DialogOverlay",Sb=T.forwardRef((e,t)=>{const n=bb(Ju,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Fr(Ju,e.__scopeDialog);return a.modal?I.jsx(ao,{present:r||a.open,children:I.jsx(pk,{...o,ref:t})}):null});Sb.displayName=Ju;var gk=wa("DialogOverlay.RemoveScroll"),pk=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Ju,n);return I.jsx(lg,{as:gk,allowPinchZoom:!0,shards:[o.contentRef],children:I.jsx(ze.div,{"data-state":dg(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",Ab=T.forwardRef((e,t)=>{const n=bb(to,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Fr(to,e.__scopeDialog);return I.jsx(ao,{present:r||a.open,children:a.modal?I.jsx(mk,{...o,ref:t}):I.jsx(wk,{...o,ref:t})})});Ab.displayName=to;var mk=T.forwardRef((e,t)=>{const n=Fr(to,e.__scopeDialog),r=T.useRef(null),o=gt(t,n.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return xb(a)},[]),I.jsx(_b,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Re(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&a.preventDefault()}),onFocusOutside:Re(e.onFocusOutside,a=>a.preventDefault())})}),wk=T.forwardRef((e,t)=>{const n=Fr(to,e.__scopeDialog),r=T.useRef(!1),o=T.useRef(!1);return I.jsx(_b,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(h=n.triggerRef.current)==null||h.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var m,p;(m=e.onInteractOutside)==null||m.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),_b=T.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=e,h=Fr(to,n),m=T.useRef(null),p=gt(t,m);return ub(),I.jsxs(I.Fragment,{children:[I.jsx(ag,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:I.jsx(ec,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":dg(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(xk,{titleId:h.titleId}),I.jsx(vk,{contentRef:m,descriptionId:h.descriptionId})]})]})}),ug="DialogTitle",Tb=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(ug,n);return I.jsx(ze.h2,{id:o.titleId,...r,ref:t})});Tb.displayName=ug;var Ib="DialogDescription",Rb=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Ib,n);return I.jsx(ze.p,{id:o.descriptionId,...r,ref:t})});Rb.displayName=Ib;var Nb="DialogClose",Ob=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fr(Nb,n);return I.jsx(ze.button,{type:"button",...r,ref:t,onClick:Re(e.onClick,()=>o.onOpenChange(!1))})});Ob.displayName=Nb;function dg(e){return e?"open":"closed"}var kb="DialogTitleWarning",[RP,Pb]=k_(kb,{contentName:to,titleName:ug,docsSlug:"dialog"}),xk=({titleId:e})=>{const t=Pb(kb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},yk="DialogDescriptionWarning",vk=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pb(yk).contentName}}.`;return T.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ek=vb,bk=Cb,Db=Sb,Mb=Ab,Lb=Tb,Bb=Rb,Ck=Ob;const Fb=Ek,Sk=bk,jb=T.forwardRef(({className:e,...t},n)=>I.jsx(Db,{ref:n,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jb.displayName=Db.displayName;const fg=T.forwardRef(({className:e,children:t,...n},r)=>I.jsxs(Sk,{children:[I.jsx(jb,{}),I.jsxs(Mb,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,I.jsxs(Ck,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[I.jsx(Av,{className:"h-4 w-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fg.displayName=Mb.displayName;const hg=({className:e,...t})=>I.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hg.displayName="DialogHeader";const gg=T.forwardRef(({className:e,...t},n)=>I.jsx(Lb,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));gg.displayName=Lb.displayName;const Ak=T.forwardRef(({className:e,...t},n)=>I.jsx(Bb,{ref:n,className:We("text-sm text-muted-foreground",e),...t}));Ak.displayName=Bb.displayName;function Ew(e,[t,n]){return Math.min(n,Math.max(t,e))}function _k(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tk=[" ","Enter","ArrowUp","ArrowDown"],Ik=[" ","Enter"],no="Select",[Ld,Bd,Rk]=T1(no),[Pa,NP]=gs(no,[Rk,Cd]),Fd=Cd(),[Nk,ws]=Pa(no),[Ok,kk]=Pa(no),Ub=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:u,defaultValue:h,onValueChange:m,dir:p,name:y,autoComplete:v,disabled:b,required:E,form:P}=e,S=Fd(t),[k,N]=T.useState(null),[A,_]=T.useState(null),[M,j]=T.useState(!1),V=sg(p),[F,$]=xa({prop:r,defaultProp:o??!1,onChange:a,caller:no}),[z,re]=xa({prop:u,defaultProp:h,onChange:m,caller:no}),ge=T.useRef(null),Z=k?P||!!k.closest("form"):!0,[fe,te]=T.useState(new Set),H=Array.from(fe).map(le=>le.props.value).join(";");return I.jsx(f8,{...S,children:I.jsxs(Nk,{required:E,scope:t,trigger:k,onTriggerChange:N,valueNode:A,onValueNodeChange:_,valueNodeHasChildren:M,onValueNodeHasChildrenChange:j,contentId:is(),value:z,onValueChange:re,open:F,onOpenChange:$,dir:V,triggerPointerDownPosRef:ge,disabled:b,children:[I.jsx(Ld.Provider,{scope:t,children:I.jsx(Ok,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(le=>{te(ie=>new Set(ie).add(le))},[]),onNativeOptionRemove:T.useCallback(le=>{te(ie=>{const Y=new Set(ie);return Y.delete(le),Y})},[]),children:n})}),Z?I.jsxs(uC,{"aria-hidden":!0,required:E,tabIndex:-1,name:y,autoComplete:v,value:z,onChange:le=>re(le.target.value),disabled:b,form:P,children:[z===void 0?I.jsx("option",{value:""}):null,Array.from(fe)]},H):null]})})};Ub.displayName=no;var Vb="SelectTrigger",Wb=T.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=Fd(n),u=ws(Vb,n),h=u.disabled||r,m=gt(t,u.onTriggerChange),p=Bd(n),y=T.useRef("touch"),[v,b,E]=fC(S=>{const k=p().filter(_=>!_.disabled),N=k.find(_=>_.value===u.value),A=hC(k,S,N);A!==void 0&&u.onValueChange(A.value)}),P=S=>{h||(u.onOpenChange(!0),E()),S&&(u.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return I.jsx(r2,{asChild:!0,...a,children:I.jsx(ze.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":dC(u.value)?"":void 0,...o,ref:m,onClick:Re(o.onClick,S=>{S.currentTarget.focus(),y.current!=="mouse"&&P(S)}),onPointerDown:Re(o.onPointerDown,S=>{y.current=S.pointerType;const k=S.target;k.hasPointerCapture(S.pointerId)&&k.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(P(S),S.preventDefault())}),onKeyDown:Re(o.onKeyDown,S=>{const k=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(k&&S.key===" ")&&Tk.includes(S.key)&&(P(),S.preventDefault())})})})});Wb.displayName=Vb;var zb="SelectValue",Hb=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:u="",...h}=e,m=ws(zb,n),{onValueNodeHasChildrenChange:p}=m,y=a!==void 0,v=gt(t,m.onValueNodeChange);return fn(()=>{p(y)},[p,y]),I.jsx(ze.span,{...h,ref:v,style:{pointerEvents:"none"},children:dC(m.value)?I.jsx(I.Fragment,{children:u}):a})});Hb.displayName=zb;var Pk="SelectIcon",$b=T.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return I.jsx(ze.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});$b.displayName=Pk;var Dk="SelectPortal",Gb=e=>I.jsx(wd,{asChild:!0,...e});Gb.displayName=Dk;var ro="SelectContent",Xb=T.forwardRef((e,t)=>{const n=ws(ro,e.__scopeSelect),[r,o]=T.useState();if(fn(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?oo.createPortal(I.jsx(Kb,{scope:e.__scopeSelect,children:I.jsx(Ld.Slot,{scope:e.__scopeSelect,children:I.jsx("div",{children:e.children})})}),a):null}return I.jsx(qb,{...e,ref:t})});Xb.displayName=ro;var Sr=10,[Kb,xs]=Pa(ro),Mk="SelectContentImpl",Lk=wa("SelectContent.RemoveScroll"),qb=T.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:b,collisionPadding:E,sticky:P,hideWhenDetached:S,avoidCollisions:k,...N}=e,A=ws(ro,n),[_,M]=T.useState(null),[j,V]=T.useState(null),F=gt(t,he=>M(he)),[$,z]=T.useState(null),[re,ge]=T.useState(null),Z=Bd(n),[fe,te]=T.useState(!1),H=T.useRef(!1);T.useEffect(()=>{if(_)return xb(_)},[_]),ub();const le=T.useCallback(he=>{const[Pe,...at]=Z().map(Ge=>Ge.ref.current),[$e]=at.slice(-1),Oe=document.activeElement;for(const Ge of he)if(Ge===Oe||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===Pe&&j&&(j.scrollTop=0),Ge===$e&&j&&(j.scrollTop=j.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Oe))return},[Z,j]),ie=T.useCallback(()=>le([$,_]),[le,$,_]);T.useEffect(()=>{fe&&ie()},[fe,ie]);const{onOpenChange:Y,triggerPointerDownPosRef:Q}=A;T.useEffect(()=>{if(_){let he={x:0,y:0};const Pe=$e=>{var Oe,Ge;he={x:Math.abs(Math.round($e.pageX)-(((Oe=Q.current)==null?void 0:Oe.x)??0)),y:Math.abs(Math.round($e.pageY)-(((Ge=Q.current)==null?void 0:Ge.y)??0))}},at=$e=>{he.x<=10&&he.y<=10?$e.preventDefault():_.contains($e.target)||Y(!1),document.removeEventListener("pointermove",Pe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",at,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",at,{capture:!0})}}},[_,Y,Q]),T.useEffect(()=>{const he=()=>Y(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[Y]);const[de,Ie]=fC(he=>{const Pe=Z().filter(Oe=>!Oe.disabled),at=Pe.find(Oe=>Oe.ref.current===document.activeElement),$e=hC(Pe,he,at);$e&&setTimeout(()=>$e.ref.current.focus())}),me=T.useCallback((he,Pe,at)=>{const $e=!H.current&&!at;(A.value!==void 0&&A.value===Pe||$e)&&(z(he),$e&&(H.current=!0))},[A.value]),Ne=T.useCallback(()=>_==null?void 0:_.focus(),[_]),be=T.useCallback((he,Pe,at)=>{const $e=!H.current&&!at;(A.value!==void 0&&A.value===Pe||$e)&&ge(he)},[A.value]),st=r==="popper"?A0:Yb,pe=st===A0?{side:h,sideOffset:m,align:p,alignOffset:y,arrowPadding:v,collisionBoundary:b,collisionPadding:E,sticky:P,hideWhenDetached:S,avoidCollisions:k}:{};return I.jsx(Kb,{scope:n,content:_,viewport:j,onViewportChange:V,itemRefCallback:me,selectedItem:$,onItemLeave:Ne,itemTextRefCallback:be,focusSelectedItem:ie,selectedItemText:re,position:r,isPositioned:fe,searchRef:de,children:I.jsx(lg,{as:Lk,allowPinchZoom:!0,children:I.jsx(ag,{asChild:!0,trapped:A.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Re(o,he=>{var Pe;(Pe=A.trigger)==null||Pe.focus({preventScroll:!0}),he.preventDefault()}),children:I.jsx(ec,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:I.jsx(st,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:he=>he.preventDefault(),...N,...pe,onPlaced:()=>te(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Re(N.onKeyDown,he=>{const Pe=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Pe&&he.key.length===1&&Ie(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let $e=Z().filter(Oe=>!Oe.disabled).map(Oe=>Oe.ref.current);if(["ArrowUp","End"].includes(he.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Oe=he.target,Ge=$e.indexOf(Oe);$e=$e.slice(Ge+1)}setTimeout(()=>le($e)),he.preventDefault()}})})})})})})});qb.displayName=Mk;var Bk="SelectItemAlignedPosition",Yb=T.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=ws(ro,n),u=xs(ro,n),[h,m]=T.useState(null),[p,y]=T.useState(null),v=gt(t,F=>y(F)),b=Bd(n),E=T.useRef(!1),P=T.useRef(!0),{viewport:S,selectedItem:k,selectedItemText:N,focusSelectedItem:A}=u,_=T.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&p&&S&&k&&N){const F=a.trigger.getBoundingClientRect(),$=p.getBoundingClientRect(),z=a.valueNode.getBoundingClientRect(),re=N.getBoundingClientRect();if(a.dir!=="rtl"){const Oe=re.left-$.left,Ge=z.left-Oe,De=F.left-Ge,Wt=F.width+De,Qt=Math.max(Wt,$.width),Nn=window.innerWidth-Sr,pt=Ew(Ge,[Sr,Math.max(Sr,Nn-Qt)]);h.style.minWidth=Wt+"px",h.style.left=pt+"px"}else{const Oe=$.right-re.right,Ge=window.innerWidth-z.right-Oe,De=window.innerWidth-F.right-Ge,Wt=F.width+De,Qt=Math.max(Wt,$.width),Nn=window.innerWidth-Sr,pt=Ew(Ge,[Sr,Math.max(Sr,Nn-Qt)]);h.style.minWidth=Wt+"px",h.style.right=pt+"px"}const ge=b(),Z=window.innerHeight-Sr*2,fe=S.scrollHeight,te=window.getComputedStyle(p),H=parseInt(te.borderTopWidth,10),le=parseInt(te.paddingTop,10),ie=parseInt(te.borderBottomWidth,10),Y=parseInt(te.paddingBottom,10),Q=H+le+fe+Y+ie,de=Math.min(k.offsetHeight*5,Q),Ie=window.getComputedStyle(S),me=parseInt(Ie.paddingTop,10),Ne=parseInt(Ie.paddingBottom,10),be=F.top+F.height/2-Sr,st=Z-be,pe=k.offsetHeight/2,he=k.offsetTop+pe,Pe=H+le+he,at=Q-Pe;if(Pe<=be){const Oe=ge.length>0&&k===ge[ge.length-1].ref.current;h.style.bottom="0px";const Ge=p.clientHeight-S.offsetTop-S.offsetHeight,De=Math.max(st,pe+(Oe?Ne:0)+Ge+ie),Wt=Pe+De;h.style.height=Wt+"px"}else{const Oe=ge.length>0&&k===ge[0].ref.current;h.style.top="0px";const De=Math.max(be,H+S.offsetTop+(Oe?me:0)+pe)+at;h.style.height=De+"px",S.scrollTop=Pe-be+S.offsetTop}h.style.margin=`${Sr}px 0`,h.style.minHeight=de+"px",h.style.maxHeight=Z+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[b,a.trigger,a.valueNode,h,p,S,k,N,a.dir,r]);fn(()=>_(),[_]);const[M,j]=T.useState();fn(()=>{p&&j(window.getComputedStyle(p).zIndex)},[p]);const V=T.useCallback(F=>{F&&P.current===!0&&(_(),A==null||A(),P.current=!1)},[_,A]);return I.jsx(jk,{scope:n,contentWrapper:h,shouldExpandOnScrollRef:E,onScrollButtonChange:V,children:I.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:I.jsx(ze.div,{...o,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Yb.displayName=Bk;var Fk="SelectPopperPosition",A0=T.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Sr,...a}=e,u=Fd(n);return I.jsx(i2,{...u,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});A0.displayName=Fk;var[jk,pg]=Pa(ro,{}),_0="SelectViewport",Zb=T.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=xs(_0,n),u=pg(_0,n),h=gt(t,a.onViewportChange),m=T.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),I.jsx(Ld.Slot,{scope:n,children:I.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Re(o.onScroll,p=>{const y=p.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&v){const E=Math.abs(m.current-y.scrollTop);if(E>0){const P=window.innerHeight-Sr*2,S=parseFloat(v.style.minHeight),k=parseFloat(v.style.height),N=Math.max(S,k);if(N<P){const A=N+E,_=Math.min(P,A),M=A-_;v.style.height=_+"px",v.style.bottom==="0px"&&(y.scrollTop=M>0?M:0,v.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});Zb.displayName=_0;var Qb="SelectGroup",[Uk,Vk]=Pa(Qb),Wk=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=is();return I.jsx(Uk,{scope:n,id:o,children:I.jsx(ze.div,{role:"group","aria-labelledby":o,...r,ref:t})})});Wk.displayName=Qb;var Jb="SelectLabel",eC=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Vk(Jb,n);return I.jsx(ze.div,{id:o.id,...r,ref:t})});eC.displayName=Jb;var ed="SelectItem",[zk,tC]=Pa(ed),nC=T.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...u}=e,h=ws(ed,n),m=xs(ed,n),p=h.value===r,[y,v]=T.useState(a??""),[b,E]=T.useState(!1),P=gt(t,A=>{var _;return(_=m.itemRefCallback)==null?void 0:_.call(m,A,r,o)}),S=is(),k=T.useRef("touch"),N=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(zk,{scope:n,value:r,disabled:o,textId:S,isSelected:p,onItemTextChange:T.useCallback(A=>{v(_=>_||((A==null?void 0:A.textContent)??"").trim())},[]),children:I.jsx(Ld.ItemSlot,{scope:n,value:r,disabled:o,textValue:y,children:I.jsx(ze.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:Re(u.onFocus,()=>E(!0)),onBlur:Re(u.onBlur,()=>E(!1)),onClick:Re(u.onClick,()=>{k.current!=="mouse"&&N()}),onPointerUp:Re(u.onPointerUp,()=>{k.current==="mouse"&&N()}),onPointerDown:Re(u.onPointerDown,A=>{k.current=A.pointerType}),onPointerMove:Re(u.onPointerMove,A=>{var _;k.current=A.pointerType,o?(_=m.onItemLeave)==null||_.call(m):k.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(u.onPointerLeave,A=>{var _;A.currentTarget===document.activeElement&&((_=m.onItemLeave)==null||_.call(m))}),onKeyDown:Re(u.onKeyDown,A=>{var M;((M=m.searchRef)==null?void 0:M.current)!==""&&A.key===" "||(Ik.includes(A.key)&&N(),A.key===" "&&A.preventDefault())})})})})});nC.displayName=ed;var ol="SelectItemText",rC=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,u=ws(ol,n),h=xs(ol,n),m=tC(ol,n),p=kk(ol,n),[y,v]=T.useState(null),b=gt(t,N=>v(N),m.onItemTextChange,N=>{var A;return(A=h.itemTextRefCallback)==null?void 0:A.call(h,N,m.value,m.disabled)}),E=y==null?void 0:y.textContent,P=T.useMemo(()=>I.jsx("option",{value:m.value,disabled:m.disabled,children:E},m.value),[m.disabled,m.value,E]),{onNativeOptionAdd:S,onNativeOptionRemove:k}=p;return fn(()=>(S(P),()=>k(P)),[S,k,P]),I.jsxs(I.Fragment,{children:[I.jsx(ze.span,{id:m.textId,...a,ref:b}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?oo.createPortal(a.children,u.valueNode):null]})});rC.displayName=ol;var iC="SelectItemIndicator",sC=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return tC(iC,n).isSelected?I.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});sC.displayName=iC;var T0="SelectScrollUpButton",oC=T.forwardRef((e,t)=>{const n=xs(T0,e.__scopeSelect),r=pg(T0,e.__scopeSelect),[o,a]=T.useState(!1),u=gt(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollTop>0;a(p)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?I.jsx(lC,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});oC.displayName=T0;var I0="SelectScrollDownButton",aC=T.forwardRef((e,t)=>{const n=xs(I0,e.__scopeSelect),r=pg(I0,e.__scopeSelect),[o,a]=T.useState(!1),u=gt(t,r.onScrollButtonChange);return fn(()=>{if(n.viewport&&n.isPositioned){let h=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;a(y)};const m=n.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[n.viewport,n.isPositioned]),o?I.jsx(lC,{...e,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=n;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});aC.displayName=I0;var lC=T.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=xs("SelectScrollButton",n),u=T.useRef(null),h=Bd(n),m=T.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return T.useEffect(()=>()=>m(),[m]),fn(()=>{var y;const p=h().find(v=>v.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[h]),I.jsx(ze.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Re(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Re(o.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Re(o.onPointerLeave,()=>{m()})})}),Hk="SelectSeparator",cC=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return I.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});cC.displayName=Hk;var R0="SelectArrow",$k=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Fd(n),a=ws(R0,n),u=xs(R0,n);return a.open&&u.position==="popper"?I.jsx(s2,{...o,...r,ref:t}):null});$k.displayName=R0;var Gk="SelectBubbleInput",uC=T.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=T.useRef(null),a=gt(r,o),u=_k(t);return T.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&y){const v=new Event("change",{bubbles:!0});y.call(h,t),h.dispatchEvent(v)}},[u,t]),I.jsx(ze.select,{...n,style:{...Zy,...n.style},ref:a,defaultValue:t})});uC.displayName=Gk;function dC(e){return e===""||e===void 0}function fC(e){const t=pr(e),n=T.useRef(""),r=T.useRef(0),o=T.useCallback(u=>{const h=n.current+u;t(h),function m(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(h)},[t]),a=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function hC(e,t,n){const o=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=Xk(e,Math.max(a,0));o.length===1&&(u=u.filter(p=>p!==n));const m=u.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==n?m:void 0}function Xk(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Kk=Ub,gC=Wb,qk=Hb,Yk=$b,Zk=Gb,pC=Xb,Qk=Zb,mC=eC,wC=nC,Jk=rC,eP=sC,xC=oC,yC=aC,vC=cC;const tP=Kk,nP=qk,EC=T.forwardRef(({className:e,children:t,...n},r)=>I.jsxs(gC,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,I.jsx(Yk,{asChild:!0,children:I.jsx(Ev,{className:"h-4 w-4 opacity-50"})})]}));EC.displayName=gC.displayName;const bC=T.forwardRef(({className:e,...t},n)=>I.jsx(xC,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:I.jsx(I3,{className:"h-4 w-4"})}));bC.displayName=xC.displayName;const CC=T.forwardRef(({className:e,...t},n)=>I.jsx(yC,{ref:n,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:I.jsx(Ev,{className:"h-4 w-4"})}));CC.displayName=yC.displayName;const SC=T.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>I.jsx(Zk,{children:I.jsxs(pC,{ref:o,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[I.jsx(bC,{}),I.jsx(Qk,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),I.jsx(CC,{})]})}));SC.displayName=pC.displayName;const rP=T.forwardRef(({className:e,...t},n)=>I.jsx(mC,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rP.displayName=mC.displayName;const AC=T.forwardRef(({className:e,children:t,...n},r)=>I.jsxs(wC,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[I.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:I.jsx(eP,{children:I.jsx(T3,{className:"h-4 w-4"})})}),I.jsx(Jk,{children:t})]}));AC.displayName=wC.displayName;const iP=T.forwardRef(({className:e,...t},n)=>I.jsx(vC,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));iP.displayName=vC.displayName;const sP=({open:e,onClose:t,categories:n,editingFridge:r})=>{const[o,a]=T.useState(!1),[u,h]=T.useState(""),[m,p]=T.useState(""),[y,v]=T.useState("");T.useEffect(()=>{r?(h(r.serial_number),p(r.store_name),v(r.category_id)):(h(""),p(""),v(""))},[r,e]);const b=async E=>{E.preventDefault(),a(!0);try{if(r){const{error:P}=await Wn.from("refrigerators").update({serial_number:u,store_name:m,category_id:y}).eq("id",r.id);if(P)throw P;Et.success("Refrigerator updated successfully")}else{const{error:P}=await Wn.from("refrigerators").insert({serial_number:u,store_name:m,category_id:y});if(P)throw P;Et.success("Refrigerator added successfully")}t()}catch(P){console.error("Error saving refrigerator:",P),P.code==="23505"?Et.error("Serial number already exists"):Et.error("Failed to save refrigerator")}finally{a(!1)}};return I.jsx(Fb,{open:e,onOpenChange:t,children:I.jsxs(fg,{children:[I.jsx(hg,{children:I.jsx(gg,{children:r?"Edit Refrigerator":"Add Refrigerator"})}),I.jsxs("form",{onSubmit:b,className:"space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"serial",children:"Serial Number"}),I.jsx(eo,{id:"serial",value:u,onChange:E=>h(E.target.value),placeholder:"FR123456789",required:!0,disabled:o})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"store",children:"Store Name"}),I.jsx(eo,{id:"store",value:m,onChange:E=>p(E.target.value),placeholder:"Kiosk 24",required:!0,disabled:o})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"category",children:"Category"}),I.jsxs(tP,{value:y,onValueChange:v,required:!0,disabled:o,children:[I.jsx(EC,{children:I.jsx(nP,{placeholder:"Select category"})}),I.jsx(SC,{children:n.map(E=>I.jsx(AC,{value:E.id,children:E.name},E.id))})]})]}),I.jsxs("div",{className:"flex gap-2 justify-end",children:[I.jsx(Zt,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancel"}),I.jsx(Zt,{type:"submit",disabled:o,children:o?I.jsxs(I.Fragment,{children:[I.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})]})})},mg=T.forwardRef(({className:e,...t},n)=>I.jsx("div",{className:"relative w-full overflow-auto",children:I.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",e),...t})}));mg.displayName="Table";const wg=T.forwardRef(({className:e,...t},n)=>I.jsx("thead",{ref:n,className:We("[&_tr]:border-b",e),...t}));wg.displayName="TableHeader";const xg=T.forwardRef(({className:e,...t},n)=>I.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",e),...t}));xg.displayName="TableBody";const oP=T.forwardRef(({className:e,...t},n)=>I.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oP.displayName="TableFooter";const Gl=T.forwardRef(({className:e,...t},n)=>I.jsx("tr",{ref:n,className:We("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Gl.displayName="TableRow";const Ki=T.forwardRef(({className:e,...t},n)=>I.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ki.displayName="TableHead";const qi=T.forwardRef(({className:e,...t},n)=>I.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qi.displayName="TableCell";const aP=T.forwardRef(({className:e,...t},n)=>I.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",e),...t}));aP.displayName="TableCaption";const lP=({refrigerators:e,loading:t,onEdit:n,onDelete:r})=>t?I.jsx(os,{className:"p-12 flex items-center justify-center",children:I.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?I.jsx(os,{className:"p-12",children:I.jsx("p",{className:"text-center text-muted-foreground",children:'No refrigerators added yet. Click "Add Refrigerator" to create one.'})}):I.jsx(os,{children:I.jsxs(mg,{children:[I.jsx(wg,{children:I.jsxs(Gl,{children:[I.jsx(Ki,{children:"Serial Number"}),I.jsx(Ki,{children:"Store Name"}),I.jsx(Ki,{children:"Category"}),I.jsx(Ki,{className:"text-right",children:"Actions"})]})}),I.jsx(xg,{children:e.map(o=>{var a;return I.jsxs(Gl,{children:[I.jsx(qi,{className:"font-mono text-sm",children:o.serial_number}),I.jsx(qi,{children:o.store_name}),I.jsx(qi,{children:I.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:(a=o.categories)==null?void 0:a.name})}),I.jsx(qi,{className:"text-right",children:I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsx(Zt,{variant:"ghost",size:"sm",onClick:()=>n(o),children:I.jsx(Cv,{className:"h-4 w-4"})}),I.jsx(Zt,{variant:"ghost",size:"sm",onClick:()=>r(o.id),children:I.jsx(Sv,{className:"h-4 w-4"})})]})})]},o.id)})})]})}),cP=()=>{const[e,t]=T.useState([]),[n,r]=T.useState([]),[o,a]=T.useState(!0),[u,h]=T.useState(!1),[m,p]=T.useState(null);T.useEffect(()=>{y()},[]);const y=async()=>{try{const[P,S]=await Promise.all([Wn.from("refrigerators").select(`
          *,
          categories (name)
        `).order("created_at",{ascending:!1}),Wn.from("categories").select("*").order("name")]);if(P.error)throw P.error;if(S.error)throw S.error;t(P.data||[]),r(S.data||[])}catch(P){console.error("Error fetching data:",P),Et.error("Failed to load data")}finally{a(!1)}},v=P=>{p(P),h(!0)},b=async P=>{if(confirm("Are you sure you want to delete this refrigerator?"))try{const{error:S}=await Wn.from("refrigerators").delete().eq("id",P);if(S)throw S;Et.success("Refrigerator deleted successfully"),y()}catch(S){console.error("Error deleting refrigerator:",S),Et.error("Failed to delete refrigerator")}},E=()=>{h(!1),p(null),y()};return I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("h2",{className:"text-xl font-semibold",children:"Refrigerators"}),I.jsxs(Zt,{onClick:()=>h(!0),className:"gap-2",children:[I.jsx(bv,{className:"h-4 w-4"}),"Add Refrigerator"]})]}),I.jsx(lP,{refrigerators:e,loading:o,onEdit:v,onDelete:b}),I.jsx(sP,{open:u,onClose:E,categories:n,editingFridge:m})]})},uP=({open:e,onClose:t,editingCategory:n})=>{const[r,o]=T.useState(!1),[a,u]=T.useState(""),[h,m]=T.useState("");T.useEffect(()=>{n?(u(n.name),m(n.planogram_url)):(u(""),m(""))},[n,e]);const p=async y=>{y.preventDefault(),o(!0);try{if(n){const{error:v}=await Wn.from("categories").update({name:a,planogram_url:h}).eq("id",n.id);if(v)throw v;Et.success("Category updated successfully")}else{const{error:v}=await Wn.from("categories").insert({name:a,planogram_url:h});if(v)throw v;Et.success("Category added successfully")}t()}catch(v){console.error("Error saving category:",v),v.code==="23505"?Et.error("Category name already exists"):Et.error("Failed to save category")}finally{o(!1)}};return I.jsx(Fb,{open:e,onOpenChange:t,children:I.jsxs(fg,{children:[I.jsx(hg,{children:I.jsx(gg,{children:n?"Edit Category":"Add Category"})}),I.jsxs("form",{onSubmit:p,className:"space-y-4",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"name",children:"Category Name"}),I.jsx(eo,{id:"name",value:a,onChange:y=>u(y.target.value),placeholder:"Supermarket",required:!0,disabled:r})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(ss,{htmlFor:"url",children:"Planogram Image URL"}),I.jsx(eo,{id:"url",type:"url",value:h,onChange:y=>m(y.target.value),placeholder:"https://example.com/image.png",required:!0,disabled:r})]}),I.jsxs("div",{className:"flex gap-2 justify-end",children:[I.jsx(Zt,{type:"button",variant:"outline",onClick:t,disabled:r,children:"Cancel"}),I.jsx(Zt,{type:"submit",disabled:r,children:r?I.jsxs(I.Fragment,{children:[I.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})]})})},dP=({categories:e,loading:t,onEdit:n,onDelete:r})=>t?I.jsx(os,{className:"p-12 flex items-center justify-center",children:I.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?I.jsx(os,{className:"p-12",children:I.jsx("p",{className:"text-center text-muted-foreground",children:'No categories added yet. Click "Add Category" to create one.'})}):I.jsx(os,{children:I.jsxs(mg,{children:[I.jsx(wg,{children:I.jsxs(Gl,{children:[I.jsx(Ki,{children:"Name"}),I.jsx(Ki,{children:"Planogram Preview"}),I.jsx(Ki,{className:"text-right",children:"Actions"})]})}),I.jsx(xg,{children:e.map(o=>I.jsxs(Gl,{children:[I.jsx(qi,{className:"font-medium",children:o.name}),I.jsx(qi,{children:I.jsx("img",{src:o.planogram_url,alt:o.name,className:"h-16 w-24 object-cover rounded",onError:a=>{a.currentTarget.src="/placeholder.svg"}})}),I.jsx(qi,{className:"text-right",children:I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsx(Zt,{variant:"ghost",size:"sm",onClick:()=>n(o),children:I.jsx(Cv,{className:"h-4 w-4"})}),I.jsx(Zt,{variant:"ghost",size:"sm",onClick:()=>r(o.id),children:I.jsx(Sv,{className:"h-4 w-4"})})]})})]},o.id))})]})}),fP=()=>{const[e,t]=T.useState([]),[n,r]=T.useState(!0),[o,a]=T.useState(!1),[u,h]=T.useState(null);T.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:b,error:E}=await Wn.from("categories").select("*").order("name");if(E)throw E;t(b||[])}catch(b){console.error("Error fetching categories:",b),Et.error("Failed to load categories")}finally{r(!1)}},p=b=>{h(b),a(!0)},y=async b=>{if(confirm("Are you sure you want to delete this category?"))try{const{error:E}=await Wn.from("categories").delete().eq("id",b);if(E)throw E;Et.success("Category deleted successfully"),m()}catch(E){console.error("Error deleting category:",E),E.code==="23503"?Et.error("Cannot delete category: refrigerators are using it"):Et.error("Failed to delete category")}},v=()=>{a(!1),h(null),m()};return I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("h2",{className:"text-xl font-semibold",children:"Categories"}),I.jsxs(Zt,{onClick:()=>a(!0),className:"gap-2",children:[I.jsx(bv,{className:"h-4 w-4"}),"Add Category"]})]}),I.jsx(dP,{categories:e,loading:n,onEdit:p,onDelete:y}),I.jsx(uP,{open:o,onClose:v,editingCategory:u})]})},hP=()=>{const e=rc(),[t,n]=T.useState(!0);T.useEffect(()=>{r()},[]);const r=async()=>{const{data:{session:a}}=await Wn.auth.getSession();a||e("/admin"),n(!1)},o=async()=>{await Wn.auth.signOut(),Et.success("Signed out successfully"),e("/")};return t?I.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:I.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):I.jsxs("div",{className:"min-h-screen bg-background",children:[I.jsx("header",{className:"border-b border-border bg-card",children:I.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[I.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),I.jsxs(Zt,{variant:"outline",onClick:o,className:"gap-2",children:[I.jsx(R3,{className:"h-4 w-4"}),"Sign Out"]})]})}),I.jsx("main",{className:"max-w-7xl mx-auto p-6",children:I.jsxs(y6,{defaultValue:"refrigerators",className:"space-y-6",children:[I.jsxs(lb,{className:"grid w-full max-w-md grid-cols-2",children:[I.jsx(b0,{value:"refrigerators",children:"Refrigerators"}),I.jsx(b0,{value:"categories",children:"Categories"})]}),I.jsx(C0,{value:"refrigerators",children:I.jsx(cP,{})}),I.jsx(C0,{value:"categories",children:I.jsx(fP,{})})]})})]})},gP=()=>{const e=X1();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),I.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),I.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),I.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},pP=new e4,mP=()=>I.jsx(n4,{client:pP,children:I.jsx(N8,{children:I.jsxs(Y4,{children:[I.jsx(fT,{}),I.jsx(HT,{}),I.jsxs(X4,{children:[I.jsx(Os,{path:"/",element:I.jsx(Q4,{})}),I.jsx(Os,{path:"/scanner",element:I.jsx(SR,{})}),I.jsx(Os,{path:"/planogram/:serialNumber",element:I.jsx(QO,{})}),I.jsx(Os,{path:"/admin",element:I.jsx(n6,{})}),I.jsx(Os,{path:"/admin/dashboard",element:I.jsx(hP,{})}),I.jsx(Os,{path:"*",element:I.jsx(gP,{})})]})]})})});Hy(document.getElementById("root")).render(I.jsx(mP,{}));
